id: urn:agent:genesis:extraction:1
name: Extraction Agent
fullyQualifiedName: genesis.autonomize.ai.extraction
description: Extract structured information from documents including patient, provider, and procedure details
domain: autonomize.ai
subDomain: data-extraction
version: 1.0.0
environment: production
agentOwner: extraction@autonomize.ai
agentOwnerDisplayName: Data Extraction Team
email: extraction@autonomize.ai
status: ACTIVE
variables:
- name: llm_provider
  type: string
  required: false
  default: Azure OpenAI
  description: LLM provider (AzureOpenAI, OpenAI, Anthropic, etc.)
- name: model_name
  type: string
  required: false
  default: gpt-4
  description: Model name to use for extraction
- name: temperature
  type: float
  required: false
  default: 0.1
  description: Temperature for model generation
- name: extraction_confidence_threshold
  type: float
  required: false
  default: 0.8
  description: Minimum confidence for extracted fields
- name: enable_field_validation
  type: boolean
  required: false
  default: true
  description: Validate extracted fields (NPI, dates, etc.)
tags:
- UM
- extraction
- data-processing
- structured-data
- healthcare
- prior-authorization
kind: Single Agent
agentGoal: Extract structured information from scanned or typed documents, including patient, provider, and procedure details,
  and map them to a standardized schema
targetUser: internal
valueGeneration: ProcessAutomation
interactionMode: RequestResponse
runMode: RealTime
agencyLevel: ModelDrivenWorkflow
toolsUse: true
learningCapability: None
sampleInput:
  ocr_text: 'Patient Name: John Doe

    DOB: 01/15/1960

    Member ID: M123456789

    Group: G98765

    Provider: Jane Smith MD

    NPI: 1234567890

    Service: MRI Brain

    CPT: 70553

    ICD-10: R51.9

    Date of Service: 03/15/2024

    '
  document_images:
  - page1.png
  - page2.png
components:
- id: extraction-input
  name: Document Input
  kind: Data
  type: genesis:chat_input
  description: OCR text and images for data extraction
  provides:
  - useAs: input
    in: extraction-agent
    description: Document content to extract from
- id: extraction-agent-prompt
  name: Agent Instructions
  kind: Prompt
  type: genesis:prompt_template
  description: Prompt template for agent instructions
  config:
    saved_prompt: extraction_prompt_v1
    template: 'You are a healthcare data extraction specialist. Extract structured information from the provided document
      with high accuracy.


      REQUIRED FIELDS TO EXTRACT:


      PATIENT INFORMATION:

      - Full name (first, middle, last)

      - Date of birth

      - Gender

      - Member ID / Insurance ID

      - Group number

      - Phone number

      - Address (street, city, state, zip)


      PROVIDER INFORMATION:

      - Requesting provider name

      - Requesting provider NPI

      - Referring provider name (if different)

      - Referring provider NPI

      - Treating/servicing provider name

      - Treating/servicing provider NPI

      - Facility/practice name

      - Provider phone and fax


      PROCEDURE/SERVICE INFORMATION:

      - Service requested

      - CPT/HCPCS codes

      - ICD-10 diagnosis codes

      - Date of service (requested)

      - Quantity/units requested

      - Place of service

      - Service location/facility


      CLINICAL INFORMATION:

      - Primary diagnosis

      - Secondary diagnoses

      - Clinical history summary

      - Previous treatments

      - Medical necessity justification


      Use the Form Recognizer tool for complex document layouts.

      Use the Data Transformer to standardize extracted data.


      Output as structured JSON with confidence scores for each field.

      Mark missing fields as null with reason.'
  provides:
  - useAs: system_prompt
    in: extraction-agent
    description: System prompt for the agent
- id: extraction-agent
  name: Data Extraction Agent
  kind: Agent
  type: genesis:agent
  description: Extracts structured data from healthcare documents
  config:
    agent_llm: Azure OpenAI
    model_name: gpt-4
    temperature: 0.1
    max_tokens: 2500
    handle_parsing_errors: true
    max_iterations: 10
    verbose: true
  provides:
  - useAs: input
    in: extraction-output
    description: Extracted structured data
- id: form-recognizer
  name: Form Recognizer
  kind: Tool
  type: genesis:form_recognizer
  description: Extract data from forms and tables
  asTools: true
  config:
    model_type: prebuilt-healthInsuranceCard.us
    extract_tables: true
    extract_key_value_pairs: true
  provides:
  - useAs: tools
    in: extraction-agent
    description: Form extraction tool
- id: data-transformer
  name: Data Transformer
  kind: Tool
  type: genesis:data_transformer
  description: Transform and standardize extracted data
  asTools: true
  config:
    transformations:
    - normalize_dates
    - validate_npi
    - standardize_addresses
    - format_phone_numbers
  provides:
  - useAs: tools
    in: extraction-agent
    description: Data standardization tool
- id: extraction-output
  name: Extracted Data
  kind: Data
  type: genesis:chat_output
  description: Display extracted structured data
  config:
    should_store_message: true
outputs:
- patient_info
- provider_info
- procedure_info
- clinical_info
- extraction_confidence
- missing_fields
kpis:
- name: Field Extraction Accuracy
  category: Quality
  valueType: percentage
  target: 95
  unit: '%'
  description: Percentage of correctly extracted fields
- name: Coverage of Required Fields
  category: Quality
  valueType: percentage
  target: 90
  unit: '%'
  description: Percentage of required fields successfully extracted
- name: Extraction Latency
  category: Performance
  valueType: numeric
  target: 3000
  unit: ms
  description: Average time to extract all fields from a document
- name: NPI Validation Success
  category: Quality
  valueType: percentage
  target: 98
  unit: '%'
  description: Percentage of correctly validated NPI numbers
securityInfo:
  visibility: Private
  confidentiality: High
  gdprSensitive: true
