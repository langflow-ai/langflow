<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-components/memories" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Memories | Langflow Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://langflow-ai.github.io/components/memories"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Memories | Langflow Documentation"><meta data-rh="true" name="description" content="This page may contain outdated information. It will be updated as soon as possible."><meta data-rh="true" property="og:description" content="This page may contain outdated information. It will be updated as soon as possible."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://langflow-ai.github.io/components/memories"><link data-rh="true" rel="alternate" href="https://langflow-ai.github.io/components/memories" hreflang="en"><link data-rh="true" rel="alternate" href="https://langflow-ai.github.io/components/memories" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XHC7G628ZP"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XHC7G628ZP",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.9e9b53af.css">
<script src="/assets/js/runtime~main.43fa1422.js" defer="defer"></script>
<script src="/assets/js/main.eda970af.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/chain.png" alt="Langflow" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/chain.png" alt="Langflow" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Langflow</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/langflow-ai/langflow" target="_blank" class="navbar__item navbar__link header-github-link"></a><a href="https://twitter.com/langflow_ai" target="_blank" class="navbar__item navbar__link header-twitter-link"></a><a href="https://discord.gg/EqksyE2EX9" target="_blank" class="navbar__item navbar__link header-discord-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Memories</h1>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>This page may contain outdated information. It will be updated as soon as possible.</p></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37">üöß</span>ZONE UNDER CONSTRUCTION</div><div class="admonitionContent_BuS1"><p></p><p>Thanks for your patience as we improve our documentation‚Äîit might have some
rough edges. Share your feedback or report issues to help us enhance it!
üõ†Ô∏èüìù</p><p></p></div></div>
<p>Memory is a concept in chat-based applications that allows the system to remember previous interactions. This capability helps maintain the context of the conversation and enables the system to understand new messages in light of past messages.</p>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="messagehistory">MessageHistory<a class="hash-link" aria-label="Direct link to MessageHistory" title="Direct link to MessageHistory" href="/components/memories#messagehistory">‚Äã</a></h3>
<p>This component retrieves stored messages using various filters such as sender type, sender name, session ID, and the specific file path where messages are stored. It offers flexible retrieval of chat history, providing insights into past interactions.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><strong>sender_type</strong> (optional): Specifies the sender&#x27;s type. Options include <code>&quot;Machine&quot;</code>, <code>&quot;User&quot;</code>, or <code>&quot;Machine and User&quot;</code>. Filters messages by the sender type.</li>
<li><strong>sender_name</strong> (optional): Specifies the sender&#x27;s name. Filters messages by the sender&#x27;s name.</li>
<li><strong>session_id</strong> (optional): Specifies the session ID of the chat history. Filters messages by session.</li>
<li><strong>number_of_messages</strong>: Specifies the number of messages to retrieve. Defaults to <code>5</code>. Determines the number of recent messages from the chat history to fetch.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Note</div><div class="admonitionContent_BuS1"><p></p><p>The component retrieves messages based on the provided criteria, including
the specific file path for stored messages. If no specific criteria are
provided, it returns the most recent messages up to the specified limit.
This component can be used to review past interactions and analyze
conversation flows.</p><p></p></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conversationbuffermemory">ConversationBufferMemory<a class="hash-link" aria-label="Direct link to ConversationBufferMemory" title="Direct link to ConversationBufferMemory" href="/components/memories#conversationbuffermemory">‚Äã</a></h3>
<p>The <code>ConversationBufferMemory</code> component stores the last few inputs and outputs of a conversation.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><strong>input_key</strong>: Specifies the key under which the user input will be stored in the conversation memory.</li>
<li><strong>memory_key</strong>: Specifies the prompt variable name where the memory will store and retrieve chat messages. Defaults to <code>chat_history</code>.</li>
<li><strong>output_key</strong>: Specifies the key under which the generated response will be stored.</li>
<li><strong>return_messages</strong>: Determines whether the history should be returned as a string or as a list of messages. The default is <code>False</code>.</li>
</ul>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conversationbufferwindowmemory">ConversationBufferWindowMemory<a class="hash-link" aria-label="Direct link to ConversationBufferWindowMemory" title="Direct link to ConversationBufferWindowMemory" href="/components/memories#conversationbufferwindowmemory">‚Äã</a></h3>
<p><code>ConversationBufferWindowMemory</code> is a variant of the <code>ConversationBufferMemory</code> that keeps only the last K interactions in memory. It&#x27;s useful for maintaining a sliding window of recent interactions without letting the buffer get too large.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><strong>input_key</strong>: Specifies the keys in the memory object where input messages are stored.</li>
<li><strong>memory_key</strong>: Specifies the prompt variable name for storing and retrieving chat messages. Defaults to <code>chat_history</code>.</li>
<li><strong>k</strong>: Specifies the number of interactions or messages to be stored in the conversation buffer.</li>
<li><strong>output_key</strong>: Specifies the key under which the generated response will be stored.</li>
<li><strong>return_messages</strong>: Determines whether the history should be returned as a string or as a list of messages. The default is <code>False</code>.</li>
</ul>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conversationentitymemory">ConversationEntityMemory<a class="hash-link" aria-label="Direct link to ConversationEntityMemory" title="Direct link to ConversationEntityMemory" href="/components/memories#conversationentitymemory">‚Äã</a></h3>
<p>The <code>ConversationEntityMemory</code> component uses a key-value store to manage entities mentioned in conversations. This structure enhances the storage and retrieval of information about specific entities.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><strong>entity_store</strong>: A structure that stores information about entities mentioned in a conversation.</li>
<li><strong>LLM</strong>: Specifies the language model used in the <code>ConversationEntityMemory</code>.</li>
<li><strong>chat_history_key</strong>: A unique identifier for the chat history data associated with a particular entity. This key helps organize and access chat history data for each entity within the memory. Defaults to <code>history</code>.</li>
<li><strong>input_key</strong>: Identifies where input messages are stored in the memory object, allowing for their retrieval and manipulation.</li>
<li><strong>k</strong>: Specifies the maximum number of entities that can be stored and retrieved from the memory. Defaults to <code>10</code>.</li>
<li><strong>output_key</strong>: Identifies the key under which the generated response is stored, enabling retrieval using this key.</li>
<li><strong>return_messages</strong>: Controls whether the history is returned as a string or as a list of messages. Defaults to <code>False</code>.</li>
</ul>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conversationkgmemory">ConversationKGMemory<a class="hash-link" aria-label="Direct link to ConversationKGMemory" title="Direct link to ConversationKGMemory" href="/components/memories#conversationkgmemory">‚Äã</a></h3>
<p>The <code>ConversationKGMemory</code> utilizes a knowledge graph to enhance memory capabilities. It extracts entities and knowledge triplets from new messages, using previous messages as context.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><strong>LLM</strong>: Specifies the language model used in the <code>ConversationKGMemory</code>.</li>
<li><strong>input_key</strong>: Identifies where input messages are stored in the memory object, facilitating their retrieval and manipulation.</li>
<li><strong>k</strong>: Indicates the number of previous conversation turns stored in memory, allowing the model to utilize information from these turns. Defaults to <code>10</code>.</li>
<li><strong>memory_key</strong>: Specifies the prompt variable name where the memory stores and retrieves chat messages. Defaults to <code>chat_history</code>.</li>
<li><strong>output_key</strong>: Identifies the key under which the generated response</li>
</ul>
<p>is stored, enabling retrieval using this key.</p>
<ul>
<li><strong>return_messages</strong>: Controls whether the history is returned as a string or as a list of messages. Defaults to <code>False</code>.</li>
</ul>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conversationsummarymemory">ConversationSummaryMemory<a class="hash-link" aria-label="Direct link to ConversationSummaryMemory" title="Direct link to ConversationSummaryMemory" href="/components/memories#conversationsummarymemory">‚Äã</a></h3>
<p>The <code>ConversationSummaryMemory</code> summarizes conversations over time, condensing information and storing it efficiently. It&#x27;s particularly useful for long conversations.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><strong>LLM</strong>: Specifies the language model used in the <code>ConversationSummaryMemory</code>.</li>
<li><strong>input_key</strong>: Identifies where input messages are stored in the memory object, facilitating their retrieval and manipulation.</li>
<li><strong>memory_key</strong>: Specifies the prompt variable name where the memory stores and retrieves chat messages. Defaults to <code>chat_history</code>.</li>
<li><strong>output_key</strong>: Identifies the key under which the generated response is stored, enabling retrieval using this key.</li>
<li><strong>return_messages</strong>: Controls whether the history is returned as a string or as a list of messages. Defaults to <code>False</code>.</li>
</ul>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="postgreschatmessagehistory">PostgresChatMessageHistory<a class="hash-link" aria-label="Direct link to PostgresChatMessageHistory" title="Direct link to PostgresChatMessageHistory" href="/components/memories#postgreschatmessagehistory">‚Äã</a></h3>
<p>The <code>PostgresChatMessageHistory</code> component uses a PostgreSQL database to store and retrieve chat message history.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><strong>connection_string</strong>: Specifies the details needed to connect to the PostgreSQL database, including username, password, host, port, and database name. Defaults to <code>postgresql://postgres:mypassword@localhost/chat_history</code>.</li>
<li><strong>session_id</strong>: A unique identifier used to link chat message history with a specific session or conversation.</li>
<li><strong>table_name</strong>: The name of the PostgreSQL database table where chat message history is stored. Defaults to <code>message_store</code>.</li>
</ul>
<hr>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="vectorretrievermemory">VectorRetrieverMemory<a class="hash-link" aria-label="Direct link to VectorRetrieverMemory" title="Direct link to VectorRetrieverMemory" href="/components/memories#vectorretrievermemory">‚Äã</a></h3>
<p>The <code>VectorRetrieverMemory</code> retrieves vectors based on queries, facilitating vector-based searches and retrievals.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><strong>Retriever</strong>: The tool used to fetch documents.</li>
<li><strong>input_key</strong>: Identifies where input messages are stored in the memory object, facilitating their retrieval and manipulation.</li>
<li><strong>memory_key</strong>: Specifies the prompt variable name where the memory stores and retrieves chat messages. Defaults to <code>chat_history</code>.</li>
<li><strong>return_messages</strong>: Controls whether the history is returned as a string or as a list of messages. Defaults to <code>False</code>.</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/components/memories#messagehistory">MessageHistory</a></li><li><a class="table-of-contents__link toc-highlight" href="/components/memories#conversationbuffermemory">ConversationBufferMemory</a></li><li><a class="table-of-contents__link toc-highlight" href="/components/memories#conversationbufferwindowmemory">ConversationBufferWindowMemory</a></li><li><a class="table-of-contents__link toc-highlight" href="/components/memories#conversationentitymemory">ConversationEntityMemory</a></li><li><a class="table-of-contents__link toc-highlight" href="/components/memories#conversationkgmemory">ConversationKGMemory</a></li><li><a class="table-of-contents__link toc-highlight" href="/components/memories#conversationsummarymemory">ConversationSummaryMemory</a></li><li><a class="table-of-contents__link toc-highlight" href="/components/memories#postgreschatmessagehistory">PostgresChatMessageHistory</a></li><li><a class="table-of-contents__link toc-highlight" href="/components/memories#vectorretrievermemory">VectorRetrieverMemory</a></li></ul></div></div></div></div></main></div></div></div><div class="ms-fixed ms-bottom-4 ms-right-8 ms-z-[100] ms-flex ms-flex-col ms-items-end hover:ms-cursor-pointer"><div class="ms-relative ms-mb-4"><div style="background-color:#f6f6f6" class="ms-absolute -ms-bottom-1 ms-right-6 -ms-z-10 ms-h-4 ms-w-4 ms-rotate-45"></div><div style="background-color:#f6f6f6" class="ms-z-10 ms-flex ms-items-center ms-justify-center ms-rounded-lg ms-px-3 ms-py-2"><p style="color:#000000;margin:0" class="ms-text-sm">Hi, how can I help you?</p></div></div><div style="background-color:#f6f6f6" class="ms-flex ms-h-16 ms-w-16 ms-flex-col ms-items-center ms-justify-center ms-self-end ms-rounded-full ms-p-2 ms-transition"><div class="ms-rotate-0 ms-flex ms-h-full ms-w-full ms-transform ms-cursor-pointer ms-items-center ms-justify-center ms-rounded-full ms-transition-all ms-delay-75 ms-duration-100 ms-ease-in-out"><div style="color:#000000;font-size:22px;width:48px;height:48px;margin:0px;padding:0px;display:flex;align-items:center;justify-content:center;text-align:center"><img src="/img/chain.png" style="width:40px"></div></div></div><div></div></div></div>
</body>
</html>