name: Healthcare Compliance Agent
description: HIPAA-compliant healthcare workflow for patient data processing
domain: healthcare
version: 1.0.0

# Healthcare-compliant agent workflow
components:
  # Main healthcare agent
  - type: Agent
    id: healthcare_agent
    config:
      model_provider: OpenAI
      model: gpt-4
      instructions: >
        You are a HIPAA-compliant healthcare assistant designed to help
        with medical data processing while maintaining strict patient privacy.
        Always ensure PHI is handled according to HIPAA regulations.
        Never store or transmit unencrypted patient data.
      temperature: 0.2  # Low temperature for consistent, reliable responses
      max_tokens: 2048
      system_message: >
        HIPAA Compliance Notice: This system processes protected health information (PHI).
        Ensure all interactions comply with HIPAA privacy and security rules.
      healthcare_mode: true
      phi_protection: enabled

  # EHR data connector (HIPAA compliant)
  - type: EHRConnector
    id: ehr_system
    config:
      endpoint: "${EHR_ENDPOINT}"
      authentication: "oauth2"
      encryption: "aes-256"
      audit_logging: true
      compliance_level: "hipaa"
    provides:
      - useAs: tools
        in: healthcare_agent

  # Eligibility verification
  - type: EligibilityConnector
    id: eligibility_check
    config:
      payer_endpoint: "${PAYER_API_ENDPOINT}"
      compliance_mode: "hipaa"
      data_masking: true
      audit_trail: true
    provides:
      - useAs: tools
        in: healthcare_agent

  # Claims processing
  - type: ClaimsConnector
    id: claims_processor
    config:
      clearinghouse_endpoint: "${CLEARINGHOUSE_API}"
      format: "837"
      encryption: "end-to-end"
      compliance_validation: true
    provides:
      - useAs: tools
        in: healthcare_agent

  # Medical data standardization
  - type: MedicalDataStandardizerConnector
    id: data_standardizer
    config:
      standards: ["HL7-FHIR", "ICD-10", "CPT"]
      validation_rules: "strict"
      phi_anonymization: true
    provides:
      - useAs: tools
        in: healthcare_agent

  # Pharmacy benefits
  - type: PharmacyConnector
    id: pharmacy_benefits
    config:
      pbm_endpoint: "${PBM_API_ENDPOINT}"
      formulary_check: true
      prior_auth_integration: true
      hipaa_compliant: true
    provides:
      - useAs: tools
        in: healthcare_agent

  # Secure memory for session data
  - type: MemoryComponent
    id: secure_memory
    config:
      encryption: "aes-256"
      ttl: 3600  # 1 hour session timeout
      phi_protection: true
      audit_logging: true
    provides:
      - useAs: memory
        in: healthcare_agent

# Healthcare compliance validation
validation:
  target_automation: 75
  healthcare_compliant: true
  hipaa_required: true
  phi_protection: true
  expected_components: 7
  expected_edges: 6
  compliance_checks:
    - encryption: required
    - audit_logging: required
    - access_controls: required
    - data_masking: required

# Security requirements
security:
  encryption_at_rest: true
  encryption_in_transit: true
  access_controls: "rbac"
  audit_logging: "comprehensive"
  phi_detection: true
  data_anonymization: true