id: urn:agent:genesis:patient_experience:appointment_concierge:1
name: Appointment Concierge Agent
fullyQualifiedName: genesis.autonomize.ai.appointment_concierge
description: Automates appointment scheduling using EHR calendars, insurance eligibility verification, and preferred location matching with automated SMS and email communications
domain: autonomize.ai
subDomain: patient-experience
version: 1.0.0
environment: production
agentOwner: patient-experience@autonomize.ai
agentOwnerDisplayName: Patient Experience Team
email: patient-experience@autonomize.ai
status: ACTIVE

variables:
- name: llm_provider
  type: string
  required: false
  default: Azure OpenAI
  description: LLM provider for all agents
- name: model_name
  type: string
  required: false
  default: gpt-4
  description: Model name for agent processing
- name: temperature
  type: float
  required: false
  default: 0.1
  description: Temperature for consistent decision making
- name: eligibility_timeout
  type: integer
  required: false
  default: 30000
  description: Timeout for insurance eligibility checks (ms)
- name: appointment_search_days
  type: integer
  required: false
  default: 30
  description: Number of days to search for available appointments
- name: reminder_advance_hours
  type: integer
  required: false
  default: 24
  description: Hours before appointment to send reminders

tags:
- patient-experience
- appointment-scheduling
- multi-agent
- automation
- healthcare
- communication

kind: Multi Agent
agentGoal: Automate end-to-end appointment scheduling process including insurance eligibility verification, calendar coordination, and patient communications to improve patient satisfaction and reduce no-shows
targetUser: internal
valueGeneration: ProcessAutomation
interactionMode: RequestResponse
runMode: RealTime
agencyLevel: KnowledgeDrivenWorkflow
toolsUse: true
learningCapability: None

reusability:
  asTools: true
  standalone: true
  provides:
    toolName: AppointmentConcierge
    toolDescription: Complete appointment scheduling automation with eligibility verification
    inputSchema:
      type: object
      properties:
        patient_id:
          type: string
          description: Patient identifier
        appointment_type:
          type: string
          description: Type of appointment requested
        preferred_date:
          type: string
          description: Preferred appointment date (YYYY-MM-DD)
        preferred_time:
          type: string
          description: Preferred time range (morning/afternoon/evening)
        preferred_location:
          type: string
          description: Preferred clinic location
        insurance_info:
          type: object
          description: Patient insurance information
        contact_preferences:
          type: object
          description: SMS and email preferences
      required:
      - patient_id
      - appointment_type
      - insurance_info
    outputSchema:
      type: object
      properties:
        appointment_scheduled:
          type: boolean
        appointment_details:
          type: object
        eligibility_status:
          type: object
        communications_sent:
          type: array
        next_steps:
          type: array
  dependencies: []

sampleInput:
  patient_id: "P123456789"
  appointment_type: "Primary Care Consultation"
  preferred_date: "2024-11-15"
  preferred_time: "morning"
  preferred_location: "Downtown Clinic"
  insurance_info:
    provider: "Blue Cross Blue Shield"
    member_id: "BC123456789"
    group_number: "GRP001"
  contact_preferences:
    sms_enabled: true
    email_enabled: true
    phone_number: "+1-555-0123"
    email: "patient@example.com"

components:
- id: appointment-request-input
  name: Appointment Request Input
  kind: Data
  type: genesis:chat_input
  description: Patient appointment request with preferences and insurance information
  provides:
  - useAs: input
    in: eligibility-verification-task
    description: Send request to eligibility verification workflow

- id: eligibility-verification-task
  name: Insurance Eligibility Verification Task
  kind: Task
  type: genesis:crewai_sequential_task
  description: Task for verifying patient insurance eligibility
  config:
    description: |
      Verify patient insurance eligibility for the requested appointment type.

      Steps:
      1. Extract insurance information from request
      2. Use insurance verification tool to check coverage
      3. Verify benefits for specific appointment type
      4. Check for any prior authorization requirements
      5. Document eligibility status and coverage details
    expected_output: |
      Insurance eligibility verification report including:
      - Eligibility status (active/inactive)
      - Coverage details for appointment type
      - Copay/deductible information
      - Prior authorization requirements
      - Effective dates and limitations
  provides:
  - useAs: input
    in: appointment-scheduling-task
    description: Pass eligibility results to scheduling

- id: eligibility-agent
  name: Insurance Eligibility Agent
  kind: Agent
  type: genesis:crewai_agent
  description: Specialist agent for insurance eligibility verification
  config:
    role: Insurance Eligibility Specialist
    goal: Verify patient insurance coverage and benefits for requested appointments
    backstory: |
      You are an experienced insurance eligibility specialist with deep knowledge of
      healthcare benefits verification. You excel at interpreting insurance coverage
      details and identifying potential coverage issues before appointments are scheduled.
    allow_delegation: false
    memory: true
    verbose: false
    llm: Azure OpenAI
    temperature: 0.1
  provides:
  - useAs: agent
    in: eligibility-verification-task
    description: Assign eligibility agent to verification task

- id: insurance-verification-tool
  name: Insurance Verification API
  kind: Tool
  type: genesis:mcp_tool
  description: Real-time insurance eligibility verification service
  asTools: true
  config:
    tool_name: insurance_eligibility_api
    description: |
      Verify patient insurance eligibility in real-time.

      Use this tool to:
      - Check active coverage status
      - Verify benefits for specific service types
      - Get copay and deductible information
      - Check prior authorization requirements

      Required parameters:
      - member_id: Insurance member ID
      - group_number: Group identifier
      - service_type: Type of service/appointment
      - service_date: Proposed appointment date

      Returns detailed eligibility and benefits information.
    timeout: 30000
    retry_count: 2
  provides:
  - useAs: tools
    in: eligibility-agent
    description: Provide insurance verification capability

- id: appointment-scheduling-task
  name: Appointment Scheduling Task
  kind: Task
  type: genesis:crewai_sequential_task
  description: Task for finding and scheduling optimal appointment
  config:
    description: |
      Schedule appointment based on eligibility verification and patient preferences.

      Steps:
      1. Review eligibility verification results
      2. Search EHR calendar for available appointments
      3. Match patient preferences (date, time, location)
      4. Consider provider availability and specialization
      5. Book appointment if eligible and available
      6. Generate appointment confirmation details
    expected_output: |
      Appointment scheduling results including:
      - Appointment confirmation or scheduling failure reason
      - Scheduled date, time, and location
      - Provider information
      - Appointment preparation instructions
      - Confirmation number and details
  provides:
  - useAs: input
    in: communication-task
    description: Pass scheduling results to communications

- id: scheduling-agent
  name: Appointment Scheduling Agent
  kind: Agent
  type: genesis:crewai_agent
  description: Specialist agent for appointment scheduling and calendar management
  config:
    role: Appointment Scheduling Specialist
    goal: Find and schedule optimal appointments matching patient preferences and availability
    backstory: |
      You are a skilled appointment scheduler with expertise in healthcare calendar
      management. You excel at finding appointment slots that match patient preferences
      while optimizing provider schedules and clinic efficiency.
    allow_delegation: false
    memory: true
    verbose: false
    llm: Azure OpenAI
    temperature: 0.1
  provides:
  - useAs: agent
    in: appointment-scheduling-task
    description: Assign scheduling agent to scheduling task

- id: ehr-calendar-tool
  name: EHR Calendar System
  kind: Tool
  type: genesis:mcp_tool
  description: Electronic Health Record calendar integration for appointment scheduling
  asTools: true
  config:
    tool_name: ehr_calendar_api
    description: |
      Access EHR calendar system for appointment scheduling.

      Capabilities:
      - Search available appointment slots
      - Filter by provider, location, appointment type
      - Check provider schedules and availability
      - Book appointments with confirmation
      - Access appointment preparation requirements

      Search parameters:
      - appointment_type: Type of visit required
      - preferred_date: Desired appointment date
      - date_range: Acceptable date range
      - location: Clinic location preference
      - provider_id: Specific provider (optional)

      Returns available slots with provider and location details.
    timeout: 20000
    include_provider_details: true
  provides:
  - useAs: tools
    in: scheduling-agent
    description: Provide EHR calendar access

- id: communication-task
  name: Patient Communication Task
  kind: Task
  type: genesis:crewai_sequential_task
  description: Task for sending appointment confirmations and setting up reminders
  config:
    description: |
      Handle all patient communications for the scheduled appointment.

      Steps:
      1. Review appointment scheduling results
      2. Generate confirmation message with appointment details
      3. Send immediate confirmation via preferred methods (SMS/email)
      4. Schedule automated reminders based on appointment date
      5. Include preparation instructions and contact information
      6. Set up follow-up communication if needed
    expected_output: |
      Communication summary including:
      - Confirmation messages sent (SMS/email)
      - Reminder schedule established
      - Patient preparation instructions provided
      - Contact information for changes/questions
      - Follow-up communication plans
  provides:
  - useAs: input
    in: appointment-results-output
    description: Send final results to output

- id: communication-agent
  name: Patient Communication Agent
  kind: Agent
  type: genesis:crewai_agent
  description: Specialist agent for patient communications and engagement
  config:
    role: Patient Communication Specialist
    goal: Ensure clear, timely, and helpful communication with patients throughout the appointment process
    backstory: |
      You are a patient communication expert with extensive experience in healthcare
      customer service. You excel at creating clear, empathetic communications that
      improve patient experience and reduce confusion about appointments.
    allow_delegation: false
    memory: true
    verbose: false
    llm: Azure OpenAI
    temperature: 0.3
  provides:
  - useAs: agent
    in: communication-task
    description: Assign communication agent to communication task

- id: sms-gateway-tool
  name: SMS Gateway Service
  kind: Tool
  type: genesis:mcp_tool
  description: SMS messaging service for patient notifications
  asTools: true
  config:
    tool_name: sms_gateway_api
    description: |
      Send SMS messages to patients for appointments.

      Use for:
      - Appointment confirmations
      - Reminder messages
      - Cancellation or rescheduling notifications
      - Follow-up communications

      Parameters:
      - phone_number: Patient mobile number
      - message: SMS message content
      - scheduled_time: Optional scheduled delivery time

      Features:
      - Delivery confirmation
      - Opt-out handling
      - Character limit management
    delivery_confirmation: true
    opt_out_handling: true
  provides:
  - useAs: tools
    in: communication-agent
    description: Provide SMS messaging capability

- id: email-service-tool
  name: Email Service Provider
  kind: Tool
  type: genesis:mcp_tool
  description: Email service for detailed patient communications
  asTools: true
  config:
    tool_name: email_service_api
    description: |
      Send email communications to patients.

      Email types:
      - Detailed appointment confirmations
      - Preparation instructions
      - Calendar invites
      - Follow-up surveys

      Parameters:
      - email_address: Patient email
      - subject: Email subject line
      - body: Email content (HTML/text)
      - attachments: Optional files

      Features:
      - HTML email support
      - Calendar invite generation
      - Delivery tracking
      - Template management
    html_support: true
    calendar_invites: true
    delivery_tracking: true
  provides:
  - useAs: tools
    in: communication-agent
    description: Provide email communication capability

- id: sequential-crew-coordinator
  name: Appointment Concierge Crew
  kind: Coordinator
  type: genesis:crewai_sequential_crew
  description: Coordinates the sequential execution of eligibility, scheduling, and communication tasks
  config:
    verbose: false
    memory: true
    manager_llm: Azure OpenAI
    planning: true
    planning_llm: Azure OpenAI
  provides:
  - useAs: input
    in: appointment-results-output
    description: Send crew execution results to output

- id: appointment-results-output
  name: Appointment Results
  kind: Data
  type: genesis:chat_output
  description: Complete appointment scheduling results and confirmation
  config:
    should_store_message: true

outputs:
- appointment_confirmation
- eligibility_verification_results
- communication_log
- appointment_details
- next_steps

kpis:
- name: Appointments Scheduled Successfully
  category: Performance
  valueType: percentage
  target: 85
  unit: '%'
  description: Percentage of appointment requests successfully scheduled
- name: Insurance Eligibility Accuracy
  category: Quality
  valueType: percentage
  target: 99
  unit: '%'
  description: Accuracy of insurance eligibility verification
- name: Preferred Location Match Rate
  category: Quality
  valueType: percentage
  target: 80
  unit: '%'
  description: Percentage of appointments scheduled at preferred locations
- name: Patient Satisfaction Score
  category: Quality
  valueType: numeric
  target: 4.5
  unit: score
  description: Patient satisfaction rating (1-5 scale)
- name: No-Show Rate Reduction
  category: Performance
  valueType: percentage
  target: 20
  unit: '%'
  description: Reduction in appointment no-show rates
- name: Average Scheduling Time
  category: Performance
  valueType: numeric
  target: 300
  unit: seconds
  description: Average time to complete scheduling process
- name: Communication Success Rate
  category: Performance
  valueType: percentage
  target: 95
  unit: '%'
  description: Successful delivery rate of SMS and email communications

securityInfo:
  visibility: Private
  confidentiality: High
  gdprSensitive: true