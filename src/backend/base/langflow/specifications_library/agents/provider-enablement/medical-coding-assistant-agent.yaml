id: urn:agent:genesis:provider-enablement:medical-coding-assistant:1.0.0
name: Medical Coding Assistant Agent
fullyQualifiedName: genesis.autonomize.ai.medical-coding-assistant
description: Uses diagnosis descriptions, procedure notes, and coding libraries (ICD, CPT) to suggest accurate medical codes with highlighted supporting evidence for billing and compliance
domain: autonomize.ai
subDomain: provider-enablement
version: 1.0.0
environment: production
agentOwner: provider-enablement@autonomize.ai
agentOwnerDisplayName: Provider Enablement Team
email: provider-enablement@autonomize.ai
status: ACTIVE

variables:
- name: coding_year
  type: string
  required: false
  default: "2024"
  description: ICD-10 and CPT coding year for current guidelines
- name: confidence_threshold
  type: float
  required: false
  default: 0.8
  description: Minimum confidence score for code suggestions
- name: evidence_highlighting
  type: boolean
  required: false
  default: true
  description: Enable automatic evidence highlighting in source text
- name: multiple_code_suggestions
  type: integer
  required: false
  default: 3
  description: Number of alternative code suggestions to provide
- name: specialty_focus
  type: string
  required: false
  default: "general"
  description: Medical specialty focus for specialized coding rules
- name: billing_optimization
  type: boolean
  required: false
  default: true
  description: Optimize code selection for appropriate reimbursement

tags:
- provider-enablement
- medical-coding
- icd-10
- cpt-codes
- billing-optimization
- compliance
- healthcare
- revenue-cycle

reusability:
  asTools: false

sampleInput:
  clinical_text: |
    Patient presents with acute chest pain that started 2 hours ago. Pain is sharp, substernal, radiating to left arm.
    Physical exam shows elevated blood pressure 160/95. ECG shows ST elevation in leads II, III, aVF.
    Diagnosis: ST-elevation myocardial infarction (STEMI), inferior wall.
    Procedure: Percutaneous coronary intervention with drug-eluting stent placement in right coronary artery.
  encounter_type: "inpatient"
  provider_specialty: "cardiology"
  date_of_service: "2024-01-15"

sampleOutput:
  suggested_diagnosis_codes:
  - code: "I21.11"
    description: "ST elevation (STEMI) myocardial infarction involving right coronary artery"
    confidence: 0.95
    supporting_evidence: ["ST elevation in leads II, III, aVF", "inferior wall myocardial infarction"]
    billable: true
    severity: "major"
  - code: "I10"
    description: "Essential hypertension"
    confidence: 0.88
    supporting_evidence: ["elevated blood pressure 160/95"]
    billable: true
    severity: "secondary"
  suggested_procedure_codes:
  - code: "92928"
    description: "Percutaneous transcatheter placement of intracoronary stent(s), coronary artery, each artery"
    confidence: 0.97
    supporting_evidence: ["drug-eluting stent placement in right coronary artery"]
    billable: true
    rvu: 15.2
  coding_summary:
    total_codes_suggested: 3
    confidence_average: 0.93
    billing_optimization_applied: true
    estimated_reimbursement: "$8,450"

kind: Single Agent
agentGoal: Accurately suggest medical codes (ICD-10, CPT) based on clinical documentation with highlighted supporting evidence to optimize billing accuracy and reduce coding errors
targetUser: internal
valueGeneration: ProcessAutomation
interactionMode: RequestResponse
runMode: RealTime
agencyLevel: ModelBasedReflexAgent
toolsUse: true
learningCapability: Supervised

components:
- id: clinical-text-input
  name: Clinical Documentation Input
  kind: Input
  type: genesis:chat_input
  description: Receive clinical notes, diagnosis descriptions, and procedure documentation for coding analysis
  provides:
  - useAs: input_value
    in: coding-assistant-agent
    description: Provide clinical text for medical coding analysis

- id: clinical-entity-extractor
  name: Clinical Entity Extraction
  kind: Tool
  type: genesis:combined_entity_linking
  description: Extract medical entities, conditions, and procedures from clinical text
  asTools: true
  config:
    entity_types: ["diagnosis", "procedure", "medication", "anatomy", "symptom", "finding"]
    confidence_threshold: 0.7
    include_context: true
  provides:
  - useAs: tools
    in: coding-assistant-agent
    description: Enable clinical entity extraction for coding preparation

- id: clinical-text-classifier
  name: Clinical Text Classifier
  kind: Tool
  type: genesis:clinical_note_classifier
  description: Classify and structure clinical documentation for optimal coding analysis
  asTools: true
  config:
    classification_types: ["chief_complaint", "history", "examination", "assessment", "plan", "procedure_note"]
    include_sections: true
    extract_severity: true
  provides:
  - useAs: tools
    in: coding-assistant-agent
    description: Enable clinical text classification and structuring

- id: icd10-coding-tool
  name: ICD-10 Diagnosis Coding
  kind: Tool
  type: genesis:icd10
  description: Generate ICD-10 diagnosis codes based on clinical findings and documentation
  asTools: true
  config:
    coding_year: "{coding_year}"
    include_subcodes: true
    severity_mapping: true
    comorbidity_detection: true
    billable_codes_only: false
  provides:
  - useAs: tools
    in: coding-assistant-agent
    description: Enable ICD-10 diagnosis code generation

- id: cpt-coding-tool
  name: CPT Procedure Coding
  kind: Tool
  type: genesis:cpt_code
  description: Generate CPT procedure codes based on clinical procedures and interventions
  asTools: true
  config:
    coding_year: "{coding_year}"
    include_modifiers: true
    bundling_rules: true
    rvu_calculation: true
    bilateral_procedures: true
  provides:
  - useAs: tools
    in: coding-assistant-agent
    description: Enable CPT procedure code generation

- id: coding-guidelines-search
  name: Medical Coding Guidelines
  kind: Tool
  type: genesis:knowledge_hub_search
  description: Search coding guidelines, documentation requirements, and billing regulations
  asTools: true
  config:
    collections: ["icd10_guidelines", "cpt_guidelines", "cms_billing_rules", "coding_clinic"]
    search_depth: "comprehensive"
    include_recent_updates: true
  provides:
  - useAs: tools
    in: coding-assistant-agent
    description: Enable access to current coding guidelines and regulations

- id: evidence-highlighting-tool
  name: Evidence Highlighting Engine
  kind: Tool
  type: genesis:mcp_tool
  description: Highlight supporting evidence in clinical text for suggested codes
  asTools: true
  config:
    tool_name: evidence_highlighter
    description: |
      Advanced evidence highlighting system for medical coding support.
      Capabilities:
      - Text span identification for code justification
      - Clinical context mapping to coding requirements
      - Supporting documentation validation
      - Evidence strength scoring and ranking
      - Multi-code evidence cross-referencing
      - Regulatory compliance verification
  provides:
  - useAs: tools
    in: coding-assistant-agent
    description: Enable evidence highlighting and documentation support

- id: billing-optimization-tool
  name: Billing Optimization Engine
  kind: Tool
  type: genesis:mcp_tool
  description: Optimize code selection for appropriate reimbursement and compliance
  asTools: true
  config:
    tool_name: billing_optimizer
    description: |
      Comprehensive billing optimization for medical coding accuracy and revenue maximization.
      Features:
      - Reimbursement rate analysis and optimization
      - Code bundling and unbundling rules application
      - Modifier recommendation and validation
      - DRG assignment and optimization
      - Payer-specific coding requirements
      - Audit risk assessment and mitigation
      - Revenue cycle impact analysis
  provides:
  - useAs: tools
    in: coding-assistant-agent
    description: Enable billing optimization and revenue cycle enhancement

- id: coding-validation-tool
  name: Coding Validation System
  kind: Tool
  type: genesis:mcp_tool
  description: Validate suggested codes against clinical documentation and coding rules
  asTools: true
  config:
    tool_name: coding_validator
    description: |
      Comprehensive medical coding validation and quality assurance system.
      Validation capabilities:
      - Clinical documentation sufficiency assessment
      - Code assignment accuracy verification
      - Coding guideline compliance checking
      - Cross-code compatibility validation
      - Billing regulation adherence verification
      - Audit trail generation and compliance reporting
  provides:
  - useAs: tools
    in: coding-assistant-agent
    description: Enable comprehensive coding validation and quality assurance

- id: coding-assistant-agent
  name: Medical Coding Assistant
  kind: Agent
  type: genesis:agent
  description: Main agent coordinating medical coding analysis, code suggestion, and evidence highlighting
  config:
    system_prompt: |
      You are a Medical Coding Assistant Agent specialized in analyzing clinical documentation to suggest accurate medical codes with supporting evidence.

      Your responsibilities include:
      1. Analyzing clinical text to extract medical entities and procedures
      2. Suggesting appropriate ICD-10 diagnosis codes and CPT procedure codes
      3. Highlighting supporting evidence in clinical documentation
      4. Optimizing code selection for billing accuracy and compliance
      5. Validating suggested codes against clinical documentation
      6. Providing confidence scores and alternative code suggestions

      Key coding principles:
      - Accuracy: Ensure codes accurately reflect documented clinical findings
      - Specificity: Use the most specific codes supported by documentation
      - Completeness: Capture all billable diagnoses and procedures
      - Compliance: Follow current coding guidelines and regulations
      - Evidence: Highlight specific text supporting each code suggestion
      - Optimization: Consider billing and reimbursement implications

      When processing clinical documentation:
      1. Extract and classify clinical entities and procedures
      2. Apply ICD-10 coding for all documented diagnoses and conditions
      3. Apply CPT coding for all documented procedures and services
      4. Search coding guidelines for complex or unusual cases
      5. Highlight supporting evidence for each suggested code
      6. Optimize code selection for appropriate reimbursement
      7. Validate all suggestions against documentation sufficiency
      8. Provide confidence scores and alternative code options
      9. Generate coding summary with billing optimization insights

      Always prioritize coding accuracy, clinical documentation support, and regulatory compliance while optimizing for appropriate reimbursement.
    model_name: "gpt-4"
    temperature: 0.1
    max_tokens: 4000
    top_p: 0.9
  provides:
  - useAs: input_value
    in: coding-output
    from: response
    description: Provide medical coding analysis and suggestions

- id: coding-output
  name: Medical Coding Results
  kind: Output
  type: genesis:chat_output
  description: Present suggested medical codes with supporting evidence and optimization insights
  provides: []

outputs:
- name: suggested_diagnosis_codes
  type: array
  description: ICD-10 diagnosis codes with confidence scores and supporting evidence
- name: suggested_procedure_codes
  type: array
  description: CPT procedure codes with confidence scores and supporting evidence
- name: evidence_highlights
  type: object
  description: Highlighted text spans supporting each suggested code
- name: coding_summary
  type: object
  description: Overall coding analysis summary with optimization insights
- name: billing_optimization
  type: object
  description: Billing optimization recommendations and reimbursement estimates
- name: validation_results
  type: object
  description: Code validation results and compliance assessment

kpis:
- name: Code Accuracy Rate
  description: Percentage of suggested codes that are clinically accurate
  target: "> 95%"
  measurement: percentage
- name: Evidence Highlighting Coverage
  description: Percentage of codes with highlighted supporting evidence
  target: "> 90%"
  measurement: percentage
- name: Coding Time Reduction
  description: Time saved compared to manual coding processes
  target: "> 70%"
  measurement: percentage
- name: Coding Error Reduction
  description: Reduction in coding errors compared to manual processes
  target: "> 80%"
  measurement: percentage
- name: Billing Optimization Impact
  description: Revenue improvement through optimized code selection
  target: "> 15%"
  measurement: percentage
- name: Compliance Rate
  description: Percentage compliance with coding guidelines and regulations
  target: "100%"
  measurement: percentage

securityInfo:
  visibility: internal
  confidentialityLevel: high
  gdprSensitive: true
  complianceRequirements: ["HIPAA", "SOC2", "CMS-1500", "UB-04"]