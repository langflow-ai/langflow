id: urn:agent:genesis:provider-enablement:clinical-order-advisor:1.0.0
name: Clinical Order Advisor Agent
fullyQualifiedName: genesis.autonomize.ai.clinical-order-advisor
description: Uses EHR data, lab results, diagnosis codes, and care guidelines to suggest appropriate tests, referrals, or therapies to providers at point of care
domain: autonomize.ai
subDomain: provider-enablement
version: 1.0.0
environment: production
agentOwner: provider-enablement@autonomize.ai
agentOwnerDisplayName: Provider Enablement Team
email: provider-enablement@autonomize.ai
status: ACTIVE

variables:
- name: specialty_focus
  type: string
  required: false
  default: "general_medicine"
  description: Medical specialty for specialized order recommendations
- name: evidence_level_threshold
  type: string
  required: false
  default: "high"
  description: Minimum evidence level for recommendations (high, moderate, low)
- name: cost_consideration
  type: boolean
  required: false
  default: true
  description: Include cost-effectiveness in order recommendations
- name: urgency_assessment
  type: boolean
  required: false
  default: true
  description: Enable urgency assessment for recommended orders
- name: patient_preference_weight
  type: float
  required: false
  default: 0.3
  description: Weight given to patient preferences in recommendations (0.0-1.0)
- name: guideline_adherence_strict
  type: boolean
  required: false
  default: true
  description: Strict adherence to clinical guidelines vs. flexible recommendations

tags:
- provider-enablement
- clinical-decision-support
- point-of-care
- clinical-orders
- evidence-based-medicine
- care-guidelines
- healthcare
- clinical-reasoning

reusability:
  asTools: false

sampleInput:
  patient_id: "PAT123456"
  chief_complaint: "Chest pain and shortness of breath"
  vital_signs:
    blood_pressure: "150/95"
    heart_rate: "105"
    respiratory_rate: "22"
    oxygen_saturation: "96%"
    temperature: "98.6Â°F"
  current_medications: ["lisinopril 10mg daily", "metformin 500mg twice daily"]
  medical_history: ["hypertension", "type 2 diabetes", "hyperlipidemia"]
  physical_exam_findings: "Elevated blood pressure, regular heart rhythm, bilateral crackles at lung bases"
  lab_results:
    troponin_i: "0.05 ng/mL"
    bnp: "450 pg/mL"
    creatinine: "1.2 mg/dL"
    hba1c: "7.8%"
  encounter_type: "urgent_care"
  provider_specialty: "family_medicine"

sampleOutput:
  recommended_orders:
  - order_type: "diagnostic_test"
    order_name: "Chest X-ray"
    urgency: "stat"
    clinical_indication: "Shortness of breath with physical exam findings suggestive of heart failure"
    supporting_evidence: "Class I recommendation for acute dyspnea evaluation (AHA/ACC Guidelines)"
    cost_estimate: "$150"
    expected_turnaround: "30 minutes"
  - order_type: "diagnostic_test"
    order_name: "Echocardiogram"
    urgency: "within_24_hours"
    clinical_indication: "Elevated BNP with clinical signs of heart failure"
    supporting_evidence: "Class I recommendation for suspected heart failure (ESC Guidelines)"
    cost_estimate: "$400"
    expected_turnaround: "4 hours"
  - order_type: "medication"
    order_name: "Furosemide 20mg PO daily"
    urgency: "routine"
    clinical_indication: "Acute heart failure exacerbation with fluid retention"
    supporting_evidence: "Class I recommendation for symptom relief (AHA/ACC Guidelines)"
    contraindications_checked: true
    drug_interactions_checked: true
  - order_type: "referral"
    order_name: "Cardiology consultation"
    urgency: "within_48_hours"
    clinical_indication: "New diagnosis of heart failure requiring specialist evaluation"
    supporting_evidence: "Class IIa recommendation for subspecialty consultation"
  decision_support_summary:
    confidence_score: 0.92
    guidelines_referenced: ["AHA/ACC Heart Failure Guidelines 2022", "ESC Heart Failure Guidelines 2021"]
    total_orders_suggested: 4
    estimated_total_cost: "$550"
    follow_up_recommendations: "Re-evaluate in 48 hours or sooner if symptoms worsen"

kind: Single Agent
agentGoal: Provide evidence-based clinical order recommendations using EHR data, lab results, and care guidelines to improve diagnostic accuracy, reduce decision time, and enhance patient outcomes at point of care
targetUser: internal
valueGeneration: ProcessAutomation
interactionMode: RequestResponse
runMode: RealTime
agencyLevel: ModelBasedReflexAgent
toolsUse: true
learningCapability: Supervised

components:
- id: clinical-data-input
  name: Clinical Data Input
  kind: Input
  type: genesis:chat_input
  description: Receive patient clinical data, lab results, and encounter information for order recommendations
  provides:
  - useAs: input_value
    in: order-advisor-agent
    description: Provide clinical context for order recommendation analysis

- id: ehr-integration-tool
  name: EHR Data Integration
  kind: Tool
  type: genesis:mcp_tool
  description: Access comprehensive patient data from electronic health record systems
  asTools: true
  config:
    tool_name: ehr_clinical_data
    description: |
      Comprehensive EHR integration for clinical decision support.
      Capabilities:
      - Patient demographics, allergies, and medical history retrieval
      - Current medications and dosages with interaction checking
      - Recent lab results, diagnostic imaging, and test reports
      - Previous encounters, procedures, and hospitalization history
      - Clinical notes, assessment, and plan documentation
      - Provider notes and specialist consultation reports
      - Real-time vital signs and monitoring data integration
  provides:
  - useAs: tools
    in: order-advisor-agent
    description: Enable comprehensive patient data retrieval

- id: lab-systems-integration
  name: Laboratory Information System
  kind: Tool
  type: genesis:mcp_tool
  description: Access lab results, pending tests, and laboratory analytics
  asTools: true
  config:
    tool_name: lab_information_system
    description: |
      Laboratory information system integration for clinical decision support.
      Features:
      - Real-time lab result retrieval and trending analysis
      - Pending test status and expected completion times
      - Reference range interpretation and critical value alerts
      - Lab test recommendation based on clinical scenarios
      - Cost analysis and alternative test suggestions
      - Specimen collection requirements and preparation instructions
      - Quality control metrics and result validation
  provides:
  - useAs: tools
    in: order-advisor-agent
    description: Enable lab data analysis and test recommendations

- id: clinical-reasoning-engine
  name: Clinical Reasoning Engine
  kind: Tool
  type: genesis:clinical_llm
  description: Advanced clinical reasoning and differential diagnosis analysis
  asTools: true
  config:
    reasoning_depth: "comprehensive"
    differential_diagnosis: true
    risk_stratification: true
    evidence_synthesis: true
    clinical_prediction_rules: true
  provides:
  - useAs: tools
    in: order-advisor-agent
    description: Enable advanced clinical reasoning and analysis

- id: clinical-text-analyzer
  name: Clinical Text Analyzer
  kind: Tool
  type: genesis:clinical_note_classifier
  description: Analyze and structure clinical documentation for order recommendations
  asTools: true
  config:
    extract_symptoms: true
    identify_diagnoses: true
    extract_procedures: true
    assessment_classification: true
    urgency_detection: true
  provides:
  - useAs: tools
    in: order-advisor-agent
    description: Enable clinical text analysis and structuring

- id: care-guidelines-search
  name: Clinical Care Guidelines
  kind: Tool
  type: genesis:knowledge_hub_search
  description: Search evidence-based clinical guidelines and care protocols
  asTools: true
  config:
    collections: ["clinical_guidelines", "care_protocols", "evidence_based_medicine", "specialty_guidelines"]
    search_depth: "comprehensive"
    evidence_level_filter: true
    guideline_currency: "current"
  provides:
  - useAs: tools
    in: order-advisor-agent
    description: Enable access to current clinical guidelines and protocols

- id: order-optimization-engine
  name: Clinical Order Optimization
  kind: Tool
  type: genesis:mcp_tool
  description: Optimize order selection based on cost, urgency, and clinical appropriateness
  asTools: true
  config:
    tool_name: order_optimization_engine
    description: |
      Advanced clinical order optimization and decision support system.
      Optimization criteria:
      - Cost-effectiveness analysis and alternative option identification
      - Urgency assessment and priority scheduling recommendations
      - Resource availability and capacity planning integration
      - Patient-specific contraindication and allergy checking
      - Drug interaction screening and medication reconciliation
      - Clinical appropriateness scoring and utilization review
      - Insurance coverage verification and prior authorization requirements
  provides:
  - useAs: tools
    in: order-advisor-agent
    description: Enable intelligent order optimization and selection

- id: decision-support-rules
  name: Clinical Decision Support Rules
  kind: Tool
  type: genesis:mcp_tool
  description: Apply clinical decision support rules and alerts for order recommendations
  asTools: true
  config:
    tool_name: clinical_decision_rules
    description: |
      Comprehensive clinical decision support rules engine for order recommendations.
      Rule categories:
      - Evidence-based clinical prediction rules and scoring systems
      - Appropriateness criteria for diagnostic testing and procedures
      - Drug dosing and monitoring guidelines with renal/hepatic adjustments
      - Contraindication screening and safety alert generation
      - Duplicate order prevention and redundancy checking
      - Cost-effective alternative suggestion algorithms
      - Quality measure compliance and performance indicator tracking
  provides:
  - useAs: tools
    in: order-advisor-agent
    description: Enable clinical decision support rule application

- id: workflow-integration-tool
  name: Provider Workflow Integration
  kind: Tool
  type: genesis:mcp_tool
  description: Integrate order recommendations into provider workflow and order entry systems
  asTools: true
  config:
    tool_name: provider_workflow_integration
    description: |
      Seamless integration with provider workflow and order management systems.
      Integration capabilities:
      - Real-time order recommendation delivery within EHR workflow
      - One-click order placement with pre-populated order sets
      - Clinical documentation assistance and structured data entry
      - Provider alert management and notification customization
      - Order tracking and completion status monitoring
      - Quality metrics and provider performance feedback
      - Audit trail and decision documentation for compliance
  provides:
  - useAs: tools
    in: order-advisor-agent
    description: Enable seamless workflow integration and order placement

- id: order-advisor-agent
  name: Clinical Order Advisor
  kind: Agent
  type: genesis:agent
  description: Main agent coordinating clinical data analysis, guideline application, and order recommendations
  config:
    system_prompt: |
      You are a Clinical Order Advisor Agent specialized in providing evidence-based order recommendations to healthcare providers at the point of care.

      Your responsibilities include:
      1. Analyzing comprehensive patient clinical data from EHR and lab systems
      2. Applying clinical reasoning to identify diagnostic and therapeutic needs
      3. Searching and applying current evidence-based clinical guidelines
      4. Recommending appropriate tests, referrals, and therapies with supporting evidence
      5. Optimizing order selection based on cost, urgency, and clinical appropriateness
      6. Ensuring compliance with clinical decision support rules and safety checks
      7. Integrating recommendations seamlessly into provider workflow

      Key clinical decision principles:
      - Evidence-based medicine: Use highest quality evidence and current guidelines
      - Patient safety: Prioritize patient safety with appropriate screening and alerts
      - Clinical appropriateness: Ensure orders are clinically indicated and necessary
      - Cost-effectiveness: Consider cost and resource utilization in recommendations
      - Timeliness: Provide urgent recommendations for time-sensitive conditions
      - Personalization: Tailor recommendations to individual patient characteristics

      When processing clinical cases:
      1. Gather and analyze comprehensive patient data from EHR and lab systems
      2. Perform clinical reasoning and differential diagnosis analysis
      3. Extract and structure relevant clinical information from documentation
      4. Search current clinical guidelines and evidence-based protocols
      5. Generate evidence-based order recommendations with supporting rationale
      6. Optimize order selection considering cost, urgency, and appropriateness
      7. Apply clinical decision support rules and safety checks
      8. Integrate recommendations into provider workflow with clear documentation

      Always prioritize patient safety, clinical appropriateness, evidence-based practice, and seamless provider workflow integration.
    model_name: "gpt-4"
    temperature: 0.1
    max_tokens: 4000
    top_p: 0.9
  provides:
  - useAs: input_value
    in: order-recommendations-output
    from: response
    description: Provide clinical order recommendations and decision support

- id: order-recommendations-output
  name: Clinical Order Recommendations
  kind: Output
  type: genesis:chat_output
  description: Present evidence-based order recommendations with supporting clinical rationale
  provides: []

outputs:
- name: recommended_orders
  type: array
  description: Evidence-based order recommendations with clinical indications and supporting evidence
- name: clinical_reasoning
  type: object
  description: Clinical reasoning process and differential diagnosis considerations
- name: guideline_references
  type: array
  description: Clinical guidelines and evidence sources supporting recommendations
- name: decision_support_summary
  type: object
  description: Summary of decision support analysis including confidence scores and recommendations
- name: workflow_integration
  type: object
  description: Workflow integration details and order placement guidance
- name: safety_alerts
  type: array
  description: Clinical safety alerts, contraindications, and important considerations

kpis:
- name: Guideline Adherence Rate
  description: Percentage of recommendations aligned with evidence-based guidelines
  target: "> 95%"
  measurement: percentage
- name: Provider Decision Time Reduction
  description: Average time reduction for clinical order decision-making
  target: "> 60%"
  measurement: percentage
- name: Order Appropriateness Score
  description: Clinical appropriateness of recommended orders
  target: "> 90%"
  measurement: percentage
- name: Provider Adoption Rate
  description: Percentage of recommendations accepted by providers
  target: "> 80%"
  measurement: percentage
- name: Cost Optimization Impact
  description: Cost savings through optimized order recommendations
  target: "> 20%"
  measurement: percentage
- name: Patient Outcome Improvement
  description: Measurable improvement in patient outcomes through better orders
  target: "> 15%"
  measurement: percentage

securityInfo:
  visibility: internal
  confidentialityLevel: high
  gdprSensitive: true
  complianceRequirements: ["HIPAA", "SOC2", "FDA-510k", "CDS-Hooks"]