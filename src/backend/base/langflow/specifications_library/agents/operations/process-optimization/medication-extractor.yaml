id: urn:agent:genesis:autonomize.ai:medication-extractor:1.0.0
name: Medication Extractor
fullyQualifiedName: genesis.autonomize.ai.medication_extractor
description: Extracts medication information from clinical text
domain: autonomize.ai
subDomain: clinical-processing
version: 1.0.0
environment: production
agentOwner: clinical-processing@autonomize.ai
agentOwnerDisplayName: Clinical Processing Team
email: clinical-processing@autonomize.ai
status: ACTIVE

kind: Single Agent
agentGoal: Extract all medications with their dosages, frequencies, and routes from clinical text
targetUser: internal
valueGeneration: ProcessAutomation
interactionMode: RequestResponse
runMode: RealTime
agencyLevel: ModelBasedReflexAgent
toolsUse: true
learningCapability: None

components:
  - id: clinical-input
    type: genesis:chat_input
    name: Clinical Text Input
    description: Receive clinical text for medication extraction
    provides:
      - in: extraction-agent
        useAs: input
        description: Clinical text input to agent

  - id: rxnorm-extractor
    type: genesis:autonomize_model
    config:
      selected_model: RxNorm Code
    name: RxNorm Medication Extractor
    description: Extract medications with RxNorm codes using AutonomizeModel
    provides:
      - in: extraction-agent
        useAs: tool
        description: RxNorm extraction tool for agent

  - id: extraction-agent
    type: genesis:agent
    name: Medication Extraction Agent
    description: Agent specialized in medication extraction
    config:
      system_prompt: |
        You are a medication extraction specialist. Extract all medications from the clinical text with:

        1. Medication name (generic and brand if available)
        2. Dosage and units
        3. Frequency
        4. Route of administration
        5. RxNorm codes when possible

        Use the RxNorm tool when available to get accurate medication codes.

        Output as structured JSON matching this schema:
        {
          "medications": [
            {
              "name": "medication name",
              "dosage": "dosage with units",
              "frequency": "how often",
              "route": "administration route",
              "rxnorm_code": "RxNorm code if found"
            }
          ],
          "extraction_confidence": 0.95
        }
      temperature: 0.1
      max_tokens: 2000
    provides:
      - in: medication-output
        useAs: input
        description: Extracted medications to output

  - id: medication-output
    type: genesis:chat_output
    name: Medication Results
    description: Display extracted medications
