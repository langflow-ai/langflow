# https://github.com/dorny/paths-filter
# CI-only changes (workflow files, configs, etc.)
# Used to skip all tests when only CI configuration is modified
ci-only:
  - ".github/**"
  - "!.github/changes-filter.yaml"  # Exclude this file as it affects test filtering
# Backend changes that should trigger Python tests
python:
  - "src/backend/**"
  - "src/backend/**.py"
  - "pyproject.toml"
  - "uv.lock"
  - "src/backend/base/pyproject.toml"
  - "src/backend/base/uv.lock"
  - "**/python_test.yml"
  - ".github/workflows/ci.yml"
  - "src/lfx/src/lfx/_assets/component_index.json"
# Backend-only changes (no frontend files modified)
# Used to skip Jest tests when only backend code changes
backend-only:
  - "src/backend/**"
  - "src/lfx/**"
  - "pyproject.toml"
  - "uv.lock"
  - "src/backend/base/pyproject.toml"
  - "src/backend/base/uv.lock"
  - "**/python_test.yml"
components-changes:
  - "src/backend/base/langflow/components/**"
  - "src/lfx/src/lfx/_assets/component_index.json"
starter-projects-changes:
  - "src/backend/base/langflow/initial_setup/**"
frontend-tests:
  - "src/frontend/tests/**"
# Frontend changes that should trigger Jest unit tests
# Excludes backend files to prevent unnecessary Jest runs
frontend-only:
  - "src/frontend/**"
  - "!src/frontend/tests/**"
  - "**/jest_test.yml"
# Frontend changes that should trigger any frontend tests (Jest + E2E)
# Includes component_index.json since it affects frontend component rendering
frontend:
  - "src/frontend/**"
  - "**/typescript_test.yml"
  - "**/jest_test.yml"
  - ".github/workflows/ci.yml"
  - "src/lfx/src/lfx/_assets/component_index.json"
docs:
  - "docs/**"
docker:
  - "docker/**"
  - "uv.lock"
  - "pyproject.toml"
  - "src/backend/**"
  - "src/frontend/**"
  - ".dockerignore"
  - ".github/workflows/docker_test.yml"

# Test categories and their associated paths
starter-projects:
  - "src/backend/base/langflow/initial_setup/**"
  - "src/backend/base/langflow/components/**"
  - "src/backend/base/langflow/services/**"
  - "src/backend/base/langflow/custom/**"
  - "src/backend/base/langflow/api/v1/chat.py"
  - "src/frontend/src/pages/MainPage/**"
  - "src/frontend/src/utils/reactflowUtils.ts"
  - "src/frontend/tests/extended/features/**"
  - "src/backend/base/langflow/custom/**"
  - "src/backend/base/langflow/graph/**"

components:
  - "src/frontend/src/components/**"
  - "src/frontend/src/modals/**"
  - "src/frontend/src/pages/FlowPage/**"
  - "src/frontend/src/shared/**"
  - "src/frontend/src/hooks/**"
  - "src/frontend/src/CustomNodes/**"
  - "src/frontend/src/style/**"
  - "src/frontend/src/utils/styleUtils.ts"
  - "src/frontend/tests/core/features/**"
  - "src/frontend/tests/core/integrations/**"
  - "src/frontend/tests/core/regression/**"
  - "src/frontend/tests/extended/integrations/**"
  - "src/frontend/tests/extended/features/**"
  - "src/frontend/tests/extended/regression/**"
  - "src/backend/base/langflow/custom/**"
  - "src/backend/base/langflow/schema/**"
  - "src/backend/base/langflow/graph/**"
  - "src/backend/base/langflow/utils/**"
  - "src/backend/base/langflow/custom/**"
  - "src/backend/base/langflow/components/**"
  - "src/backend/base/langflow/initial_setup/**"
  - "src/backend/base/langflow/serialization/**"
  - "src/lfx/src/lfx/_assets/component_index.json"

workspace:
  - "src/backend/base/langflow/inputs/**"
  - "src/frontend/src/components/core/parameterRenderComponent/**"
  - "src/frontend/src/CustomNodes/**"
  - "src/frontend/src/modals/**"
  - "src/frontend/src/style/**"
  - "src/frontend/src/CustomEdges/**"
  - "src/frontend/src/utils/reactflowUtils.ts"
  - "src/frontend/src/utils/buildUtils.ts"
  - "src/frontend/tests/core/features/**"
  - "src/frontend/tests/core/unit/**"
  - "src/frontend/tests/extended/features/**"
  - "src/frontend/tests/core/regression/**"

api:
  - "src/backend/base/langflow/api/**"
  - "src/frontend/src/controllers/**"
  - "src/frontend/tests/core/features/**"
  - "src/frontend/tests/extended/features/**"
  - "src/frontend/tests/extended/regression/**"

database:
  - "src/backend/base/langflow/services/database/**"
  - "src/backend/base/langflow/alembic/**"
  - "src/frontend/src/controllers/**"
  - "src/frontend/tests/core/features/**"
  - "src/frontend/tests/extended/features/**"

mainpage:
  - "src/frontend/src/pages/MainPage/**"
