---
title: Manage knowledge bases
slug: /knowledge
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Icon from "@site/src/components/icon";

A knowledge base is a local repository of vector embeddings created from your data that agents can reference to answer domain-specific questions.

Knowledge bases are distinct from [**Vector Store** components](/components-vector-stores). **Vector Store** components provide a connection to a vector database, while knowledge bases store vector data locally, allowing each knowledge base to be re-used in new flows without requiring re-ingestion of the data in every flow.

Knowledge bases are created with the [**Knowledge Ingestion** component](/components-data#create-knowledge), and knowledge is retrieved using the [**Knowledge Retrieval** component](/components-data#retrieve-knowledge).

For example, you could create a knowledge base with customer sales data from a specific month with the **Knowledge Ingestion** component.
Then, when you create flows that need customer data from this time period, add a **Knowledge Retrieval** component to access the knowledge base.

For examples of knowledge bases in flows, see the **Knowledge Ingestion** and **Knowledge Retrieval** [templates](/concepts-flows#create-a-flow) in Langflow.

## Create a knowledge base

Create a knowledge base from a record of customer purchases.
You can adapt the tutorial to suit your data, or, to follow along with the tutorial, you can download [`customer-orders.csv`](/files/customer_orders/customer_orders.csv) and save it on your local machine.

To view your available knowledge bases, click <Icon name="Library" aria-hidden="true"/> **Knowledge**.
If you have no knowledge bases yet, click <Icon name="Plus" aria-hidden="true"/> **Knowledge Ingestion** to create a new knowledge base using the Knowledge Ingestion template.

1. To create a new knowledge base with the [**Knowledge Ingestion** component](/components-data#create-knowledge), select the <Icon name="Plus" aria-hidden="true"/> **New knowledge** option in the **Knowledge Ingestion** component.
2. In the **Knowledge Base** field, select an existing knowledge base, or select <Icon name="Plus" aria-hidden="true"/> **New knowledge**.
Complete the fields in the **Create new knowledge base** pane, and then click **Create**.

    * **Knowledge Base Name**: The name of your knowledge base.
    * **Model Name**: The embedding model for embedding your vector data.
    The vector dimensions are determined by your chosen embedding model.
    If you're unsure, use the OpenAI `text-embedding-3-small` model, which has the default value of 1536 dimensions that Langflow uses in all starter templates.
    * **API Key**: The API key for your embedding model provider.

3. To load data into the knowledge base, connect any component that outputs [DataFrame](/data-types#dataframe) to the **Knowledge Ingestion** component's [Data](/data-types#data) port.
For example, to load `customer-orders.csv` from local memory, connect the [**File** component's](/components-data#file) **Structured content** port to the **Knowledge Ingestion** component's Data port.
4. To configure the knowledge base's table, click **Open table**.

    Langflow converts `.csv` files to [DataFrame](/data-types#dataframe), a structured table with multiple columns of different data types.
    When you load your data into a knowledge base, you can specify how to treat each column.
    This effectively gives you an extra processing step, which you can use to reduce duplicates, improve search quality, and only vectorize meaningful content.
    Column configuration is a table input that lets you specify how each column in your DataFrame should be processed when creating the knowledge base.

    Column configuration includes the following options:

        * **Column Name**: The name of the column.
        * **Vectorize**: Enable this setting to convert the column's contents to vector embeddings using the knowledge base's embedding model.
        Vectorize the columns that contain the main content you want to search semantically.
        * **Identifier**: Enable this setting to make the selected column the unique identifier column for the row, like a primary key, to prevent duplicate entries.

        You can add, copy, delete, and reset the column configuration.

5. To process `customer-orders.csv`, create a column configuration with the values below.

    * **Column Name**: Add the `product_id` column as the column identifier because Product IDs are unique values.
    * **Vectorize**: Add the `product_name` column as the column to vectorize, because product names contain natural language that users search for semantically.
    * **Identifier**: Add the remaining columns in the table are included as metadata. You don't need to add all of the columns, just the columns that add context for your use case.

6. To load the data into your knowledge base, in the **Knowledge Ingestion** component, click <Icon name="Play" aria-hidden="true"/> **Run component.**
7. To examine the output, click <Icon name="TextSearch" aria-hidden="True" /> **Inspect output**.

    <details>
    <summary>Knowledge base output</summary>
    ```json
    {
      "kb_id": "639450aa-c8d9-4183-b60c-535882499e02",
      "kb_name": "customer-sales",
      "rows": 35,
      "column_metadata": {
        "total_columns": 7,
        "mapped_columns": 5,
        "unmapped_columns": 2,
        "columns": [
          {
            "name": "product_id",
            "vectorize": false,
            "identifier": true
          },
          {
            "name": "customer_id",
            "vectorize": false,
            "identifier": false
          },
          {
            "name": "customer_email",
            "vectorize": false,
            "identifier": false
          },
          {
            "name": "product_name",
            "vectorize": true,
            "identifier": false
          },
          {
            "name": "product_category",
            "vectorize": false,
            "identifier": false
          }
        ],
        "summary": {
          "vectorized_columns": [
            "product_name"
          ],
          "identifier_columns": [
            "product_id"
          ]
        }
      },
      "path": "/Users/mendonkissling/.langflow/knowledge_bases/customer-sales",
      "config_columns": 5,
      "timestamp": "2025-08-20T21:18:39.243830+00:00"
    }
    ```
    </details>

## Retrieve a knowledge base

Now that your knowledge base is created, you can use the [**Knowledge Retrieval** component](/components-data#retrieve-knowledge) in any flow to search and retrieve data from the `customer-sales` knowledge base.
To retrieve knowledge from a knowledge base:

    1. Add a **Knowledge Retrieval** component to your flow.
    2. Select your `customer-sales` knowledge base in the Retrieval component's **Knowledge** menu.
    3. Connect the **Results** port to a **Chat Output** component to view the search results.
    4. Enter a query, like `laptop` or `wireless devices`, and view the results.

    This makes your data searchable across all your Langflow flows without needing to re-ingest the data each time.

## Knowledge ingestion component

The **Create Knowledge** component creates or appends rows to a knowledge base from a [DataFrame](/data-types#dataframe).

### Knowledge ingestion parameters

Some **Knowledge Ingestion** component input parameters are hidden by default in the visual editor.
You can toggle parameters through the <Icon name="SlidersHorizontal" aria-hidden="true"/> **Controls** in the [component's header menu](/concepts-components#component-menus).

| Name             | Display Name                  | Info                                                                                  |
|------------------|------------------------------|---------------------------------------------------------------------------------------|
| knowledge_base   | Knowledge                     | Select or create a knowledge base to ingest data into.                                |
| input_df         | Data                          | The DataFrame containing your data that is already chunked or processed.                       |
| column_config    | Column Configuration          | Configure which columns are vectorized and which are used as unique identifiers. Default: `text`.     |
| chunk_size       | Chunk Size                    | Batch size for processing embeddings. Default: `1000`.                                   |
| api_key          | Embedding Provider API Key    | API key for the embedding provider. Supports OpenAI, HuggingFace, or Cohere models.                   |
| allow_duplicates | Allow Duplicates              | Allow duplicate rows in the knowledge base. Default: `false`.                            |

### Knowledge ingestion output

Returns a [Data](/data-types#data) object containing metadata about the ingestion, including:

* Knowledge base name and path
* Number of rows ingested
* Column configuration summary
* Timestamp

## Retrieve knowledge component

Use the [**Knowledge Retrieval** component](/components-data#retrieve-knowledge) in any flow to search and retrieve data from a knowledge base.
To retrieve knowledge from a knowledge base:

    1. Add a **Knowledge Retrieval** component to your flow.
    2. Select your knowledge base in the Retrieval component's **Knowledge** menu.
    3. Connect the **Results** port to a **Chat Output** component to view the search results.
    4. Enter a query and view the results.

    This makes your data searchable across all your Langflow flows without needing to re-ingest the data each time.

The **Knowledge Retrieval** component retrieves data and performs searches on a knowledge base.
Use this component to query your ingested knowledge bases, perform semantic search, and return relevant results as a DataFrame.

### Knowledge retrieval parameters

Some **Knowledge Retrieval** component input parameters are hidden by default in the visual editor.
You can toggle parameters through the <Icon name="SlidersHorizontal" aria-hidden="true"/> **Controls** in the [component's header menu](/concepts-components#component-menus).

| Name             | Display Name                  | Info                                                                                  |
|------------------|------------------------------|---------------------------------------------------------------------------------------|
| knowledge_base   | Knowledge                     | Select the knowledge base to retrieve data from.                                      |
| api_key          | Embedding Provider API Key    | API key for the embedding provider. Overrides the stored key if provided.             |
| search_query     | Search Query                  | Optional search query to filter knowledge base data using semantic similarity.         |
| top_k            | Top K Results                 | Number of top results to return from the knowledge base. Default: `5`.                |
| include_metadata | Include Metadata              | Whether to include all metadata and embeddings in the output. Default: `true`.        |

### Knowledge retrieval output

Returns a [DataFrame](/data-types#dataframe) containing the top matching results from the selected knowledge base.
If **Include Metadata** is enabled, each row includes all metadata, embeddings, and content.
If disabled, only the content is returned.

## Configure knowledge bases

Each knowledge base is a [ChromaDB](https://docs.trychroma.com/docs/overview/introduction) vector database stored as a separate directory containing:

- **Vector embeddings**: Embeddings are stored using the Chroma vector database.
- **Metadata files**: Configuration and embedding model information.
- **Source data**: The original data used to create the knowledge base.

Knowledge bases are stored locally on your system. The default storage location depends on your operating system and installation method.

- **macOS Desktop**: `/Users/<username>/.langflow/knowledge_bases`
- **Windows Desktop**: `C:\Users\<name>\AppData\Roaming\com.Langflow\knowledge_bases`
- **OSS macOS/Windows/Linux/WSL (`uv pip install`)**: `<path_to_venv>/lib/python3.12/site-packages/langflow/knowledge_bases` (Python version may vary)
- **OSS macOS/Windows/Linux/WSL (`git clone`)**: `<path_to_clone>/src/backend/base/langflow/knowledge_bases`

You can customize the parent directory where the `knowledge_bases` directory is stored with the `LANGFLOW_KNOWLEDGE_BASES_DIR` environment variable.

    ```bash
    export LANGFLOW_KNOWLEDGE_BASES_DIR="/path/to/parent/directory"
    ```

If you have set the `LANGFLOW_CONFIG_DIR` environment variable, knowledge bases are stored in a `knowledge_bases` subdirectory within that location.


## See also

* [Use Langflow agents](/agents)
* [**Vector Stores** components](/components-vector-stores)
* [ChromaDB documentation](https://docs.trychroma.com/docs/overview/introduction)