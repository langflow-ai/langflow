---
title: Knowledge Ingestion
slug: /knowledge-ingestion
---

import Icon from "@site/src/components/icon";
import PartialParams from '@site/docs/_partial-hidden-params.mdx';
import PartialKbSummary from '@site/docs/_partial-kb-summary.mdx';

<PartialKbSummary />

The **Knowledge Ingestion** component writes to a new or existing knowledge base.

Input must be [`Data`](/data-types#data) or [`DataFrame`](/data-types#dataframe) that is already chunked or processed for storage in a vector database.

If necessary, use other components to prepare the data before passing it to the **Knowledge Ingestion** component.

The output is a `Data` object containing metadata about the ingestion, including knowledge base information, number of rows ingested, and the column configuration (names, settings, number of mapped and unmapped columns).

## Knowledge Ingestion parameters

<PartialParams />

| Name | Display Name | Info |
|------|--------------|------|
| knowledge_base | Knowledge | Input parameter. Create or select a knowledge base to store data. |
| input_df | Data or DataFrame | Input parameter. Content to load into the knowledge base, already chunked or processed. |
| column_config | Column Configuration | Input parameter. Specify the primary key column and columns for which to generate embeddings. Default: A single `text` that is embedded and used as the primary identifier. For more information, see the example in [Usage Example](#usage-example). |
| chunk_size | Chunk Size | Input parameter. Batch size for processing embeddings. Default: `1000`. |
| api_key | Embedding Provider API Key | Input parameter. API key for the knowledge base's embedding provider. The embedding provider and model are chosen when you create a knowledge base. |
| allow_duplicates | Allow Duplicates | Input parameter. Whether to allow duplicate rows in the knowledge base. Default: Disabled (false). |

## Usage Example

### Create a Knowledge Base from Customer Sales Data

1. **Prepare your data**: Start with a DataFrame containing your structured data. For example, a customer sales dataset with columns like `product_name`, `product_category`, and `order_id`.

2. **Add the Knowledge Ingestion component**: Add a **Knowledge Ingestion** component to your flow.

3. **Create or select a knowledge base**: In the **Knowledge** field, select **New knowledge** to create a new knowledge base, or select one of your existing knowledge bases.

    :::tip

    Treat knowledge bases as you would any vector database.

    Don't write data randomly; instead treat each knowledge base as a unique dataset, keeping data organized and avoiding mixing unrelated data in the same knowledge base.

    Additionally, knowledge bases only support structured data.

    When writing to an existing knowledge base, make sure your new data matches the existing schema.

    :::

    If you selected **New knowledge**, configure your new knowledge base, and then click **Create**.

    * **Knowledge Name**: The name of your knowledge base.

    * **Choose Embedding**: Select an embedding model to generate embeddings for your data.

    This cannot be changed later.

        The vector dimensions are determined by the chosen embedding model.

        For example, the `text-embedding-3-small` model has a default of 1536 dimensions.

        If you want to use a different provider or model, you cannot use knowledge bases.

        Instead, you must use vector store and embedding model components.

        For more information, see [Embedding model components](/components-embedding-models).

    * **API Key**: Enter your API key to authenticate with your chosen embedding model provider.

    For example, `text-embedding-3-small` requires an OpenAI API key.

        This key is stored in Langflow KMS, so you don't need to provide it again when you use the knowledge base in other flows.

4. **Configure columns**: Click **Open table** under **Column Configuration** to specify the primary key and columns to embed.

    This can help prevent duplicate writes, improve search quality, and ensure that you only generate embeddings for relevant content.

    Any unspecified columns are loaded as metadata rows (not embedded).

    You don't need to add all of the columns, just the primary key and any columns that add context for your semantic searches.

    If entirely unspecified, Langflow uses the default, minimal schema, which is a single `text` column.

    Click <Icon name="Plus" aria-hidden="true"/> **Add a new row** to create a row for each critical column in your incoming `DataFrame`.

    For each column, you can set the following options:

    * **Column Name**: The name of the column, such as `customer_id`.

    * **Vectorize**: Enable this setting to generate embeddings for the content in this column using the knowledge base's selected embedding model.

    Enable this setting for only one column that contains the content that you want to search semantically.

    * **Identifier**: Enable this setting to specify the unique identifier (primary key) column.

    There should only be one identifier.

    This helps prevent duplicate entries.

    For the customer sales data example, add the following columns to the column configuration:

    ```json
    [
      {
        "name": "product_name",
        "vectorize": true,
        "identifier": false
      },
      {
        "name": "product_category",
        "vectorize": false,
        "identifier": false
      },
      {
        "name": "order_id",
        "vectorize": false,
        "identifier": true
      }
    ]
    ```

5. **Connect your data**: To load data into the knowledge base, connect `Data` or `DataFrame` output from another component to the **Knowledge Ingestion** component's **Input** port.

    These data types are required because Langflow knowledge bases only support structured data.

    For example, to load a CSV file, do the following:

    1. Add a [**Read File** component](/read-file) to your flow.

    2. Click **Select files**, and then add your CSV file.

    3. Connect the **Read File** component's **Structured Content** output to the **Knowledge Ingestion** component's **Input** port.

6. **Run the component**: To load the data into your knowledge base, click <Icon name="Play" aria-hidden="true"/> **Run component** on the **Knowledge Ingestion** component, and then click <Icon name="TextSearch" aria-hidden="true" /> **Inspect output** to see how the `DataFrame` columns were processed.

7. **Verify the results**: The component outputs metadata about the ingested knowledge base:

    <details>
    <summary>Example output structure</summary>

    ```json
    {
      "kb_id": "550e8400-e29b-41d4-a716-446655440000",
      "kb_name": "customer-sales",
      "rows": 150,
      "column_metadata": {
        "total_columns": 3,
        "mapped_columns": 3,
        "unmapped_columns": 0,
        "columns": [
          {
            "name": "product_name",
            "vectorize": true,
            "identifier": false
          },
          {
            "name": "product_category",
            "vectorize": false,
            "identifier": false
          },
          {
            "name": "order_id",
            "vectorize": false,
            "identifier": true
          }
        ],
        "summary": {
          "vectorized_columns": [
            "product_name"
          ],
          "identifier_columns": [
            "order_id"
          ]
        }
      },
      "path": "~/.langflow/knowledge_bases/customer-sales",
      "config_columns": 5,
      "timestamp": "2025-08-20T21:18:39.243830+00:00"
    }
    ```

    </details>

8. **Search your knowledge base**:

    After you create and load data to a knowledge base, you can use the [**Knowledge Retrieval** component](/knowledge-retrieval) in any flow to retrieve data from your knowledge base using semantic search:

    1. Add a **Knowledge Retrieval** component to your flow.

    2. In the **Knowledge** field, select the knowledge base you want to search, such as the customer sales data knowledge base created in the previous steps.

    3. To view the search results as chat messages, connect the **Results** output to a **Chat Output** component.

    4. In **Search query**, enter a query that relates to your embedded data.

    For the customer sales data example, enter a product name like `laptop` or `wireless devices`.

    5. Click <Icon name="Play" aria-hidden="true"/> **Run component** on the **Knowledge Retrieval** component, and then open the **Playground** to view the output.

:::tip

The preceding example was simplified for demonstration purposes.

In a real-world scenario, you would integrate these components into complete flows with more components.

For more examples of knowledge bases in flows, see the **Knowledge Ingestion** and **Knowledge Retrieval** [templates](/concepts-flows#create-a-flow) in Langflow.

:::

