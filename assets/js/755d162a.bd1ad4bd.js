"use strict";(self.webpackChunklangflow_docs=self.webpackChunklangflow_docs||[]).push([[2102],{1258:(e,n,o)=>{o.r(n),o.d(n,{CH:()=>h,assets:()=>d,chCodeConfig:()=>p,contentTitle:()=>c,default:()=>g,frontMatter:()=>r,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"Develop/concepts-file-management","title":"Manage files","description":"Each Langflow server has a file management system where you can store files that you want to use in your flows.","source":"@site/docs/Develop/concepts-file-management.mdx","sourceDirName":"Develop","slug":"/concepts-file-management","permalink":"/concepts-file-management","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Manage files","slug":"/concepts-file-management"},"sidebar":"docs","previous":{"title":"Environment variables","permalink":"/environment-variables"},"next":{"title":"Manage memory","permalink":"/memory"}}');var s=o(74848),l=o(28453),i=o(24754),a=o(40619);const r={title:"Manage files",slug:"/concepts-file-management"},c=void 0,d={},h={annotations:i.hk,Code:i.Cy},p={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},u=[{value:"Use the file management UI",id:"use-the-file-management-ui",level:2},{value:"Upload and manage files with the Langflow API",id:"upload-and-manage-files-with-the-langflow-api",level:2},{value:"Set the maximum file size",id:"set-the-maximum-file-size",level:2},{value:"Use files in a flow",id:"use-files-in-a-flow",level:2},{value:"Load files at runtime",id:"load-files-at-runtime",level:3},{value:"Upload images",id:"upload-images",level:2},{value:"Work with video files",id:"work-with-video-files",level:2},{value:"See also",id:"see-also",level:2}];function f(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return h||m("CH",!1),h.Code||m("CH.Code",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n","\n",(0,s.jsx)(n.p,{children:"Each Langflow server has a file management system where you can store files that you want to use in your flows."}),"\n",(0,s.jsxs)(n.p,{children:["Files uploaded to Langflow file management are stored locally in your ",(0,s.jsx)(n.a,{href:"/memory",children:"Langflow configuration directory"}),", and they are available to all of your flows.\nLocal storage is set by ",(0,s.jsx)(n.code,{children:"LANGFLOW_STORAGE_TYPE"}),", which has only one allowed value (",(0,s.jsx)(n.code,{children:"local"}),")."]}),"\n",(0,s.jsx)(n.p,{children:"Uploading files to Langflow file management keeps your files in a central location, and allows you to reuse files across flows without repeated manual uploads."}),"\n",(0,s.jsx)(n.h2,{id:"use-the-file-management-ui",children:"Use the file management UI"}),"\n",(0,s.jsx)(n.p,{children:"You can use the file management UI to upload files from your local machine to your own Langflow server.\nYou can also manage all files that have been uploaded to your Langflow server."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Navigate to Langflow file management:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Langflow Desktop"}),": In Langflow, on the ",(0,s.jsxs)(n.a,{href:"/concepts-flows#projects",children:[(0,s.jsx)(n.strong,{children:"Projects"})," page"]})," page, click ",(0,s.jsx)(n.strong,{children:"My Files"})," below the list of projects."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Langflow OSS"}),": From a browser, navigate to your Langflow server's ",(0,s.jsx)(n.code,{children:"/files"})," endpoint, such as ",(0,s.jsx)(n.code,{children:"http://localhost:7860/files"}),". Modify the base URL as needed for your Langflow server."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Backend-only"}),": For programmatic file management, use the ",(0,s.jsx)(n.a,{href:"/api-files",children:"Langflow API files endpoints"}),". However, the following steps assume you're using the file management UI."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["On the ",(0,s.jsx)(n.strong,{children:"My Files"})," page, click ",(0,s.jsx)(n.strong,{children:"Upload"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Select one or more files to upload."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["After uploading files, you can rename, download, copy, or delete files within the file management UI.\nTo delete a file, hover over a file's icon, select it, and then click ",(0,s.jsx)(a.A,{name:"Trash2","aria-hidden":"true"})," ",(0,s.jsx)(n.strong,{children:"Delete"}),".\nYou can delete multiple files in a single action.\nTo download a file, hover over a file's icon, select it, and then click ",(0,s.jsx)(a.A,{name:"Download","aria-hidden":"true"})," ",(0,s.jsx)(n.strong,{children:"Download"}),".\nIf you download multiple files in a single action, they are saved together in a zip file."]}),"\n",(0,s.jsx)(n.h2,{id:"upload-and-manage-files-with-the-langflow-api",children:"Upload and manage files with the Langflow API"}),"\n",(0,s.jsx)(n.p,{children:"With the Langflow API, you can upload and manage files in Langflow file management, and you can send files to flows programmatically at runtime."}),"\n",(0,s.jsxs)(n.p,{children:["For more information and examples, see ",(0,s.jsx)(n.a,{href:"/api-files",children:"Files endpoints"})," and ",(0,s.jsx)(n.a,{href:"/chat-with-files",children:"Create a chatbot that can ingest files"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"set-the-maximum-file-size",children:"Set the maximum file size"}),"\n",(0,s.jsxs)(n.p,{children:["By default, the maximum file size is 1024 MB.\nTo modify this value, change the ",(0,s.jsx)(n.code,{children:"LANGFLOW_MAX_FILE_SIZE_UPLOAD"})," ",(0,s.jsx)(n.a,{href:"/environment-variables",children:"environment variable"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"use-files-in-a-flow",children:"Use files in a flow"}),"\n",(0,s.jsxs)(n.p,{children:["To use files in your Langflow file management system in a flow, add a component that accepts file input to your flow, such as the ",(0,s.jsx)(n.strong,{children:"File"})," component."]}),"\n",(0,s.jsxs)(n.p,{children:["For example, add a ",(0,s.jsx)(n.strong,{children:"File"})," component to your flow, click ",(0,s.jsx)(n.strong,{children:"Select files"}),", and then select files from the ",(0,s.jsx)(n.strong,{children:"My Files"})," list."]}),"\n",(0,s.jsxs)(n.p,{children:["This list includes all files in your server's file management system, but you can only select ",(0,s.jsxs)(n.a,{href:"/components-data#file",children:["file types that are supported by the ",(0,s.jsx)(n.strong,{children:"File"})," component"]}),".\nIf you need another file type, you must use a different component that supports that file type, or you need to convert it to a supported type before uploading it."]}),"\n",(0,s.jsxs)(n.p,{children:["For more information about the ",(0,s.jsx)(n.strong,{children:"File"})," component and other data loading components, see ",(0,s.jsx)(n.a,{href:"/components-data",children:"Data components"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"load-files-at-runtime",children:"Load files at runtime"}),"\n",(0,s.jsx)(n.p,{children:"You can use preloaded files in your flows, and you can load files at runtime, if your flow accepts file input.\nTo enable file input in your flow, do the following:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add a ",(0,s.jsxs)(n.a,{href:"/components-data#file",children:[(0,s.jsx)(n.strong,{children:"File"})," component"]})," to your flow."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(n.strong,{children:"Share"}),", select ",(0,s.jsx)(n.strong,{children:"API access"}),", and then click ",(0,s.jsx)(n.strong,{children:"Input Schema"})," to add ",(0,s.jsx)(n.a,{href:"/concepts-publish#input-schema",children:(0,s.jsx)(n.code,{children:"tweaks"})})," to the request payload in the flow's automatically generated code snippets."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Expand the ",(0,s.jsx)(n.strong,{children:"File"})," section, find the ",(0,s.jsx)(n.strong,{children:"Files"})," row, and then enable ",(0,s.jsx)(n.strong,{children:"Expose Input"})," to allow the parameter to be set at runtime through the Langflow API."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Close the ",(0,s.jsx)(n.strong,{children:"Input Schema"})," pane to return to the ",(0,s.jsx)(n.strong,{children:"API access"})," pane.\nThe payload in each code snippet now includes ",(0,s.jsx)(n.code,{children:"tweaks"})," with your ",(0,s.jsx)(n.strong,{children:"File"})," component's ID and the ",(0,s.jsx)(n.code,{children:"path"})," key that you enabled in ",(0,s.jsx)(n.strong,{children:"Input Schema"}),":"]}),"\n",(0,s.jsx)(h.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:'"tweaks"',props:{style:{color:"#A5D6FF"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "File-qYD5w"',props:{style:{color:"#7EE787"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'\t    "path"',props:{style:{color:"#7EE787"}}},{content:": []",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"}",props:{style:{color:"#C9D1D9"}}}]}],lang:"json"},annotations:[]}]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["When you run this flow programmatically, your script must upload a file to Langflow file management, and then pass the returned ",(0,s.jsx)(n.code,{children:"file_path"})," to the ",(0,s.jsx)(n.code,{children:"path"})," tweak in the ",(0,s.jsx)(n.code,{children:"/run"})," request:"]}),"\n",(0,s.jsx)(h.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:'"tweaks"',props:{style:{color:"#A5D6FF"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "FILE_COMPONENT_ID"',props:{style:{color:"#7EE787"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'        "path"',props:{style:{color:"#7EE787"}}},{content:": [ ",props:{style:{color:"#C9D1D9"}}},{content:'"file_path"',props:{style:{color:"#A5D6FF"}}},{content:" ]",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"}",props:{style:{color:"#C9D1D9"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,s.jsxs)(n.p,{children:["For a complete example see ",(0,s.jsx)(n.a,{href:"/chat-with-files",children:"Create a chatbot that can ingest files"})," and ",(0,s.jsx)(n.a,{href:"/api-files",children:"Files endpoints"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["If you want to upload multiple files, you can pass multiple ",(0,s.jsx)(n.code,{children:"file_path"})," values in the ",(0,s.jsx)(n.code,{children:"path"})," array, such as ",(0,s.jsx)(n.code,{children:'[ "path1", "path2" ]'}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"upload-images",children:"Upload images"}),"\n",(0,s.jsx)(n.p,{children:"Langflow supports base64 images in the following formats:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"PNG"}),"\n",(0,s.jsx)(n.li,{children:"JPG/JPEG"}),"\n",(0,s.jsx)(n.li,{children:"GIF"}),"\n",(0,s.jsx)(n.li,{children:"BMP"}),"\n",(0,s.jsx)(n.li,{children:"WebP"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["You can upload images to the ",(0,s.jsx)(n.strong,{children:"Playground"})," chat interface and as runtime input with the Langflow API."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the ",(0,s.jsx)(n.strong,{children:"Playground"}),", you can drag-and-drop images into the chat input area, or you can click the ",(0,s.jsx)(n.strong,{children:"Attach image"})," icon to select an image to upload."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["When you trigger a flow with the ",(0,s.jsx)(n.code,{children:"/api/v1/run/$FLOW_ID"})," endpoint, you can use the ",(0,s.jsx)(n.code,{children:"files"})," parameter to attach image data as a base64-encoded string:"]}),"\n",(0,s.jsx)(h.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"curl ",props:{style:{color:"#FFA657"}}},{content:"-X ",props:{style:{color:"#79C0FF"}}},{content:'POST "http://',props:{style:{color:"#A5D6FF"}}},{content:"$LANGFLOW_SERVER_ADDRESS",props:{style:{color:"#C9D1D9"}}},{content:"/api/v1/run/",props:{style:{color:"#A5D6FF"}}},{content:"$FLOW_ID",props:{style:{color:"#C9D1D9"}}},{content:'" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"-H ",props:{style:{color:"#C9D1D9"}}},{content:'"Content-Type: application/json" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"-H ",props:{style:{color:"#C9D1D9"}}},{content:'"x-api-key: ',props:{style:{color:"#A5D6FF"}}},{content:"$LANGFLOW_API_KEY",props:{style:{color:"#C9D1D9"}}},{content:'" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"-d ",props:{style:{color:"#C9D1D9"}}},{content:"'{",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'   "session_id": "custom_session_123",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'   "input_value": "What is in this image?",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'   "input_type": "chat",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'   "output_type": "chat",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'   "files": ["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA..."]',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"}'",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For more specialized image processing, browse ",(0,s.jsx)(a.A,{name:"Blocks","aria-hidden":"true"})," [",(0,s.jsx)(n.strong,{children:"Bundles"}),"] or ",(0,s.jsx)(n.a,{href:"/components-custom-components",children:"create your own components"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"work-with-video-files",children:"Work with video files"}),"\n",(0,s.jsxs)(n.p,{children:["For videos, see the ",(0,s.jsx)(n.strong,{children:"Twelve Labs"})," and ",(0,s.jsx)(n.strong,{children:"YouTube"})," ",(0,s.jsx)(a.A,{name:"Blocks","aria-hidden":"true"})," ",(0,s.jsx)(n.a,{href:"/components-bundle-components",children:(0,s.jsx)(n.strong,{children:"Bundles"})}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/components-data",children:"Data components"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/components-processing",children:"Processing components"})}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(f,{...e})}):f(e)}function m(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);