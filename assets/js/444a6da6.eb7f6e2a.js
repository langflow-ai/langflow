"use strict";(self.webpackChunklangflow_docs=self.webpackChunklangflow_docs||[]).push([[1193],{11470:(e,t,o)=>{o.d(t,{A:()=>b});var n=o(96540),s=o(18215),r=o(23104),l=o(56347),c=o(205),a=o(57485),p=o(31682),i=o(70679);function d(e){return n.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function u(e){const{values:t,children:o}=e;return(0,n.useMemo)(()=>{const e=t??function(e){return d(e).map(({props:{value:e,label:t,attributes:o,default:n}})=>({value:e,label:t,attributes:o,default:n}))}(o);return function(e){const t=(0,p.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,o])}function h({value:e,tabValues:t}){return t.some(t=>t.value===e)}function y({queryString:e=!1,groupId:t}){const o=(0,l.W6)(),s=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,a.aZ)(s),(0,n.useCallback)(e=>{if(!s)return;const t=new URLSearchParams(o.location.search);t.set(s,e),o.replace({...o.location,search:t.toString()})},[s,o])]}function F(e){const{defaultValue:t,queryString:o=!1,groupId:s}=e,r=u(e),[l,a]=(0,n.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const o=t.find(e=>e.default)??t[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:t,tabValues:r})),[p,d]=y({queryString:o,groupId:s}),[F,f]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[o,s]=(0,i.Dv)(t);return[o,(0,n.useCallback)(e=>{t&&s.set(e)},[t,s])]}({groupId:s}),m=(()=>{const e=p??F;return h({value:e,tabValues:r})?e:null})();(0,c.A)(()=>{m&&a(m)},[m]);return{selectedValue:l,selectValue:(0,n.useCallback)(e=>{if(!h({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);a(e),d(e),f(e)},[d,f,r]),tabValues:r}}var f=o(92303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var D=o(74848);function k({className:e,block:t,selectedValue:o,selectValue:n,tabValues:l}){const c=[],{blockElementScrollPositionUntilNextRender:a}=(0,r.a_)(),p=e=>{const t=e.currentTarget,s=c.indexOf(t),r=l[s].value;r!==o&&(a(t),n(r))},i=e=>{let t=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const o=c.indexOf(e.currentTarget)+1;t=c[o]??c[0];break}case"ArrowLeft":{const o=c.indexOf(e.currentTarget)-1;t=c[o]??c[c.length-1];break}}t?.focus()};return(0,D.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},e),children:l.map(({value:e,label:t,attributes:n})=>(0,D.jsx)("li",{role:"tab",tabIndex:o===e?0:-1,"aria-selected":o===e,ref:e=>{c.push(e)},onKeyDown:i,onClick:p,...n,className:(0,s.A)("tabs__item",m.tabItem,n?.className,{"tabs__item--active":o===e}),children:t??e},e))})}function g({lazy:e,children:t,selectedValue:o}){const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=r.find(e=>e.props.value===o);return e?(0,n.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,D.jsx)("div",{className:"margin-top--md",children:r.map((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==o}))})}function x(e){const t=F(e);return(0,D.jsxs)("div",{className:(0,s.A)("tabs-container",m.tabList),children:[(0,D.jsx)(k,{...t,...e}),(0,D.jsx)(g,{...t,...e})]})}function b(e){const t=(0,f.A)();return(0,D.jsx)(x,{...e,children:d(e.children)},String(t))}},19365:(e,t,o)=>{o.d(t,{A:()=>l});o(96540);var n=o(18215);const s={tabItem:"tabItem_Ymn6"};var r=o(74848);function l({children:e,hidden:t,className:o}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,n.A)(s.tabItem,o),hidden:t,children:e})}},64742:(e,t,o)=>{o.r(t),o.d(t,{CH:()=>i,assets:()=>p,chCodeConfig:()=>d,contentTitle:()=>a,default:()=>y,frontMatter:()=>c,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"API-Reference/api-flows-run","title":"Flow trigger endpoints","description":"Use the /run and /webhook endpoints to run flows.","source":"@site/docs/API-Reference/api-flows-run.mdx","sourceDirName":"API-Reference","slug":"/api-flows-run","permalink":"/api-flows-run","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Flow trigger endpoints","slug":"/api-flows-run"},"sidebar":"docs","previous":{"title":"Get started with the Langflow API","permalink":"/api-reference-api-examples"},"next":{"title":"Flow management endpoints","permalink":"/api-flows"}}');var s=o(74848),r=o(28453),l=o(24754);o(11470),o(19365);const c={title:"Flow trigger endpoints",slug:"/api-flows-run"},a=void 0,p={},i={annotations:l.hk,Code:l.Cy},d={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},u=[{value:"Run flow",id:"run-flow",level:2},{value:"Stream LLM token responses",id:"stream-llm-token-responses",level:3},{value:"Run endpoint headers",id:"run-endpoint-headers",level:3},{value:"Run endpoint parameters",id:"run-endpoint-parameters",level:3},{value:"Request example with all headers and parameters",id:"request-example-with-all-headers-and-parameters",level:3},{value:"Webhook run flow",id:"webhook-run-flow",level:2},{value:"Deprecated flow trigger endpoints",id:"deprecated-flow-trigger-endpoints",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{Details:o}=t;return i||F("CH",!1),i.Code||F("CH.Code",!0),o||F("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n","\n",(0,s.jsxs)(t.p,{children:["Use the ",(0,s.jsx)(t.code,{children:"/run"})," and ",(0,s.jsx)(t.code,{children:"/webhook"})," endpoints to run flows."]}),"\n",(0,s.jsxs)(t.p,{children:["To create, read, update, and delete flows, see ",(0,s.jsx)(t.a,{href:"/api-flows",children:"Flow management endpoints"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"run-flow",children:"Run flow"}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["Langflow automatically generates Python, JavaScript, and curl code snippets for the ",(0,s.jsx)(t.code,{children:"/v1/run/$FLOW_ID"})," endpoint for all flows.\nFor more information, see ",(0,s.jsx)(t.a,{href:"/concepts-publish#generate-api-code-snippets",children:"Generate API code snippets"}),"."]})}),"\n",(0,s.jsxs)(t.p,{children:["Execute a specified flow by ID or name.\nFlow IDs can be found on the code snippets on the ",(0,s.jsxs)(t.a,{href:"/concepts-publish#api-access",children:[(0,s.jsx)(t.strong,{children:"API access"})," pane"]})," or in a flow's URL."]}),"\n",(0,s.jsxs)(t.p,{children:["The following example runs a ",(0,s.jsx)(t.a,{href:"/basic-prompting",children:"Basic Prompting"})," flow with flow parameters passed in the request body.\nThis flow requires a chat input string (",(0,s.jsx)(t.code,{children:"input_value"}),"), and uses default values for all other parameters."]}),"\n",(0,s.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"curl ",props:{style:{color:"#FFA657"}}},{content:"-X ",props:{style:{color:"#79C0FF"}}},{content:"POST ",props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:'  "',props:{style:{color:"#A5D6FF"}}},{content:"$LANGFLOW_SERVER_URL",props:{style:{color:"#C9D1D9"}}},{content:"/api/v1/run/",props:{style:{color:"#A5D6FF"}}},{content:"$FLOW_ID",props:{style:{color:"#C9D1D9"}}},{content:'" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -H ",props:{style:{color:"#79C0FF"}}},{content:'"Content-Type: application/json" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -H ",props:{style:{color:"#79C0FF"}}},{content:'"x-api-key: ',props:{style:{color:"#A5D6FF"}}},{content:"$LANGFLOW_API_KEY",props:{style:{color:"#C9D1D9"}}},{content:'" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -d ",props:{style:{color:"#79C0FF"}}},{content:"'{",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "input_value": "Tell me about something interesting!",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "session_id": "chat-123",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "input_type": "chat",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "output_type": "chat",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "output_component": "",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "tweaks": null',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"  }'",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsxs)(t.p,{children:["The response from ",(0,s.jsx)(t.code,{children:"/v1/run/$FLOW_ID"})," includes metadata, inputs, and outputs for the run."]}),"\n",(0,s.jsxs)(o,{children:[(0,s.jsx)("summary",{children:"Result"}),(0,s.jsx)(t.p,{children:"The following example illustrates a response from a Basic Prompting flow:"}),(0,s.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'  "session_id"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"chat-123"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'  "outputs"',props:{style:{color:"#7EE787"}}},{content:": [{",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "inputs"',props:{style:{color:"#7EE787"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'      "input_value"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"Tell me about something interesting!"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"    },",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "outputs"',props:{style:{color:"#7EE787"}}},{content:": [{",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'      "results"',props:{style:{color:"#7EE787"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'        "message"',props:{style:{color:"#7EE787"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'          "text"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"Sure! Have you ever heard of the phenomenon known as ',props:{style:{color:"#A5D6FF"}}},{content:'\\"',props:{style:{color:"#79C0FF"}}},{content:"bioluminescence",props:{style:{color:"#A5D6FF"}}},{content:'\\"',props:{style:{color:"#79C0FF"}}},{content:"? It's a fascinating natural occurrence where living organisms produce and emit light. This ability is found in various species, including certain types of jellyfish, fireflies, and deep-sea creatures like anglerfish.",props:{style:{color:"#A5D6FF"}}},{content:"\\n\\n",props:{style:{color:"#79C0FF"}}},{content:"Bioluminescence occurs through a chemical reaction in which a light-emitting molecule called luciferin reacts with oxygen, catalyzed by an enzyme called luciferase. The result is a beautiful glow that can serve various purposes, such as attracting mates, deterring predators, or luring prey.",props:{style:{color:"#A5D6FF"}}},{content:"\\n\\n",props:{style:{color:"#79C0FF"}}},{content:"One of the most stunning displays of bioluminescence can be seen in the ocean, where certain plankton emit light when disturbed, creating a mesmerizing blue glow in the water. This phenomenon is often referred to as ",props:{style:{color:"#A5D6FF"}}},{content:'\\"',props:{style:{color:"#79C0FF"}}},{content:"sea sparkle",props:{style:{color:"#A5D6FF"}}},{content:'\\"',props:{style:{color:"#79C0FF"}}},{content:" and can be seen in coastal areas around the world.",props:{style:{color:"#A5D6FF"}}},{content:"\\n\\n",props:{style:{color:"#79C0FF"}}},{content:"Bioluminescence not only captivates our imagination but also has practical applications in science and medicine, including the development of biosensors and imaging techniques. It's a remarkable example of nature's creativity and complexity!\"",props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'          "sender"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"Machine"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'          "sender_name"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"AI"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'          "session_id"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"chat-123"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'          "timestamp"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"2025-03-03T17:17:37+00:00"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'          "flow_id"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"d2bbd92b-187e-4c84-b2d4-5df365704201"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'          "properties"',props:{style:{color:"#7EE787"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'            "source"',props:{style:{color:"#7EE787"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'              "id"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"OpenAIModel-d1wOZ"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'              "display_name"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"OpenAI"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'              "source"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"gpt-4o-mini"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"            },",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'            "icon"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"OpenAI"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"          },",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'          "component_id"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"ChatOutput-ylMzN"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"        }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"      }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    }]",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"  }]",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"}",props:{style:{color:"#C9D1D9"}}}]}],lang:"json"},annotations:[]}]})]}),"\n",(0,s.jsxs)(t.p,{children:["If you are parsing the response in an application, you most likely need to extract the relevant content from the response, rather than pass the entire response back to the user.\nFor an example of a script that extracts data from a Langflow API response, see the ",(0,s.jsx)(t.a,{href:"/get-started-quickstart",children:"Quickstart"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"stream-llm-token-responses",children:"Stream LLM token responses"}),"\n",(0,s.jsxs)(t.p,{children:["With ",(0,s.jsx)(t.code,{children:"/v1/run/$FLOW_ID"}),", the flow is executed as a batch with optional LLM token response streaming."]}),"\n",(0,s.jsxs)(t.p,{children:["To stream LLM token responses, append the ",(0,s.jsx)(t.code,{children:"?stream=true"})," query parameter to the request:"]}),"\n",(0,s.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"curl ",props:{style:{color:"#FFA657"}}},{content:"-X ",props:{style:{color:"#79C0FF"}}},{content:"POST ",props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:'  "',props:{style:{color:"#A5D6FF"}}},{content:"$LANGFLOW_SERVER_URL",props:{style:{color:"#C9D1D9"}}},{content:"/api/v1/run/",props:{style:{color:"#A5D6FF"}}},{content:"$FLOW_ID",props:{style:{color:"#C9D1D9"}}},{content:'?stream=true" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -H ",props:{style:{color:"#79C0FF"}}},{content:'"accept: application/json" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -H ",props:{style:{color:"#79C0FF"}}},{content:'"Content-Type: application/json" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -H ",props:{style:{color:"#79C0FF"}}},{content:'"x-api-key: ',props:{style:{color:"#A5D6FF"}}},{content:"$LANGFLOW_API_KEY",props:{style:{color:"#C9D1D9"}}},{content:'" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -d ",props:{style:{color:"#79C0FF"}}},{content:"'{",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "message": "Tell me something interesting!",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "session_id": "chat-123"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"  }'",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsxs)(t.p,{children:["LLM chat responses are streamed back as ",(0,s.jsx)(t.code,{children:"token"})," events, culminating in a final ",(0,s.jsx)(t.code,{children:"end"})," event that closes the connection."]}),"\n",(0,s.jsxs)(o,{children:[(0,s.jsx)("summary",{children:"Result"}),(0,s.jsxs)(t.p,{children:["The following example is truncated to illustrate a series of ",(0,s.jsx)(t.code,{children:"token"})," events as well as the final ",(0,s.jsx)(t.code,{children:"end"})," event that closes the LLM's token streaming response:"]}),(0,s.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:'{"event": "add_message", "data": {"timestamp": "2025-03-03T17:20:18", "sender": "User", "sender_name": "User", "session_id": "chat-123", "text": "Tell me about something interesting!", "files": [], "error": false, "edit": false, "properties": {"text_color": "", "background_color": "", "edited": false, "source": {"id": null, "display_name": null, "source": null}, "icon": "", "allow_markdown": false, "positive_feedback": null, "state": "complete", "targets": []}, "category": "message", "content_blocks": [], "id": "0103a21b-ebf7-4c02-9d72-017fb297f812", "flow_id": "d2bbd92b-187e-4c84-b2d4-5df365704201"}}',props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:'{"event": "add_message", "data": {"timestamp": "2025-03-03T17:20:18", "sender": "Machine", "sender_name": "AI", "session_id": "chat-123", "text": "", "files": [], "error": false, "edit": false, "properties": {"text_color": "", "background_color": "", "edited": false, "source": {"id": "OpenAIModel-d1wOZ", "display_name": "OpenAI", "source": "gpt-4o-mini"}, "icon": "OpenAI", "allow_markdown": false, "positive_feedback": null, "state": "complete", "targets": []}, "category": "message", "content_blocks": [], "id": "27b66789-e673-4c65-9e81-021752925161", "flow_id": "d2bbd92b-187e-4c84-b2d4-5df365704201"}}',props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:'{"event": "token", "data": {"chunk": " Have", "id": "27b66789-e673-4c65-9e81-021752925161", "timestamp": "2025-03-03 17:20:18 UTC"}}',props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:'{"event": "token", "data": {"chunk": " you", "id": "27b66789-e673-4c65-9e81-021752925161", "timestamp": "2025-03-03 17:20:18 UTC"}}',props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:'{"event": "token", "data": {"chunk": " ever", "id": "27b66789-e673-4c65-9e81-021752925161", "timestamp": "2025-03-03 17:20:18 UTC"}}',props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:'{"event": "token", "data": {"chunk": " heard", "id": "27b66789-e673-4c65-9e81-021752925161", "timestamp": "2025-03-03 17:20:18 UTC"}}',props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:'{"event": "token", "data": {"chunk": " of", "id": "27b66789-e673-4c65-9e81-021752925161", "timestamp": "2025-03-03 17:20:18 UTC"}}',props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:'{"event": "token", "data": {"chunk": " the", "id": "27b66789-e673-4c65-9e81-021752925161", "timestamp": "2025-03-03 17:20:18 UTC"}}',props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:'{"event": "token", "data": {"chunk": " phenomenon", "id": "27b66789-e673-4c65-9e81-021752925161", "timestamp": "2025-03-03 17:20:18 UTC"}}',props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:'{"event": "end", "data": {"result": {"session_id": "chat-123", "message": "Sure! Have you ever heard of the phenomenon known as \\"bioluminescence\\"?..."}}}',props:{}}]}],lang:"text"},annotations:[]}]})]}),"\n",(0,s.jsx)(t.h3,{id:"run-endpoint-headers",children:"Run endpoint headers"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Header"}),(0,s.jsx)(t.th,{children:"Info"}),(0,s.jsx)(t.th,{children:"Example"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Content-Type"}),(0,s.jsx)(t.td,{children:"Required. Specifies the JSON format."}),(0,s.jsx)(t.td,{children:'"application/json"'})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"accept"}),(0,s.jsx)(t.td,{children:"Optional. Specifies the response format."}),(0,s.jsx)(t.td,{children:'"application/json"'})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"x-api-key"}),(0,s.jsx)(t.td,{children:"Optional. Required only if authentication is enabled."}),(0,s.jsx)(t.td,{children:'"sk-..."'})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"run-endpoint-parameters",children:"Run endpoint parameters"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Info"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"flow_id"}),(0,s.jsx)(t.td,{children:"UUID/string"}),(0,s.jsxs)(t.td,{children:["Required. Part of URL: ",(0,s.jsx)(t.code,{children:"/run/$FLOW_ID"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"stream"}),(0,s.jsx)(t.td,{children:"boolean"}),(0,s.jsxs)(t.td,{children:["Optional. Query parameter: ",(0,s.jsx)(t.code,{children:"/run/$FLOW_ID?stream=true"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"input_value"}),(0,s.jsx)(t.td,{children:"string"}),(0,s.jsxs)(t.td,{children:["Optional. JSON body field. Main input text/prompt. Default: ",(0,s.jsx)(t.code,{children:"null"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"input_type"}),(0,s.jsx)(t.td,{children:"string"}),(0,s.jsxs)(t.td,{children:['Optional. JSON body field. Input type ("chat" or "text"). Default: ',(0,s.jsx)(t.code,{children:'"chat"'})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"output_type"}),(0,s.jsx)(t.td,{children:"string"}),(0,s.jsxs)(t.td,{children:['Optional. JSON body field. Output type ("chat", "any", "debug"). Default: ',(0,s.jsx)(t.code,{children:'"chat"'})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"output_component"}),(0,s.jsx)(t.td,{children:"string"}),(0,s.jsxs)(t.td,{children:["Optional. JSON body field. Target component for output. Default: ",(0,s.jsx)(t.code,{children:'""'})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"tweaks"}),(0,s.jsx)(t.td,{children:"object"}),(0,s.jsxs)(t.td,{children:["Optional. JSON body field. Component adjustments. Default: ",(0,s.jsx)(t.code,{children:"null"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"session_id"}),(0,s.jsx)(t.td,{children:"string"}),(0,s.jsxs)(t.td,{children:["Optional. JSON body field. Conversation context ID. See ",(0,s.jsx)(t.a,{href:"/session-id",children:"Session ID"}),". Default: ",(0,s.jsx)(t.code,{children:"null"})]})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"request-example-with-all-headers-and-parameters",children:"Request example with all headers and parameters"}),"\n",(0,s.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"curl ",props:{style:{color:"#FFA657"}}},{content:"-X ",props:{style:{color:"#79C0FF"}}},{content:"POST ",props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:'  "',props:{style:{color:"#A5D6FF"}}},{content:"$LANGFLOW_SERVER_URL",props:{style:{color:"#C9D1D9"}}},{content:"/api/v1/run/",props:{style:{color:"#A5D6FF"}}},{content:"$FLOW_ID",props:{style:{color:"#C9D1D9"}}},{content:'?stream=true" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -H ",props:{style:{color:"#79C0FF"}}},{content:'"Content-Type: application/json" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -H ",props:{style:{color:"#79C0FF"}}},{content:'"accept: application/json" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -H ",props:{style:{color:"#79C0FF"}}},{content:'"x-api-key: ',props:{style:{color:"#A5D6FF"}}},{content:"$LANGFLOW_API_KEY",props:{style:{color:"#C9D1D9"}}},{content:'" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -d ",props:{style:{color:"#79C0FF"}}},{content:"'{",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "input_value": "Tell me a story",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "input_type": "chat",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "output_type": "chat",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "output_component": "chat_output",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "session_id": "chat-123",',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'    "tweaks": {',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'      "component_id": {',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:'        "parameter_name": "value"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"      }",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"    }",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"  }'",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsx)(t.h2,{id:"webhook-run-flow",children:"Webhook run flow"}),"\n",(0,s.jsxs)(t.p,{children:["Use the ",(0,s.jsx)(t.code,{children:"/webhook"})," endpoint to start a flow by sending an HTTP ",(0,s.jsx)(t.code,{children:"POST"})," request."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["After you add a ",(0,s.jsx)(t.strong,{children:"Webhook"})," component to a flow, open the ",(0,s.jsxs)(t.a,{href:"/concepts-publish",children:[(0,s.jsx)(t.strong,{children:"API access"})," pane"]}),", and then click the ",(0,s.jsx)(t.strong,{children:"Webhook cURL"})," tab to get an automatically generated ",(0,s.jsx)(t.code,{children:"POST /webhook"})," request for your flow."]})}),"\n",(0,s.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"curl ",props:{style:{color:"#FFA657"}}},{content:"-X ",props:{style:{color:"#79C0FF"}}},{content:"POST ",props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:'  "',props:{style:{color:"#A5D6FF"}}},{content:"$LANGFLOW_SERVER_URL",props:{style:{color:"#C9D1D9"}}},{content:"/api/v1/webhook/",props:{style:{color:"#A5D6FF"}}},{content:"$FLOW_ID",props:{style:{color:"#C9D1D9"}}},{content:'" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -H ",props:{style:{color:"#79C0FF"}}},{content:'"Content-Type: application/json" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -H ",props:{style:{color:"#79C0FF"}}},{content:'"x-api-key: ',props:{style:{color:"#A5D6FF"}}},{content:"$LANGFLOW_API_KEY",props:{style:{color:"#C9D1D9"}}},{content:'" ',props:{style:{color:"#A5D6FF"}}},{content:"\\",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"  -d ",props:{style:{color:"#79C0FF"}}},{content:'\'{"data": "example-data"}\'',props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsxs)(o,{children:[(0,s.jsx)("summary",{children:"Result"}),(0,s.jsx)(i.Code,{codeConfig:d,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'  "message"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"Task started in the background"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'  "status"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"in progress"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"}",props:{style:{color:"#C9D1D9"}}}]}],lang:"json"},annotations:[]}]})]}),"\n",(0,s.jsxs)(t.p,{children:["For more information, see ",(0,s.jsx)(t.a,{href:"/components-data#webhook",children:"Webhook component"})," and ",(0,s.jsx)(t.a,{href:"/webhook",children:"Trigger flows with webhooks"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"deprecated-flow-trigger-endpoints",children:"Deprecated flow trigger endpoints"}),"\n",(0,s.jsxs)(t.p,{children:["The following endpoints are deprecated and replaced by the ",(0,s.jsx)(t.code,{children:"/run"})," endpoint:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"/process"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"/predict"})}),"\n"]})]})}function y(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}function F(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);