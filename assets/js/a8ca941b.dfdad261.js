"use strict";(globalThis.webpackChunklangflow_docs=globalThis.webpackChunklangflow_docs||[]).push([[4090],{9898:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/component-llm-router-1b417082a0208a70065bc177a78fab67.png"},11470:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(96540),o=n(18215),s=n(17559),a=n(23104),l=n(56347),c=n(205),i=n(57485),d=n(31682),u=n(70679);function h(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:t,children:n}=e;return(0,r.useMemo)(()=>{const e=t??function(e){return h(e).map(({props:{value:e,label:t,attributes:n,default:r}})=>({value:e,label:t,attributes:n,default:r}))}(n);return function(e){const t=(0,d.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function m({value:e,tabValues:t}){return t.some(t=>t.value===e)}function g({queryString:e=!1,groupId:t}){const n=(0,l.W6)(),o=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,i.aZ)(o),(0,r.useCallback)(e=>{if(!o)return;const t=new URLSearchParams(n.location.search);t.set(o,e),n.replace({...n.location,search:t.toString()})},[o,n])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:o}=e,s=p(e),[a,l]=(0,r.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s})),[i,d]=g({queryString:n,groupId:o}),[h,f]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,o]=(0,u.Dv)(t);return[n,(0,r.useCallback)(e=>{t&&o.set(e)},[t,o])]}({groupId:o}),x=(()=>{const e=i??h;return m({value:e,tabValues:s})?e:null})();(0,c.A)(()=>{x&&l(x)},[x]);return{selectedValue:a,selectValue:(0,r.useCallback)(e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),f(e)},[d,f,s]),tabValues:s}}var x=n(92303);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=n(74848);function v({className:e,block:t,selectedValue:n,selectValue:r,tabValues:s}){const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.a_)(),i=e=>{const t=e.currentTarget,o=l.indexOf(t),a=s[o].value;a!==n&&(c(t),r(a))},d=e=>{let t=null;switch(e.key){case"Enter":i(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},e),children:s.map(({value:e,label:t,attributes:r})=>(0,b.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:i,...r,className:(0,o.A)("tabs__item",j.tabItem,r?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function y({lazy:e,children:t,selectedValue:n}){const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===n);return e?(0,r.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function L(e){const t=f(e);return(0,b.jsxs)("div",{className:(0,o.A)(s.G.tabs.container,"tabs-container",j.tabList),children:[(0,b.jsx)(v,{...t,...e}),(0,b.jsx)(y,{...t,...e})]})}function w(e){const t=(0,x.A)();return(0,b.jsx)(L,{...e,children:h(e.children)},String(t))}},19365:(e,t,n)=>{n.d(t,{A:()=>a});n(96540);var r=n(18215);const o={tabItem:"tabItem_Ymn6"};var s=n(74848);function a({children:e,hidden:t,className:n}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(o.tabItem,n),hidden:t,children:e})}},31929:(e,t,n)=>{n.d(t,{Ay:()=>c,RM:()=>a});var r=n(74848),o=n(28453),s=n(40619);const a=[];function l(e){const t={a:"a",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(t.p,{children:["Some parameters are hidden by default in the visual editor.\nYou can modify all parameters through the ",(0,r.jsx)(s.A,{name:"SlidersHorizontal","aria-hidden":"true"})," ",(0,r.jsx)(t.strong,{children:"Controls"})," in the ",(0,r.jsx)(t.a,{href:"/concepts-components#component-menus",children:"component's header menu"}),"."]})}function c(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},40935:(e,t,n)=>{n.d(t,{Ay:()=>l,RM:()=>s});var r=n(74848),o=n(28453);const s=[];function a(e){const t={a:"a",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(t.p,{children:["If you are running Langflow Desktop on Windows, you must ",(0,r.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/windows/apps/get-started/enable-your-device-for-development#activate-developer-mode",children:"enable Developer Mode"})," to use the Docling components.\nThe location of this setting depends on your Windows OS version.\nFind ",(0,r.jsx)(t.strong,{children:"For developers"}),' in your Windows Settings, or search for "Developer" in the Windows search bar, and then enable ',(0,r.jsx)(t.strong,{children:"Developer mode"}),".\nYou might need to restart your computer or Langflow to apply the change."]})}function l(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},45590:(e,t,n)=>{n.r(t),n.d(t,{CH:()=>u,assets:()=>d,chCodeConfig:()=>h,contentTitle:()=>i,default:()=>g,frontMatter:()=>c,metadata:()=>r,toc:()=>p});const r=JSON.parse('{"id":"Components/llm-selector","title":"LLM Selector","description":"Prior to Langflow 1.7, this component was called the LLM Router.","source":"@site/docs/Components/llm-selector.mdx","sourceDirName":"Components","slug":"/llm-selector","permalink":"/llm-selector","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"LLM Selector","slug":"/llm-selector"},"sidebar":"docs","previous":{"title":"Batch Run","permalink":"/batch-run"},"next":{"title":"Smart Router","permalink":"/smart-router"}}');var o=n(74848),s=n(28453),a=n(24754),l=(n(40619),n(11470),n(19365),n(31929));n(40935);const c={title:"LLM Selector",slug:"/llm-selector"},i=void 0,d={},u={annotations:a.hk,Code:a.Cy},h={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},p=[{value:"LLM Selector parameters",id:"llm-selector-parameters",level:2},...l.RM,{value:"LLM Selector outputs",id:"llm-selector-outputs",level:2}];function m(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return u||f("CH",!1),u.Code||f("CH.Code",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n","\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["Prior to Langflow 1.7, this component was called the ",(0,o.jsx)(t.strong,{children:"LLM Router"}),"."]})}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.strong,{children:"LLM Selector"})," component routes requests to the most appropriate LLM based on ",(0,o.jsx)(t.a,{href:"https://openrouter.ai/docs/quickstart",children:"OpenRouter"})," model specifications."]}),"\n",(0,o.jsxs)(t.p,{children:["To use the component in a flow, you connect multiple language model components to the ",(0,o.jsx)(t.strong,{children:"LLM Selector"})," components.\nOne model is the judge LLM that analyzes input messages to understand the evaluation context, selects the most appropriate model from the other attached LLMs, and then routes the input to the selected model.\nThe selected model processes the input, and then returns the generated response."]}),"\n",(0,o.jsx)(t.p,{children:"The following example flow has three language model components.\nOne is the judge LLM, and the other two are in the LLM pool for request routing.\nThe input and output components create a seamless chat interaction where you send a message and receive a response without any user awareness of the underlying routing."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"LLM Selector component",src:n(9898).A+"",width:"3316",height:"2492"})}),"\n",(0,o.jsx)(t.h2,{id:"llm-selector-parameters",children:"LLM Selector parameters"}),"\n",(0,o.jsx)(l.Ay,{}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:"Name"}),(0,o.jsx)(t.th,{children:"Display Name"}),(0,o.jsx)(t.th,{children:"Info"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"models"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.strong,{children:"Language Models"})}),(0,o.jsxs)(t.td,{children:["Input parameter. Connect ",(0,o.jsx)(t.a,{href:"/data-types#languagemodel",children:(0,o.jsx)(t.code,{children:"LanguageModel"})})," output from multiple ",(0,o.jsx)(t.a,{href:"/components-models",children:"language model components"})," to create a pool of models. The ",(0,o.jsx)(t.code,{children:"judge_llm"})," selects models from this pool when routing requests. The first model you connect is the default model if there is a problem with model selection or routing."]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"input_value"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.strong,{children:"Input"})}),(0,o.jsx)(t.td,{children:"Input parameter. The incoming query to be routed to the model selected by the judge LLM."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"judge_llm"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.strong,{children:"Judge LLM"})}),(0,o.jsxs)(t.td,{children:["Input parameter. Connect ",(0,o.jsx)(t.code,{children:"LanguageModel"})," output from ",(0,o.jsx)(t.em,{children:"one"})," ",(0,o.jsx)(t.strong,{children:"Language Model"})," component to serve as the judge LLM for request routing."]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"optimization"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.strong,{children:"Optimization"})}),(0,o.jsxs)(t.td,{children:["Input parameter. Set a preferred characteristic for model selection by the judge LLM. The options are ",(0,o.jsx)(t.code,{children:"quality"})," (highest response quality), ",(0,o.jsx)(t.code,{children:"speed"})," (fastest response time), ",(0,o.jsx)(t.code,{children:"cost"})," (most cost-effective model), or ",(0,o.jsx)(t.code,{children:"balanced"})," (equal weight for quality, speed, and cost). Default: ",(0,o.jsx)(t.code,{children:"balanced"})]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"use_openrouter_specs"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.strong,{children:"Use OpenRouter Specs"})}),(0,o.jsxs)(t.td,{children:["Input parameter. Whether to fetch model specifications from the OpenRouter API. If ",(0,o.jsx)(t.code,{children:"false"}),", only the model name is provided to the judge LLM. Default: Enabled (",(0,o.jsx)(t.code,{children:"true"}),")"]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"timeout"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.strong,{children:"API Timeout"})}),(0,o.jsxs)(t.td,{children:["Input parameter. Set a timeout duration in seconds for API requests made by the router. Default: ",(0,o.jsx)(t.code,{children:"10"})]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"fallback_to_first"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.strong,{children:"Fallback to First Model"})}),(0,o.jsxs)(t.td,{children:["Input parameter. Whether to use the first LLM in ",(0,o.jsx)(t.code,{children:"models"})," as a backup if routing fails to reach the selected model. Default: Enabled (",(0,o.jsx)(t.code,{children:"true"}),")"]})]})]})]}),"\n",(0,o.jsx)(t.h2,{id:"llm-selector-outputs",children:"LLM Selector outputs"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.strong,{children:"LLM Selector"})," component provides three output options.\nYou can set the desired output type near the component's output port."]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Output"}),": A ",(0,o.jsx)(t.code,{children:"Message"})," containing the response to the original query as generated by the selected LLM.\nUse this output for regular chat interactions."]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Selected Model Info"}),": A ",(0,o.jsx)(t.code,{children:"Data"})," object containing information about the selected model, such as its name and version."]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Routing Decision"}),": A ",(0,o.jsx)(t.code,{children:"Message"})," containing the judge model's reasoning for selecting a particular model, including input query length and number of models considered.\nFor example:"]}),"\n",(0,o.jsx)(u.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"Model Selection Decision:",props:{}}]},{tokens:[{content:"- Selected Model Index: 0",props:{}}]},{tokens:[{content:"- Selected Langflow Model Name: gpt-4o-mini",props:{}}]},{tokens:[{content:"- Selected API Model ID (if resolved): openai/gpt-4o-mini",props:{}}]},{tokens:[{content:"- Optimization Preference: cost",props:{}}]},{tokens:[{content:"- Input Query Length: 27 characters (~5 tokens)",props:{}}]},{tokens:[{content:"- Number of Models Considered: 2",props:{}}]},{tokens:[{content:"- Specifications Source: OpenRouter API",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,o.jsx)(t.p,{children:"This is useful for debugging if you feel the judge model isn't selecting the best model."}),"\n"]}),"\n"]})]})}function g(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}function f(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);