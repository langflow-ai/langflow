"use strict";(self.webpackChunklangflow_docs=self.webpackChunklangflow_docs||[]).push([[5195],{60445:(e,s,o)=>{o.r(s),o.d(s,{CH:()=>l,assets:()=>d,chCodeConfig:()=>h,contentTitle:()=>c,default:()=>m,frontMatter:()=>a,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"Develop/session-id","title":"Use session ID to manage communication between components","description":"Session ID is a unique identifier for client/server connections. A single session equals the duration of a client\'s connection to a server.","source":"@site/docs/Develop/session-id.md","sourceDirName":"Develop","slug":"/session-id","permalink":"/session-id","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Use session ID to manage communication between components","slug":"/session-id"},"sidebar":"docs","previous":{"title":"Memory management","permalink":"/memory"},"next":{"title":"Logging","permalink":"/logging"}}');var t=o(74848),i=o(28453),r=o(24754);const a={title:"Use session ID to manage communication between components",slug:"/session-id"},c=void 0,d={},l={annotations:r.hk,Code:r.Cy},h={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},u=[{value:"Customize session ID",id:"customize-session-id",level:2},{value:"Retrieval of messages from memory by session ID",id:"retrieval-of-messages-from-memory-by-session-id",level:2}];function p(e){const s={a:"a",code:"code",h2:"h2",p:"p",strong:"strong",...(0,i.R)(),...e.components};return l||g("CH",!1),l.Code||g("CH.Code",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n",(0,t.jsx)(s.p,{children:"Session ID is a unique identifier for client/server connections. A single session equals the duration of a client's connection to a server."}),"\n",(0,t.jsxs)(s.p,{children:["In the Langflow ",(0,t.jsx)(s.strong,{children:"Playground"}),", current sessions are listed on the left side of the pane."]}),"\n",(0,t.jsx)(s.p,{children:"Langflow uses session IDs to track different chat interactions within flows. This allows multiple chat sessions to exist in a single flow. Messages are stored in the database with session IDs as a reference."}),"\n",(0,t.jsx)(s.p,{children:"This differentiation between users per session is helpful in managing client/server connections, but is also important in maintaining separate conversational contexts within a single flow. LLMs rely on past interactions to generate responses to queries, and if these conversations aren't separated, the responses becomes less useful, or even confused."}),"\n",(0,t.jsx)(s.h2,{id:"customize-session-id",children:"Customize session ID"}),"\n",(0,t.jsx)(s.p,{children:"Custom session IDs can be set as part of the payload in API calls, or as advanced settings in individual components. The API session ID value takes precedence. If no session ID is specified, the flow ID is assigned."}),"\n",(0,t.jsxs)(s.p,{children:["If you set a custom session ID in a payload, all downstream components use the upstream component's session ID value.\nReplace ",(0,t.jsx)(s.code,{children:"LANGFLOW_SERVER_ADDRESS"}),", ",(0,t.jsx)(s.code,{children:"FLOW_ID"}),", and ",(0,t.jsx)(s.code,{children:"LANGFLOW_API_KEY"})," with the values from your Langflow deployment."]}),"\n",(0,t.jsx)(l.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"curl --request POST \\",props:{}}]},{tokens:[{content:'  --url "http://LANGFLOW_SERVER_ADDRESS/api/v1/run/FLOW_ID" \\',props:{}}]},{tokens:[{content:'  --header "Content-Type: application/json" \\',props:{}}]},{tokens:[{content:'  --header "x-api-key: $LANGFLOW_API_KEY" \\',props:{}}]},{tokens:[{content:"  --data '{",props:{}}]},{tokens:[{content:'  "input_value": "Hello",',props:{}}]},{tokens:[{content:'  "output_type": "chat",',props:{}}]},{tokens:[{content:'  "input_type": "chat",',props:{}}]},{tokens:[{content:'  "session_id": "my_custom_session_value"',props:{}}]},{tokens:[{content:"}'",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"my_custom_session_value"})," value is used in components that accept it, and the stored messages from this flow are stored in ",(0,t.jsx)(s.code,{children:"langflow.db"})," with their respective ",(0,t.jsx)(s.code,{children:"session_id"})," values."]}),"\n",(0,t.jsx)(s.h2,{id:"retrieval-of-messages-from-memory-by-session-id",children:"Retrieval of messages from memory by session ID"}),"\n",(0,t.jsxs)(s.p,{children:["To retrieve messages from local Langflow memory, add a ",(0,t.jsx)(s.a,{href:"/components-helpers#message-history",children:"Message history"})," component to your flow.\nThe component accepts ",(0,t.jsx)(s.code,{children:"sessionID"})," as a filter parameter, and uses the session ID value from upstream automatically to retrieve message history by session ID from storage."]}),"\n",(0,t.jsxs)(s.p,{children:["Messages can be retrieved by ",(0,t.jsx)(s.code,{children:"session_id"})," from the Langflow API at ",(0,t.jsx)(s.code,{children:"GET /v1/monitor/messages"}),". For more information, see ",(0,t.jsx)(s.a,{href:"https://docs.langflow.org/api-monitor",children:"Monitor endpoints"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["For an example of session ID in action, see ",(0,t.jsx)(s.a,{href:"https://www.youtube.com/watch?v=nJiF_eF21MY",children:"Use Session IDs in Langflow"}),"."]})]})}function m(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}function g(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);