"use strict";(self.webpackChunklangflow_docs=self.webpackChunklangflow_docs||[]).push([[8661],{12378:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>c,contentTitle:()=>h,default:()=>l,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"Components/components-memories","title":"Memories","description":"Memory components store and retrieve chat messages by session_id.","source":"@site/docs/Components/components-memories.md","sourceDirName":"Components","slug":"/components-memories","permalink":"/components-memories","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Memories","slug":"/components-memories"},"sidebar":"docs","previous":{"title":"Logic","permalink":"/components-logic"},"next":{"title":"Models","permalink":"/components-models"}}');var t=r(74848),i=r(28453);const d={title:"Memories",slug:"/components-memories"},h="Memory components in Langflow",c={},o=[{value:"Use a memory component in a flow",id:"use-a-memory-component-in-a-flow",level:2},{value:"AstraDBChatMemory Component",id:"astradbchatmemory-component",level:2},{value:"CassandraChatMemory Component",id:"cassandrachatmemory-component",level:2},{value:"Mem0 Chat Memory",id:"mem0-chat-memory",level:2},{value:"Redis Chat Memory",id:"redis-chat-memory",level:2},{value:"Legacy components",id:"legacy-components",level:2},{value:"ZepChatMemory Component",id:"zepchatmemory-component",level:3}];function a(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components},{Details:n}=s;return n||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"memory-components-in-langflow",children:"Memory components in Langflow"})}),"\n",(0,t.jsxs)(s.p,{children:["Memory components store and retrieve chat messages by ",(0,t.jsx)(s.code,{children:"session_id"}),"."]}),"\n",(0,t.jsx)(s.p,{children:"They are distinct from vector store components, because they are built specifically for storing and retrieving chat messages from external databases."}),"\n",(0,t.jsxs)(s.p,{children:["Memory components provide access to their respective external databases ",(0,t.jsx)(s.strong,{children:"as memory"}),". This allows Large Language Models (LLMs) or ",(0,t.jsx)(s.a,{href:"/components-agents",children:"agents"})," to access external memory for persistence and context retention."]}),"\n",(0,t.jsx)(s.h2,{id:"use-a-memory-component-in-a-flow",children:"Use a memory component in a flow"}),"\n",(0,t.jsxs)(s.p,{children:["This example flow stores and retrieves chat history from an ",(0,t.jsx)(s.strong,{children:"Astra DB Chat Memory"})," component with ",(0,t.jsx)(s.strong,{children:"Store Message"})," and ",(0,t.jsx)(s.strong,{children:"Message history"})," components."]}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.strong,{children:"Store Message"})," helper component stores chat memories as ",(0,t.jsx)(s.a,{href:"/concepts-objects",children:"Data"})," objects, and the ",(0,t.jsx)(s.strong,{children:"Message History"})," helper component retrieves chat messages as ",(0,t.jsx)(s.a,{href:"/concepts-objects",children:"Data"})," objects or strings."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Sample Flow storing Message history in AstraDB",src:r(72654).A+"",width:"3178",height:"1228"})}),"\n",(0,t.jsx)(s.h2,{id:"astradbchatmemory-component",children:"AstraDBChatMemory Component"}),"\n",(0,t.jsxs)(s.p,{children:["This component creates an ",(0,t.jsx)(s.code,{children:"AstraDBChatMessageHistory"})," instance, which stores and retrieves chat messages using Astra DB, a cloud-native database service."]}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:"Parameters"}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Inputs"})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"collection_name"}),(0,t.jsx)(s.td,{children:"String"}),(0,t.jsx)(s.td,{children:"The name of the Astra DB collection for storing messages. Required."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"token"}),(0,t.jsx)(s.td,{children:"SecretString"}),(0,t.jsx)(s.td,{children:"The authentication token for Astra DB access. Required."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"api_endpoint"}),(0,t.jsx)(s.td,{children:"SecretString"}),(0,t.jsx)(s.td,{children:"The API endpoint URL for the Astra DB service. Required."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"namespace"}),(0,t.jsx)(s.td,{children:"String"}),(0,t.jsx)(s.td,{children:"The optional namespace within Astra DB for the collection."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"session_id"}),(0,t.jsx)(s.td,{children:"MessageText"}),(0,t.jsx)(s.td,{children:"The chat session ID. Uses the current session ID if not provided."})]})]})]}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Outputs"})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"message_history"}),(0,t.jsx)(s.td,{children:"BaseChatMessageHistory"}),(0,t.jsx)(s.td,{children:"An instance of AstraDBChatMessageHistory for the session."})]})})]})]}),"\n",(0,t.jsx)(s.h2,{id:"cassandrachatmemory-component",children:"CassandraChatMemory Component"}),"\n",(0,t.jsxs)(s.p,{children:["This component creates a ",(0,t.jsx)(s.code,{children:"CassandraChatMessageHistory"})," instance, enabling storage and retrieval of chat messages using Apache Cassandra or DataStax Astra DB."]}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:"Parameters"}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Inputs"})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"database_ref"}),(0,t.jsx)(s.td,{children:"MessageText"}),(0,t.jsx)(s.td,{children:"The contact points for the Cassandra database or Astra DB database ID. Required."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"username"}),(0,t.jsx)(s.td,{children:"MessageText"}),(0,t.jsx)(s.td,{children:"The username for Cassandra. Leave empty for Astra DB."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"token"}),(0,t.jsx)(s.td,{children:"SecretString"}),(0,t.jsx)(s.td,{children:"The password for Cassandra or the token for Astra DB. Required."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"keyspace"}),(0,t.jsx)(s.td,{children:"MessageText"}),(0,t.jsx)(s.td,{children:"The keyspace in Cassandra or namespace in Astra DB. Required."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"table_name"}),(0,t.jsx)(s.td,{children:"MessageText"}),(0,t.jsx)(s.td,{children:"The name of the table or collection for storing messages. Required."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"session_id"}),(0,t.jsx)(s.td,{children:"MessageText"}),(0,t.jsx)(s.td,{children:"The unique identifier for the chat session. Optional."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"cluster_kwargs"}),(0,t.jsx)(s.td,{children:"Dictionary"}),(0,t.jsx)(s.td,{children:"Additional keyword arguments for the Cassandra cluster configuration. Optional."})]})]})]}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Outputs"})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"message_history"}),(0,t.jsx)(s.td,{children:"BaseChatMessageHistory"}),(0,t.jsx)(s.td,{children:"An instance of CassandraChatMessageHistory for the session."})]})})]})]}),"\n",(0,t.jsx)(s.h2,{id:"mem0-chat-memory",children:"Mem0 Chat Memory"}),"\n",(0,t.jsx)(s.p,{children:"The Mem0 Chat Memory component retrieves and stores chat messages using Mem0 memory storage."}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:"Parameters"}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Inputs"})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Display Name"}),(0,t.jsx)(s.th,{children:"Info"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"mem0_config"}),(0,t.jsx)(s.td,{children:"Mem0 Configuration"}),(0,t.jsx)(s.td,{children:"The configuration dictionary for initializing the Mem0 memory instance."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"ingest_message"}),(0,t.jsx)(s.td,{children:"Message to Ingest"}),(0,t.jsx)(s.td,{children:"The message content to be ingested into Mem0 memory."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"existing_memory"}),(0,t.jsx)(s.td,{children:"Existing Memory Instance"}),(0,t.jsx)(s.td,{children:"An optional existing Mem0 memory instance."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"user_id"}),(0,t.jsx)(s.td,{children:"User ID"}),(0,t.jsx)(s.td,{children:"The identifier for the user associated with the messages."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"search_query"}),(0,t.jsx)(s.td,{children:"Search Query"}),(0,t.jsx)(s.td,{children:"The input text for searching related memories in Mem0."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"mem0_api_key"}),(0,t.jsx)(s.td,{children:"Mem0 API Key"}),(0,t.jsx)(s.td,{children:"The API key for the Mem0 platform. Leave empty to use the local version."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"metadata"}),(0,t.jsx)(s.td,{children:"Metadata"}),(0,t.jsx)(s.td,{children:"The additional metadata to associate with the ingested message."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"openai_api_key"}),(0,t.jsx)(s.td,{children:"OpenAI API Key"}),(0,t.jsx)(s.td,{children:"The API key for OpenAI. Required when using OpenAI embeddings without a provided configuration."})]})]})]}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Outputs"})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Display Name"}),(0,t.jsx)(s.th,{children:"Info"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"memory"}),(0,t.jsx)(s.td,{children:"Mem0 Memory"}),(0,t.jsx)(s.td,{children:"The resulting Mem0 Memory object after ingesting data."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"search_results"}),(0,t.jsx)(s.td,{children:"Search Results"}),(0,t.jsx)(s.td,{children:"The search results from querying Mem0 memory."})]})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"redis-chat-memory",children:"Redis Chat Memory"}),"\n",(0,t.jsx)(s.p,{children:"This component retrieves and stores chat messages from Redis."}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:"Parameters"}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Inputs"})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Display Name"}),(0,t.jsx)(s.th,{children:"Info"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"host"}),(0,t.jsx)(s.td,{children:"hostname"}),(0,t.jsx)(s.td,{children:"The IP address or hostname."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"port"}),(0,t.jsx)(s.td,{children:"port"}),(0,t.jsx)(s.td,{children:"The Redis Port Number."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"database"}),(0,t.jsx)(s.td,{children:"database"}),(0,t.jsx)(s.td,{children:"The Redis database."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"username"}),(0,t.jsx)(s.td,{children:"Username"}),(0,t.jsx)(s.td,{children:"The Redis username."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"password"}),(0,t.jsx)(s.td,{children:"Password"}),(0,t.jsx)(s.td,{children:"The password for the username."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"key_prefix"}),(0,t.jsx)(s.td,{children:"Key prefix"}),(0,t.jsx)(s.td,{children:"The key prefix."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"session_id"}),(0,t.jsx)(s.td,{children:"Session ID"}),(0,t.jsx)(s.td,{children:"The session ID for the message."})]})]})]}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Outputs"})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Display Name"}),(0,t.jsx)(s.th,{children:"Info"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"memory"}),(0,t.jsx)(s.td,{children:"Memory"}),(0,t.jsx)(s.td,{children:"The Redis chat message history object."})]})})]})]}),"\n",(0,t.jsx)(s.h2,{id:"legacy-components",children:"Legacy components"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Legacy"})," components are available for use but are no longer supported."]}),"\n",(0,t.jsx)(s.h3,{id:"zepchatmemory-component",children:"ZepChatMemory Component"}),"\n",(0,t.jsxs)(s.p,{children:["This component creates a ",(0,t.jsx)(s.code,{children:"ZepChatMessageHistory"})," instance, enabling storage and retrieval of chat messages using Zep, a memory server for Large Language Models (LLMs)."]}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsx)("summary",{children:"Parameters"}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Inputs"})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"url"}),(0,t.jsx)(s.td,{children:"MessageText"}),(0,t.jsx)(s.td,{children:"The URL of the Zep instance. Required."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"api_key"}),(0,t.jsx)(s.td,{children:"SecretString"}),(0,t.jsx)(s.td,{children:"The API Key for authentication with the Zep instance."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"api_base_path"}),(0,t.jsx)(s.td,{children:"Dropdown"}),(0,t.jsx)(s.td,{children:"The API version to use. Options include api/v1 or api/v2."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"session_id"}),(0,t.jsx)(s.td,{children:"MessageText"}),(0,t.jsx)(s.td,{children:"The unique identifier for the chat session. Optional."})]})]})]}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Outputs"})}),(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"message_history"}),(0,t.jsx)(s.td,{children:"BaseChatMessageHistory"}),(0,t.jsx)(s.td,{children:"An instance of ZepChatMessageHistory for the session."})]})})]})]})]})}function l(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,s,r)=>{r.d(s,{R:()=>d,x:()=>h});var n=r(96540);const t={},i=n.createContext(t);function d(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function h(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),n.createElement(i.Provider,{value:s},e.children)}},72654:(e,s,r)=>{r.d(s,{A:()=>n});const n=r.p+"assets/images/astra_db_chat_memory_rounded-9746ca2bb69d3b07ac0a071f4b9471b3.png"}}]);