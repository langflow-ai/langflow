"use strict";(self.webpackChunklangflow_docs=self.webpackChunklangflow_docs||[]).push([[1490],{17886:(e,n,t)=>{t.d(n,{A:()=>i});t(96540);var s=t(64058),r=t(74848);function i({name:e,...n}){const t=s[e];return t?(0,r.jsx)(t,{...n}):null}},63261:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"Components/bundles-huggingface","title":"Hugging Face","description":"Bundles contain custom components that support specific third-party integrations with Langflow.","source":"@site/docs/Components/bundles-huggingface.mdx","sourceDirName":"Components","slug":"/bundles-huggingface","permalink":"/bundles-huggingface","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Hugging Face","slug":"/bundles-huggingface"},"sidebar":"docs","previous":{"title":"Groq","permalink":"/bundles-groq"},"next":{"title":"IBM","permalink":"/bundles-ibm"}}');var r=t(74848),i=t(28453),o=t(17886);const c={title:"Hugging Face",slug:"/bundles-huggingface"},d=void 0,a={},l=[{value:"Hugging Face text generation",id:"hugging-face-text-generation",level:2},{value:"Hugging Face text generation parameters",id:"hugging-face-text-generation-parameters",level:3},{value:"Hugging Face Embeddings Inference",id:"hugging-face-embeddings-inference",level:2},{value:"Hugging Face Embeddings Inference parameters",id:"hugging-face-embeddings-inference-parameters",level:3},{value:"Use a local Hugging Face embeddings model",id:"local-hugging-face-model",level:3}];function g(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/components-bundle-components",children:"Bundles"})," contain custom components that support specific third-party integrations with Langflow."]}),"\n",(0,r.jsxs)(n.p,{children:["The components in the ",(0,r.jsx)(n.strong,{children:"Hugging Face"})," bundle require access to Hugging Face APIs."]}),"\n",(0,r.jsxs)(n.p,{children:["For more information about Hugging Face features and functionality used by Hugging Face components, see the ",(0,r.jsx)(n.a,{href:"https://huggingface.co/docs",children:"Hugging Face documentation"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"hugging-face-text-generation",children:"Hugging Face text generation"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Hugging Face"})," component generates text using a specified model by sending requests to the Hugging Face API, which is a hosted inference API for models hosted on Hugging Face.\nAuthentication is required."]}),"\n",(0,r.jsxs)(n.p,{children:["This component can output either a ",(0,r.jsx)(n.strong,{children:"Model Response"})," (",(0,r.jsx)(n.a,{href:"/data-types#message",children:(0,r.jsx)(n.code,{children:"Message"})}),") or a ",(0,r.jsx)(n.strong,{children:"Language Model"})," (",(0,r.jsx)(n.a,{href:"/data-types#languagemodel",children:(0,r.jsx)(n.code,{children:"LanguageModel"})}),").\nSpecifically, the ",(0,r.jsx)(n.strong,{children:"Language Model"})," output is an instance of ",(0,r.jsx)(n.a,{href:"https://python.langchain.com/docs/integrations/providers/huggingface/",children:(0,r.jsx)(n.code,{children:"HuggingFaceHub"})})," configured according to the component's parameters."]}),"\n",(0,r.jsxs)(n.p,{children:["Use the ",(0,r.jsx)(n.strong,{children:"Language Model"})," output when you want to use a Hugging Face model as the LLM for another LLM-driven component, such as a ",(0,r.jsx)(n.strong,{children:"Language Model"})," or ",(0,r.jsx)(n.strong,{children:"Smart Function"})," component."]}),"\n",(0,r.jsxs)(n.p,{children:["For more information, see ",(0,r.jsxs)(n.a,{href:"/components-models",children:[(0,r.jsx)(n.strong,{children:"Language Model"})," components"]}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"hugging-face-text-generation-parameters",children:"Hugging Face text generation parameters"}),"\n",(0,r.jsxs)(n.p,{children:["Many ",(0,r.jsx)(n.strong,{children:"Hugging Face"})," component input parameters are hidden by default in the visual editor.\nYou can toggle parameters through the ",(0,r.jsx)(o.A,{name:"SlidersHorizontal","aria-hidden":"true"})," ",(0,r.jsx)(n.strong,{children:"Controls"})," in the ",(0,r.jsx)(n.a,{href:"/concepts-components#component-menus",children:"component's header menu"}),"."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"model_id"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:'Input parameter. The model ID from Hugging Face Hub. For example, "gpt2", "facebook/bart-large".'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"huggingfacehub_api_token"}),(0,r.jsx)(n.td,{children:"SecretString"}),(0,r.jsxs)(n.td,{children:["Input parameter. Your ",(0,r.jsx)(n.a,{href:"https://huggingface.co/docs/hub/security-tokens",children:"Hugging Face API token"})," for authentication."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"temperature"}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Input parameter. Controls randomness in the output. Range: [0.0, 1.0]. Default: 0.7."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"max_new_tokens"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Input parameter. Maximum number of tokens to generate. Default: 512."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"top_p"}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Input parameter. Nucleus sampling parameter. Range: [0.0, 1.0]. Default: 0.95."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"top_k"}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Input parameter. Top-k sampling parameter. Default: 50."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"model_kwargs"}),(0,r.jsx)(n.td,{children:"Dictionary"}),(0,r.jsx)(n.td,{children:"Input parameter. Additional keyword arguments to pass to the model."})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"hugging-face-embeddings-inference",children:"Hugging Face Embeddings Inference"}),"\n",(0,r.jsxs)(n.p,{children:["Use the ",(0,r.jsx)(n.strong,{children:"Hugging Face Embeddings Inference"})," component to create embeddings with Hugging Face's hosted models or with your own locally hosted models."]}),"\n",(0,r.jsxs)(n.p,{children:["The component generates embeddings using ",(0,r.jsx)(n.a,{href:"https://huggingface.co/models",children:"Hugging Face Inference API models"}),".\nAuthentication is required when not using a local model."]}),"\n",(0,r.jsxs)(n.p,{children:["For more information about using embedding model components in flows, see ",(0,r.jsxs)(n.a,{href:"/components-embedding-models",children:[(0,r.jsx)(n.strong,{children:"Embedding Model"})," components"]})," and ",(0,r.jsx)(n.a,{href:"#local-hugging-face-model",children:"Use a local Hugging Face embeddings model"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"hugging-face-embeddings-inference-parameters",children:"Hugging Face Embeddings Inference parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Display Name"}),(0,r.jsx)(n.th,{children:"Info"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"API Key"}),(0,r.jsx)(n.td,{children:"API Key"}),(0,r.jsxs)(n.td,{children:["Input parameter. Your ",(0,r.jsx)(n.a,{href:"https://huggingface.co/docs/hub/security-tokens",children:"Hugging Face API token"})," for accessing the Hugging Face Inference API, if required. Local inference models do not require an API key."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"API URL"}),(0,r.jsx)(n.td,{children:"API URL"}),(0,r.jsx)(n.td,{children:"Input parameter. The URL of the Hugging Face Inference API."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Model Name"}),(0,r.jsx)(n.td,{children:"Model Name"}),(0,r.jsx)(n.td,{children:"Input parameter. The name of the model to use for embeddings."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"local-hugging-face-model",children:"Use a local Hugging Face embeddings model"}),"\n",(0,r.jsxs)(n.p,{children:["To connect the local Hugging Face model to the ",(0,r.jsx)(n.strong,{children:"Hugging Face Embeddings Inference"})," component and use it in a flow, follow these steps:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Run a ",(0,r.jsx)(n.a,{href:"https://huggingface.co/docs/text-embeddings-inference/local_cpu",children:"local Hugging Face embeddings inference"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["For this example, create a flow from the ",(0,r.jsxs)(n.a,{href:"/vector-store-rag",children:[(0,r.jsx)(n.strong,{children:"Vector Store RAG"})," template"]}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Replace the two ",(0,r.jsx)(n.strong,{children:"OpenAI Embeddings"})," components with ",(0,r.jsx)(n.strong,{children:"Hugging Face Embeddings Inference"})," components."]}),"\n",(0,r.jsxs)(n.p,{children:["Make sure to reconnect the ",(0,r.jsx)(n.strong,{children:"Embedding Model"})," ports from each embedding model component to its corresponding ",(0,r.jsx)(n.strong,{children:"Astra DB"})," vector store component."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Configure the ",(0,r.jsx)(n.strong,{children:"Astra DB"})," vector store components to connect to your Astra organization, or replace both ",(0,r.jsx)(n.strong,{children:"Astra DB"})," vector store components with other ",(0,r.jsx)(n.a,{href:"/components-vector-stores",children:"vector store components"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Connect each ",(0,r.jsx)(n.strong,{children:"Hugging Face Embeddings Inference"})," component to your local inference model:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Inference Endpoint"}),": Enter the URL of your local inference model."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Key"}),": Can be empty for local inference."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Model Name"}),": Enter the name of your local inference model if it isn't automatically detected."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["To test the flow, click ",(0,r.jsx)(n.strong,{children:"Playground"}),", and then enter some text to generate an embedding."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(g,{...e})}):g(e)}}}]);