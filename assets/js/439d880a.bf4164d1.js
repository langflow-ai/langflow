"use strict";(globalThis.webpackChunklangflow_docs=globalThis.webpackChunklangflow_docs||[]).push([[9758],{11470:(e,t,n)=>{n.d(t,{A:()=>T});var r=n(96540),s=n(18215),a=n(17559),o=n(23104),i=n(56347),l=n(205),c=n(57485),d=n(31682),h=n(70679);function u(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:t,children:n}=e;return(0,r.useMemo)(()=>{const e=t??function(e){return u(e).map(({props:{value:e,label:t,attributes:n,default:r}})=>({value:e,label:t,attributes:n,default:r}))}(n);return function(e){const t=(0,d.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function x({value:e,tabValues:t}){return t.some(t=>t.value===e)}function m({queryString:e=!1,groupId:t}){const n=(0,i.W6)(),s=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,c.aZ)(s),(0,r.useCallback)(e=>{if(!s)return;const t=new URLSearchParams(n.location.search);t.set(s,e),n.replace({...n.location,search:t.toString()})},[s,n])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,a=p(e),[o,i]=(0,r.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!x({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:a})),[c,d]=m({queryString:n,groupId:s}),[u,f]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,s]=(0,h.Dv)(t);return[n,(0,r.useCallback)(e=>{t&&s.set(e)},[t,s])]}({groupId:s}),j=(()=>{const e=c??u;return x({value:e,tabValues:a})?e:null})();(0,l.A)(()=>{j&&i(j)},[j]);return{selectedValue:o,selectValue:(0,r.useCallback)(e=>{if(!x({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);i(e),d(e),f(e)},[d,f,a]),tabValues:a}}var j=n(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=n(74848);function k({className:e,block:t,selectedValue:n,selectValue:r,tabValues:a}){const i=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),c=e=>{const t=e.currentTarget,s=i.indexOf(t),o=a[s].value;o!==n&&(l(t),r(o))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=i.indexOf(e.currentTarget)+1;t=i[n]??i[0];break}case"ArrowLeft":{const n=i.indexOf(e.currentTarget)-1;t=i[n]??i[i.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},e),children:a.map(({value:e,label:t,attributes:r})=>(0,g.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{i.push(e)},onKeyDown:d,onClick:c,...r,className:(0,s.A)("tabs__item",b.tabItem,r?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function v({lazy:e,children:t,selectedValue:n}){const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===n);return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:a.map((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function y(e){const t=f(e);return(0,g.jsxs)("div",{className:(0,s.A)(a.G.tabs.container,"tabs-container",b.tabList),children:[(0,g.jsx)(k,{...t,...e}),(0,g.jsx)(v,{...t,...e})]})}function T(e){const t=(0,j.A)();return(0,g.jsx)(y,{...e,children:u(e.children)},String(t))}},14809:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"Components/split-text","title":"Split Text","description":"The Split Text component splits data into chunks based on parameters like chunk size and separator.","source":"@site/docs/Components/split-text.mdx","sourceDirName":"Components","slug":"/split-text","permalink":"/split-text","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Split Text","slug":"/split-text"},"sidebar":"docs","previous":{"title":"Parser","permalink":"/parser"},"next":{"title":"Type Convert","permalink":"/type-convert"}}');var s=n(74848),a=n(28453),o=n(40619),i=(n(11470),n(19365),n(31929));n(72736);const l={title:"Split Text",slug:"/split-text"},c=void 0,d={},h=[{value:"Split Text parameters",id:"split-text-parameters",level:2},...i.RM,{value:"Tokenization errors due to chunk size",id:"chunk-size",level:3},{value:"Other text splitters",id:"other-text-splitters",level:3}];function u(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Split Text"})," component splits data into chunks based on parameters like chunk size and separator.\nIt is often used to chunk data to be tokenized and embedded into vector databases.\nFor examples, see ",(0,s.jsx)(t.a,{href:"/components-embedding-models#use-embedding-model-components-in-a-flow",children:"Use embedding model components in a flow"})," and ",(0,s.jsx)(t.a,{href:"/chat-with-rag",children:"Create a Vector RAG chatbot"}),"."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"An embedding generation flow that uses a Split Text component to chunk data.",src:n(49823).A+"",width:"4000",height:"2766"})}),"\n",(0,s.jsxs)(t.p,{children:["The component accepts ",(0,s.jsx)(t.code,{children:"Message"}),", ",(0,s.jsx)(t.code,{children:"Data"}),", or ",(0,s.jsx)(t.code,{children:"DataFrame"}),", and then outputs either ",(0,s.jsx)(t.strong,{children:"Chunks"})," or ",(0,s.jsx)(t.strong,{children:"DataFrame"}),".\nThe ",(0,s.jsx)(t.strong,{children:"Chunks"})," output returns a list of ",(0,s.jsx)(t.a,{href:"/data-types#data",children:(0,s.jsx)(t.code,{children:"Data"})})," objects containing individual text chunks.\nThe ",(0,s.jsx)(t.strong,{children:"DataFrame"})," output returns the list of chunks as a structured ",(0,s.jsx)(t.a,{href:"/data-types#dataframe",children:(0,s.jsx)(t.code,{children:"DataFrame"})})," with additional ",(0,s.jsx)(t.code,{children:"text"})," and ",(0,s.jsx)(t.code,{children:"metadata"})," columns."]}),"\n",(0,s.jsx)(t.h2,{id:"split-text-parameters",children:"Split Text parameters"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Split Text"})," component's parameters control how the text is split into chunks, specifically the ",(0,s.jsx)(t.code,{children:"chunk_size"}),", ",(0,s.jsx)(t.code,{children:"chunk_overlap"}),", and ",(0,s.jsx)(t.code,{children:"separator"})," parameters."]}),"\n",(0,s.jsxs)(t.p,{children:["To test the chunking behavior, add a ",(0,s.jsx)(t.strong,{children:"Text Input"})," or ",(0,s.jsx)(t.strong,{children:"Read File"})," component with some sample data to chunk, click ",(0,s.jsx)(o.A,{name:"Play","aria-hidden":"true"})," ",(0,s.jsx)(t.strong,{children:"Run component"})," on the ",(0,s.jsx)(t.strong,{children:"Split Text"})," component, and then click ",(0,s.jsx)(o.A,{name:"TextSearch","aria-hidden":"true"})," ",(0,s.jsx)(t.strong,{children:"Inspect output"})," to view the list of chunks and their metadata. The ",(0,s.jsx)(t.strong,{children:"text"})," column contains the actual text chunks created from your chunking settings.\nIf the chunks aren't split as you expect, adjust the parameters, rerun the component, and then inspect the new output."]}),"\n",(0,s.jsx)(i.Ay,{}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Display Name"}),(0,s.jsx)(t.th,{children:"Info"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data_inputs"}),(0,s.jsx)(t.td,{children:"Input"}),(0,s.jsxs)(t.td,{children:["Input parameter. The data to split. Input must be in ",(0,s.jsx)(t.code,{children:"Message"}),", ",(0,s.jsx)(t.code,{children:"Data"}),", or ",(0,s.jsx)(t.code,{children:"DataFrame"})," format."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"chunk_overlap"}),(0,s.jsx)(t.td,{children:"Chunk Overlap"}),(0,s.jsxs)(t.td,{children:["Input parameter. The number of characters to overlap between chunks. This helps maintain context across chunks. When a separator is encountered, the overlap is applied at the point of the separator so that the subsequent chunk contains the last ",(0,s.jsx)(t.em,{children:"n"})," characters of the preceding chunk. Default: ",(0,s.jsx)(t.code,{children:"200"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"chunk_size"}),(0,s.jsx)(t.td,{children:"Chunk Size"}),(0,s.jsxs)(t.td,{children:["Input parameter. The target length for each chunk after splitting. The data is first split by separator, and then chunks smaller than the ",(0,s.jsx)(t.code,{children:"chunk_size"})," are merged up to this limit. However, if the initial separator split produces any chunks larger than the ",(0,s.jsx)(t.code,{children:"chunk_size"}),", those chunks are neither further subdivided nor combined with any smaller chunks; these chunks will be output as-is even though they exceed the ",(0,s.jsx)(t.code,{children:"chunk_size"}),". Default: ",(0,s.jsx)(t.code,{children:"1000"}),". See ",(0,s.jsx)(t.a,{href:"#chunk-size",children:"Tokenization errors due to chunk size"})," for important considerations."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"separator"}),(0,s.jsx)(t.td,{children:"Separator"}),(0,s.jsxs)(t.td,{children:["Input parameter. A string defining a character to split on, such as ",(0,s.jsx)(t.code,{children:"\\n"})," to split on new line characters, ",(0,s.jsx)(t.code,{children:"\\n\\n"})," to split at paragraph breaks, or ",(0,s.jsx)(t.code,{children:"},"})," to split at the end of JSON objects. You can directly provide the separator string, or pass a separator string from another component as ",(0,s.jsx)(t.code,{children:"Message"})," input."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"text_key"}),(0,s.jsx)(t.td,{children:"Text Key"}),(0,s.jsxs)(t.td,{children:["Input parameter. The key to use for the text column that is extracted from the input and then split. Default: ",(0,s.jsx)(t.code,{children:"text"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"keep_separator"}),(0,s.jsx)(t.td,{children:"Keep Separator"}),(0,s.jsxs)(t.td,{children:["Input parameter. Select how to handle separators in output chunks. If ",(0,s.jsx)(t.code,{children:"False"}),", separators are omitted from output chunks. Options include ",(0,s.jsx)(t.code,{children:"False"})," (remove separators), ",(0,s.jsx)(t.code,{children:"True"})," (keep separators in chunks without preference for placement), ",(0,s.jsx)(t.code,{children:"Start"})," (place separators at the beginning of chunks), or ",(0,s.jsx)(t.code,{children:"End"})," (place separators at the end of chunks). Default: ",(0,s.jsx)(t.code,{children:"False"}),"."]})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"chunk-size",children:"Tokenization errors due to chunk size"}),"\n",(0,s.jsxs)(t.p,{children:["When using ",(0,s.jsx)(t.strong,{children:"Split Text"})," with embedding models (especially NVIDIA models like ",(0,s.jsx)(t.code,{children:"nvidia/nv-embed-v1"}),"), you may need to use smaller chunk sizes (",(0,s.jsx)(t.code,{children:"500"})," or less) even though the model supports larger token limits.\nThe ",(0,s.jsx)(t.strong,{children:"Split Text"})," component doesn't always enforce the exact chunk size you set, and individual chunks may exceed your specified limit.\nIf you encounter tokenization errors, modify your text splitting strategy by reducing the chunk size, changing the overlap length, or using a more common separator.\nThen, test your configuration by running the flow and inspecting the component's output."]}),"\n",(0,s.jsx)(t.h3,{id:"other-text-splitters",children:"Other text splitters"}),"\n",(0,s.jsxs)(t.p,{children:["See ",(0,s.jsx)(t.a,{href:"/bundles-langchain#text-splitters",children:"LangChain text splitter components"}),"."]})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},19365:(e,t,n)=>{n.d(t,{A:()=>o});n(96540);var r=n(18215);const s={tabItem:"tabItem_Ymn6"};var a=n(74848);function o({children:e,hidden:t,className:n}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,n),hidden:t,children:e})}},31929:(e,t,n)=>{n.d(t,{Ay:()=>l,RM:()=>o});var r=n(74848),s=n(28453),a=n(40619);const o=[];function i(e){const t={a:"a",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(t.p,{children:["Some parameters are hidden by default in the visual editor.\nYou can modify all parameters through the ",(0,r.jsx)(a.A,{name:"SlidersHorizontal","aria-hidden":"true"})," ",(0,r.jsx)(t.strong,{children:"Controls"})," in the ",(0,r.jsx)(t.a,{href:"/concepts-components#component-menus",children:"component's header menu"}),"."]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}},49823:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/component-split-text-fec2b1abb28e0852c8a172bbeb164b2c.png"},72736:(e,t,n)=>{n.d(t,{Ay:()=>i,RM:()=>a});var r=n(74848),s=n(28453);const a=[];function o(e){const t={code:"code",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(t.p,{children:["If your template includes literal text and variables, you can use double curly braces to escape literal curly braces in the template and prevent interpretation of that text as a variable.\nFor example: ",(0,r.jsx)(t.code,{children:"This is a template with {{literal text in curly braces}} and a {variable}"}),"."]})}function i(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);