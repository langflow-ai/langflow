"use strict";(globalThis.webpackChunklangflow_docs=globalThis.webpackChunklangflow_docs||[]).push([[6224],{7089:(e,t,n)=>{n.r(t),n.d(t,{CH:()=>g,assets:()=>j,chCodeConfig:()=>f,contentTitle:()=>m,default:()=>v,frontMatter:()=>u,metadata:()=>r,toc:()=>y});const r=JSON.parse('{"id":"Components/bundles-datastax","title":"DataStax","description":"Bundles contain custom components that support specific third-party integrations with Langflow.","source":"@site/docs/Components/bundles-datastax.mdx","sourceDirName":"Components","slug":"/bundles-datastax","permalink":"/bundles-datastax","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"DataStax","slug":"/bundles-datastax"},"sidebar":"docs","previous":{"title":"CUGA","permalink":"/bundles-cuga"},"next":{"title":"DeepSeek","permalink":"/bundles-deepseek"}}');var s=n(74848),a=n(28453),i=n(24754),o=n(40619),d=n(31929),c=n(80223),l=n(90465),h=n(50005),p=n(27027),x=n(36813);const u={title:"DataStax",slug:"/bundles-datastax"},m=void 0,j={},g={annotations:i.hk,Code:i.Cy},f={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},y=[{value:"Astra DB",id:"astra-db",level:2},...h.RM,{value:"Astra DB parameters",id:"astra-db-parameters",level:3},...d.RM,...c.RM,{value:"Astra DB examples",id:"astra-db-examples",level:3},...p.RM,{value:"Astra DB output",id:"astra-db-output",level:3},...l.RM,{value:"Astra DB CQL",id:"astra-db-cql",level:2},{value:"Astra DB CQL parameters",id:"astra-db-cql-parameters",level:3},...d.RM,{value:"Graph RAG",id:"graph-rag",level:2},{value:"Graph RAG parameters",id:"graph-rag-parameters",level:3},...d.RM,...c.RM,{value:"Hyper-Converged Database (HCD)",id:"hyper-converged-database-hcd",level:2},...h.RM,...l.RM,{value:"HCD parameters",id:"hcd-parameters",level:3},...d.RM,...c.RM,{value:"Other DataStax components",id:"other-datastax-components",level:2},{value:"Astra DB Chat Memory",id:"astra-db-chat-memory",level:3},{value:"Astra DB Chat Memory parameters",id:"astra-db-chat-memory-parameters",level:4},...d.RM,{value:"Legacy DataStax components",id:"legacy-datastax-components",level:2},...x.RM,...d.RM,...c.RM,{value:"See also",id:"see-also",level:2}];function b(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components},{Details:r}=t;return g||w("CH",!1),g.Code||w("CH.Code",!0),r||w("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n","\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(o.A,{name:"Blocks","aria-hidden":"true"})," ",(0,s.jsx)(t.a,{href:"/components-bundle-components",children:(0,s.jsx)(t.strong,{children:"Bundles"})})," contain custom components that support specific third-party integrations with Langflow."]}),"\n",(0,s.jsxs)(t.p,{children:["This page describes the components that are available in the ",(0,s.jsx)(t.strong,{children:"DataStax"})," bundle, including components that read and write to Astra DB databases."]}),"\n",(0,s.jsx)(t.h2,{id:"astra-db",children:"Astra DB"}),"\n",(0,s.jsxs)(t.admonition,{type:"warning",children:[(0,s.jsxs)(t.p,{children:["It is recommended that you create any databases, keyspaces, and collections you need before configuring the ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component."]}),(0,s.jsxs)(t.p,{children:["You can create new databases and collections through this component, but this is only possible in the Langflow visual editor (not at runtime), and you must wait while the database or collection initializes before proceeding with flow configuration.\nAdditionally, not all database and collection configuration options are available through the ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component, such as hybrid search options, PCU groups, vectorize integration management, and multi-region deployments."]})]}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component reads and writes to Astra DB Serverless databases, using an instance of ",(0,s.jsx)(t.code,{children:"AstraDBVectorStore"})," to call the Data API and DevOps API."]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"About vector store instances"}),(0,s.jsx)(h.Ay,{})]}),"\n",(0,s.jsx)(t.h3,{id:"astra-db-parameters",children:"Astra DB parameters"}),"\n",(0,s.jsx)(t.p,{children:"You can inspect a vector store component's parameters to learn more about the inputs it accepts, the features it supports, and how to configure it."}),"\n",(0,s.jsx)(d.Ay,{}),"\n",(0,s.jsx)(c.Ay,{}),"\n",(0,s.jsxs)(t.p,{children:["For information about accepted values and functionality, see the ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/index.html",children:"Astra DB Serverless documentation"})," or inspect ",(0,s.jsx)(t.a,{href:"/concepts-components#component-code",children:"component code"}),"."]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Display Name"}),(0,s.jsx)(t.th,{children:"Info"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"token"}),(0,s.jsx)(t.td,{children:"Astra DB Application Token"}),(0,s.jsx)(t.td,{children:"Input parameter. An Astra application token with permission to access your vector database. Once the connection is verified, additional fields are populated with your existing databases and collections. If you want to create a database through this component, the application token must have Organization Administrator permissions."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"environment"}),(0,s.jsx)(t.td,{children:"Environment"}),(0,s.jsxs)(t.td,{children:["Input parameter. The environment for the Astra DB API endpoint. Typically always ",(0,s.jsx)(t.code,{children:"prod"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"database_name"}),(0,s.jsx)(t.td,{children:"Database"}),(0,s.jsxs)(t.td,{children:["Input parameter. The name of the database that you want this component to connect to. Or, you can select ",(0,s.jsx)(t.strong,{children:"New Database"})," to create a new database, and then wait for the database to initialize before setting the remaining parameters."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"endpoint"}),(0,s.jsx)(t.td,{children:"Astra DB API Endpoint"}),(0,s.jsxs)(t.td,{children:["Input parameter. For multi-region databases, select the API endpoint for your nearest datacenter. To get the list of regions for a multi-region database, see ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/databases/manage-regions.html#list-db-regions",children:"List database regions"}),". This field is automatically populated when you select a database, and it defaults to the primary region's endpoint."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"keyspace"}),(0,s.jsx)(t.td,{children:"Keyspace"}),(0,s.jsxs)(t.td,{children:["Input parameter. The keyspace in your database that contains the collection specified in ",(0,s.jsx)(t.code,{children:"collection_name"}),". Default: ",(0,s.jsx)(t.code,{children:"default_keyspace"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"collection_name"}),(0,s.jsx)(t.td,{children:"Collection"}),(0,s.jsxs)(t.td,{children:["Input parameter. The name of the collection that you want to use with this flow. Or, select ",(0,s.jsx)(t.strong,{children:"New Collection"})," to create a new collection with limited configuration options. To ensure your collection is configured with the correct embedding provider and search capabilities, it is recommended to create the collection in the Astra Portal or with the Data API ",(0,s.jsx)(t.em,{children:"before"})," configuring this component. For more information, see ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/databases/manage-collections.html",children:"Manage collections in Astra DB Serverless"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"embedding_model"}),(0,s.jsx)(t.td,{children:"Embedding Model"}),(0,s.jsxs)(t.td,{children:["Input parameter. Attach an ",(0,s.jsx)(t.a,{href:"/components-embedding-models",children:"embedding model component"})," to generate embeddings. Only available if the specified collection doesn't have a ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/databases/embedding-generation.html",children:"vectorize integration"}),". If a vectorize integration exists, the component automatically uses the collection's integrated model."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ingest_data"}),(0,s.jsx)(t.td,{children:"Ingest Data"}),(0,s.jsxs)(t.td,{children:["Input parameter. The documents to load into the specified collection. Accepts ",(0,s.jsx)(t.code,{children:"Data"})," or ",(0,s.jsx)(t.code,{children:"DataFrame"})," input."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_query"}),(0,s.jsx)(t.td,{children:"Search Query"}),(0,s.jsx)(t.td,{children:"Input parameter. The query string for vector search."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"cache_vector_store"}),(0,s.jsx)(t.td,{children:"Cache Vector Store"}),(0,s.jsxs)(t.td,{children:["Input parameter. Whether to cache the vector store in Langflow memory for faster reads. Default: Enabled (",(0,s.jsx)(t.code,{children:"true"}),")."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_method"}),(0,s.jsx)(t.td,{children:"Search Method"}),(0,s.jsxs)(t.td,{children:["Input parameter. The search methods to use, either ",(0,s.jsx)(t.code,{children:"Hybrid Search"})," or ",(0,s.jsx)(t.code,{children:"Vector Search"}),". Your collection must be configured to support the chosen option, and the default depends on what your collection supports. All vector-enabled collections in Astra DB Serverless (Vector) databases support vector search, but hybrid search requires that you set specific collection settings when creating the collection. These options are only available when creating a collection programmatically. For more information, see ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/databases/about-search.html",children:"Ways to find data in Astra DB Serverless"})," and ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/api-reference/collection-methods/create-collection.html#example-hybrid",children:"Create a collection that supports hybrid search"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"reranker"}),(0,s.jsx)(t.td,{children:"Reranker"}),(0,s.jsxs)(t.td,{children:["Input parameter. The re-ranker model to use for hybrid search, depending on the collection configuration. This parameter is only available for collections that support hybrid search. To determine if a collection supports hybrid search, ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/api-reference/collection-methods/list-collection-metadata.html",children:"get collection metadata"}),", and then check that ",(0,s.jsx)(t.code,{children:"lexical"})," and ",(0,s.jsx)(t.code,{children:"rerank"})," both have ",(0,s.jsx)(t.code,{children:'"enabled": true'}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"lexical_terms"}),(0,s.jsx)(t.td,{children:"Lexical Terms"}),(0,s.jsxs)(t.td,{children:["Input parameter. A space-separated string of keywords for hybrid search, like ",(0,s.jsx)(t.code,{children:"features, data, attributes, characteristics"}),". This parameter is only available if the collection supports hybrid search. For more information, see the ",(0,s.jsx)(t.a,{href:"#astra-db-examples",children:"Hybrid search example"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"number_of_results"}),(0,s.jsx)(t.td,{children:"Number of Search Results"}),(0,s.jsx)(t.td,{children:"Input parameter. The number of search results to return. Default: 4."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_type"}),(0,s.jsx)(t.td,{children:"Search Type"}),(0,s.jsxs)(t.td,{children:["Input parameter. The search type to use, either ",(0,s.jsx)(t.code,{children:"Similarity"})," (default), ",(0,s.jsx)(t.code,{children:"Similarity with score threshold"}),", and ",(0,s.jsx)(t.code,{children:"MMR (Max Marginal Relevance)"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_score_threshold"}),(0,s.jsx)(t.td,{children:"Search Score Threshold"}),(0,s.jsxs)(t.td,{children:["Input parameter. The minimum similarity score threshold for vector search results with the ",(0,s.jsx)(t.code,{children:"Similarity with score threshold"})," search type. Default: 0."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"advanced_search_filter"}),(0,s.jsx)(t.td,{children:"Search Metadata Filter"}),(0,s.jsx)(t.td,{children:"Input parameter. An optional dictionary of metadata filters to apply in addition to vector or hybrid search."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"autodetect_collection"}),(0,s.jsx)(t.td,{children:"Autodetect Collection"}),(0,s.jsx)(t.td,{children:"Input parameter. Whether to automatically fetch a list of available collections after providing an application token and API endpoint."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"content_field"}),(0,s.jsx)(t.td,{children:"Content Field"}),(0,s.jsx)(t.td,{children:"Input parameter. For writes, this parameter specifies the name of the field in the documents that contains text strings for which you want to generate embeddings."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"deletion_field"}),(0,s.jsx)(t.td,{children:"Deletion Based On Field"}),(0,s.jsx)(t.td,{children:"Input parameter. When provided, documents in the target collection with metadata field values matching the input metadata field value are deleted before new records are loaded. Use this setting for writes with upserts (overwrites)."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ignore_invalid_documents"}),(0,s.jsx)(t.td,{children:"Ignore Invalid Documents"}),(0,s.jsxs)(t.td,{children:["Input parameter. Whether to ignore invalid documents during writes. If disabled (",(0,s.jsx)(t.code,{children:"false"}),"), then an error is raised for invalid documents. Default: Enabled (",(0,s.jsx)(t.code,{children:"true"}),")."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"astradb_vectorstore_kwargs"}),(0,s.jsx)(t.td,{children:"AstraDBVectorStore Parameters"}),(0,s.jsxs)(t.td,{children:["Input parameter. An optional dictionary of additional parameters for the ",(0,s.jsx)(t.code,{children:"AstraDBVectorStore"})," instance."]})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"astra-db-examples",children:"Astra DB examples"}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Example: Vector RAG"}),(0,s.jsx)(p.Ay,{})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Example: Hybrid search"}),(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component supports the Data API's ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/databases/hybrid-search.html",children:"hybrid search"})," feature.\nHybrid search performs a vector similarity search and a lexical search, compares the results of both searches, and then returns the most relevant results overall."]}),(0,s.jsxs)(t.p,{children:["To use hybrid search through the ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component, do the following:"]}),(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Use the Data API to ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/api-reference/collection-methods/create-collection.html#example-hybrid",children:"create a collection that supports hybrid search"})," if you don't already have one."]}),"\n",(0,s.jsxs)(t.p,{children:["Although you can create a collection through the ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component, you have more control and insight into the collection settings when using the Data API for this operation."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Create a flow based on the ",(0,s.jsx)(t.strong,{children:"Hybrid Search RAG"})," template, which includes an ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component that is pre-configured for hybrid search."]}),"\n",(0,s.jsxs)(t.p,{children:["After loading the template, check for ",(0,s.jsx)(t.strong,{children:"Upgrade available"})," alerts on the components.\nIf any components have an upgrade pending, upgrade and reconnect them before continuing."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["In the ",(0,s.jsx)(t.strong,{children:"Language Model"})," components, add your OpenAI API key.\nIf you want to use a different provider or model, see ",(0,s.jsx)(t.a,{href:"/components-models",children:"Language model components"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Delete the ",(0,s.jsx)(t.strong,{children:"Language Model"})," component that is connected to the ",(0,s.jsx)(t.strong,{children:"Structured Output"})," component's ",(0,s.jsx)(t.strong,{children:"Input Message"})," port, and then connect the ",(0,s.jsx)(t.strong,{children:"Chat Input"})," component to that port."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Configure the ",(0,s.jsx)(t.strong,{children:"Astra DB"})," vector store component:"]}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"Enter your Astra DB application token."}),"\n",(0,s.jsxs)(t.li,{children:["In the ",(0,s.jsx)(t.strong,{children:"Database"})," field, select your database."]}),"\n",(0,s.jsxs)(t.li,{children:["In the ",(0,s.jsx)(t.strong,{children:"Collection"})," field, select your collection with hybrid search enabled."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Once you select a collection that supports hybrid search, the other parameters automatically update to allow hybrid search options."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Connect the first ",(0,s.jsx)(t.strong,{children:"Parser"})," component's ",(0,s.jsx)(t.strong,{children:"Parsed Text"})," output to the ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component's ",(0,s.jsx)(t.strong,{children:"Lexical Terms"})," input.\nThis input only appears after connecting a collection that support hybrid search with reranking."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Update the ",(0,s.jsx)(t.strong,{children:"Structured Output"})," template:"]}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Click the ",(0,s.jsx)(t.strong,{children:"Structured Output"})," component to expose the ",(0,s.jsx)(t.a,{href:"/concepts-components#component-menus",children:"component's header menu"}),", and then click ",(0,s.jsx)(o.A,{name:"SlidersHorizontal","aria-hidden":"true"})," ",(0,s.jsx)(t.strong,{children:"Controls"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Find the ",(0,s.jsx)(t.strong,{children:"Format Instructions"})," row, click ",(0,s.jsx)(o.A,{name:"Expand","aria-hidden":"true"})," ",(0,s.jsx)(t.strong,{children:"Expand"}),", and then replace the prompt with the following text:"]}),"\n",(0,s.jsx)(g.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"You are a database query planner that takes a user's requests, and then converts to a search against the subject matter in question.",props:{}}]},{tokens:[{content:"You should convert the query into:",props:{}}]},{tokens:[{content:"1. A list of keywords to use against a Lucene text analyzer index, no more than 4. Strictly unigrams.",props:{}}]},{tokens:[{content:"2. A question to use as the basis for a QA embedding engine.",props:{}}]},{tokens:[{content:"Avoid common keywords associated with the user's subject matter.",props:{}}]}],lang:"text"},annotations:[]}]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Click ",(0,s.jsx)(t.strong,{children:"Finish Editing"}),", and then click ",(0,s.jsx)(t.strong,{children:"Close"})," to save your changes to the component."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Open the ",(0,s.jsx)(t.strong,{children:"Playground"}),", and then enter a natural language question that you would ask about your database."]}),"\n",(0,s.jsxs)(t.p,{children:["In this example, your input is sent to both the ",(0,s.jsx)(t.strong,{children:"Astra DB"})," and ",(0,s.jsx)(t.strong,{children:"Structured Output"})," components:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["The input sent directly to the ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component's ",(0,s.jsx)(t.strong,{children:"Search Query"})," port is used as a string for similarity search.\nAn embedding is generated from the query string using the collection's Astra DB vectorize integration."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["The input sent to the ",(0,s.jsx)(t.strong,{children:"Structured Output"})," component is processed by the ",(0,s.jsx)(t.strong,{children:"Structured Output"}),", ",(0,s.jsx)(t.strong,{children:"Language Model"}),", and ",(0,s.jsx)(t.strong,{children:"Parser"})," components to extract space-separated ",(0,s.jsx)(t.code,{children:"keywords"})," used for the lexical search portion of the hybrid search."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["The complete hybrid search query is executed against your database using the Data API's ",(0,s.jsx)(t.code,{children:"find_and_rerank"})," command.\nThe API's response is output as a ",(0,s.jsx)(t.code,{children:"DataFrame"})," that is transformed into a text string ",(0,s.jsx)(t.code,{children:"Message"})," by another ",(0,s.jsx)(t.strong,{children:"Parser"})," component.\nFinally, the ",(0,s.jsx)(t.strong,{children:"Chat Output"})," component prints the ",(0,s.jsx)(t.code,{children:"Message"})," response to the ",(0,s.jsx)(t.strong,{children:"Playground"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Optional: Exit the ",(0,s.jsx)(t.strong,{children:"Playground"}),", and then click ",(0,s.jsx)(o.A,{name:"TextSearch","aria-hidden":"true"})," ",(0,s.jsx)(t.strong,{children:"Inspect Output"})," on each individual component to understand how lexical keywords were constructed and view the raw response from the Data API.\nThis is helpful for debugging flows where a certain component isn't receiving input as expected from another component."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Structured Output component"}),": The output is the ",(0,s.jsx)(t.code,{children:"Data"})," object produced by applying the output schema to the LLM's response to the input message and format instructions.\nThe following example is based on the aforementioned instructions for keyword extraction:"]}),"\n",(0,s.jsx)(g.Code,{codeConfig:f,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"1. Keywords: features, data, attributes, characteristics",props:{}}]},{tokens:[{content:"2. Question: What characteristics can be identified in my data?",props:{}}]}],lang:"text"},annotations:[]}]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Parser component"}),": The output is the string of keywords extracted from the structured output ",(0,s.jsx)(t.code,{children:"Data"}),", and then used as lexical terms for the hybrid search."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Astra DB component"}),": The output is the ",(0,s.jsx)(t.code,{children:"DataFrame"})," containing the results of the hybrid search as returned by the Data API."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,s.jsx)(t.h3,{id:"astra-db-output",children:"Astra DB output"}),"\n",(0,s.jsx)(l.Ay,{}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Vector Store Connection port"}),(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component has an additional ",(0,s.jsx)(t.strong,{children:"Vector Store Connection"})," output.\nThis output can only connect to a ",(0,s.jsx)(t.code,{children:"VectorStore"})," input port, and it was intended for use with dedicated Graph RAG components."]}),(0,s.jsxs)(t.p,{children:["The only non-legacy component that supports this input is the ",(0,s.jsxs)(t.a,{href:"#graph-rag",children:[(0,s.jsx)(t.strong,{children:"Graph RAG"})," component"]}),", which can be a Graph RAG extension to the ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component.\nInstead, use the ",(0,s.jsx)(t.strong,{children:"Astra DB Graph"})," component that includes both the vector store connection and Graph RAG functionality."]})]}),"\n",(0,s.jsx)(t.h2,{id:"astra-db-cql",children:"Astra DB CQL"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Astra DB CQL"})," component allows agents to query data from CQL tables in Astra DB."]}),"\n",(0,s.jsxs)(t.p,{children:["The output is a list of ",(0,s.jsx)(t.a,{href:"/data-types#data",children:(0,s.jsx)(t.code,{children:"Data"})})," objects containing the query results from the Astra DB CQL table. Each Data object contains the document fields specified by the projection fields. Limited by the ",(0,s.jsx)(t.code,{children:"number_of_results"})," parameter."]}),"\n",(0,s.jsx)(t.h3,{id:"astra-db-cql-parameters",children:"Astra DB CQL parameters"}),"\n",(0,s.jsx)(d.Ay,{}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Tool Name"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Input parameter. The name used to reference the tool in the agent's prompt."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Tool Description"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Input parameter. A brief description of the tool to guide the model in using it."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Keyspace"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Input parameter. The name of the keyspace."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Table Name"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Input parameter. The name of the Astra DB CQL table to query."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Token"}),(0,s.jsx)(t.td,{children:"SecretString"}),(0,s.jsx)(t.td,{children:"Input parameter. The authentication token for Astra DB."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"API Endpoint"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Input parameter. The Astra DB API endpoint."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Projection Fields"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:'Input parameter. The attributes to return, separated by commas. Default: "*".'})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Partition Keys"}),(0,s.jsx)(t.td,{children:"Dict"}),(0,s.jsx)(t.td,{children:"Input parameter. Required parameters that the model must fill to query the tool."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Clustering Keys"}),(0,s.jsx)(t.td,{children:"Dict"}),(0,s.jsxs)(t.td,{children:["Input parameter. Optional parameters the model can fill to refine the query. Required parameters should be marked with an exclamation mark, for example, ",(0,s.jsx)(t.code,{children:"!customer_id"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Static Filters"}),(0,s.jsx)(t.td,{children:"Dict"}),(0,s.jsx)(t.td,{children:"Input parameter. Attribute-value pairs used to filter query results."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Limit"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Input parameter. The number of records to return."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"graph-rag",children:"Graph RAG"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Graph RAG"})," component uses an instance of ",(0,s.jsx)(t.a,{href:"https://datastax.github.io/graph-rag/reference/langchain_graph_retriever/",children:(0,s.jsx)(t.code,{children:"GraphRetriever"})})," for Graph RAG traversal enabling graph-based document retrieval in an Astra DB vector store.\nFor more information, see the ",(0,s.jsx)(t.a,{href:"https://datastax.github.io/graph-rag/",children:"DataStax Graph RAG documentation"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"graph-rag-parameters",children:"Graph RAG parameters"}),"\n",(0,s.jsx)(t.p,{children:"You can inspect a vector store component's parameters to learn more about the inputs it accepts, the features it supports, and how to configure it."}),"\n",(0,s.jsx)(d.Ay,{}),"\n",(0,s.jsx)(c.Ay,{}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Display Name"}),(0,s.jsx)(t.th,{children:"Info"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"embedding_model"}),(0,s.jsx)(t.td,{children:"Embedding Model"}),(0,s.jsxs)(t.td,{children:["Input parameter. Specify the embedding model to use. Not required if the connected vector store has a ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/databases/embedding-generation.html",children:"vectorize integration"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"vector_store"}),(0,s.jsx)(t.td,{children:"Vector Store Connection"}),(0,s.jsxs)(t.td,{children:["Input parameter. An instance of ",(0,s.jsx)(t.code,{children:"AstraDbVectorStore"})," inherited from the ",(0,s.jsxs)(t.a,{href:"#astra-db",children:[(0,s.jsx)(t.strong,{children:"Astra DB"})," component"]}),"'s ",(0,s.jsx)(t.strong,{children:"Vector Store Connection"})," output."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"edge_definition"}),(0,s.jsx)(t.td,{children:"Edge Definition"}),(0,s.jsxs)(t.td,{children:["Input parameter. ",(0,s.jsx)(t.a,{href:"https://datastax.github.io/graph-rag/reference/graph_retriever/edges/",children:"Edge definition"})," for the graph traversal."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"strategy"}),(0,s.jsx)(t.td,{children:"Traversal Strategies"}),(0,s.jsx)(t.td,{children:"Input parameter. The strategy to use for graph traversal. Strategy options are dynamically loaded from available strategies."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_query"}),(0,s.jsx)(t.td,{children:"Search Query"}),(0,s.jsx)(t.td,{children:"Input parameter. The query to search for in the vector store."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"graphrag_strategy_kwargs"}),(0,s.jsx)(t.td,{children:"Strategy Parameters"}),(0,s.jsxs)(t.td,{children:["Input parameter. Optional dictionary of additional parameters for the ",(0,s.jsx)(t.a,{href:"https://datastax.github.io/graph-rag/reference/graph_retriever/strategies/",children:"retrieval strategy"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_results"}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.strong,{children:"Search Results"})," or ",(0,s.jsx)(t.strong,{children:"DataFrame"})]}),(0,s.jsxs)(t.td,{children:["Output parameter. The results of the graph-based document retrieval as a list of ",(0,s.jsx)(t.a,{href:"/data-types#data",children:(0,s.jsx)(t.code,{children:"Data"})})," objects or as a tabular ",(0,s.jsx)(t.a,{href:"/data-types#dataframe",children:(0,s.jsx)(t.code,{children:"DataFrame"})}),". You can set the desired output type near the component's output port."]})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"hyper-converged-database-hcd",children:"Hyper-Converged Database (HCD)"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Hyper-Converged Database (HCD)"})," component uses your cluster's Data API server to read and write to your HCD vector store.\nBecause the underlying functions call the Data API, which originated from Astra DB, the component uses an instance of ",(0,s.jsx)(t.code,{children:"AstraDBVectorStore"}),"."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"A flow using the HCD component to load vector data.",src:n(42638).A+"",width:"2294",height:"1684"})}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"About vector store instances"}),(0,s.jsx)(h.Ay,{})]}),"\n",(0,s.jsx)(l.Ay,{}),"\n",(0,s.jsxs)(t.p,{children:["For more information about HCD, see ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/hyper-converged-database/1.2/get-started/get-started-hcd.html",children:"Get started with HCD 1.2"})," and ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/hyper-converged-database/1.2/api-reference/dataapiclient.html",children:"Get started with the Data API in HCD 1.2"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"hcd-parameters",children:"HCD parameters"}),"\n",(0,s.jsx)(t.p,{children:"You can inspect a vector store component's parameters to learn more about the inputs it accepts, the features it supports, and how to configure it."}),"\n",(0,s.jsx)(d.Ay,{}),"\n",(0,s.jsx)(c.Ay,{}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Display Name"}),(0,s.jsx)(t.th,{children:"Info"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"collection_name"}),(0,s.jsx)(t.td,{children:"Collection Name"}),(0,s.jsx)(t.td,{children:"Input parameter. The name of a vector store collection in HCD. For write operations, if the collection doesn't exist, then a new one is created. Required."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"username"}),(0,s.jsx)(t.td,{children:"HCD Username"}),(0,s.jsxs)(t.td,{children:["Input parameter. Username for authenticating to your HCD deployment. Default: ",(0,s.jsx)(t.code,{children:"hcd-superuser"}),". Required."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"password"}),(0,s.jsx)(t.td,{children:"HCD Password"}),(0,s.jsx)(t.td,{children:"Input parameter. Password for authenticating to your HCD deployment. Required."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"api_endpoint"}),(0,s.jsx)(t.td,{children:"HCD API Endpoint"}),(0,s.jsxs)(t.td,{children:["Input parameter. Your deployment's HCD Data API endpoint, formatted as ",(0,s.jsx)(t.code,{children:"http[s]://CLUSTER_HOST:GATEWAY_PORT"})," where ",(0,s.jsx)(t.code,{children:"CLUSTER_HOST"})," is the IP address of any node in your cluster and ",(0,s.jsx)(t.code,{children:"GATEWAY_PORT"})," is the port number for your API gateway service. For example, ",(0,s.jsx)(t.code,{children:"http://192.0.2.250:8181"}),". Required."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ingest_data"}),(0,s.jsx)(t.td,{children:"Ingest Data"}),(0,s.jsx)(t.td,{children:"Input parameter. Records to load into the vector store. Only relevant for writes."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_input"}),(0,s.jsx)(t.td,{children:"Search Input"}),(0,s.jsx)(t.td,{children:"Input parameter. Query string for similarity search. Only relevant to reads."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"namespace"}),(0,s.jsx)(t.td,{children:"Namespace"}),(0,s.jsxs)(t.td,{children:["Input parameter. The namespace in HCD that contains or will contain the collection specified in ",(0,s.jsx)(t.code,{children:"collection_name"}),". Default: ",(0,s.jsx)(t.code,{children:"default_namespace"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ca_certificate"}),(0,s.jsx)(t.td,{children:"CA Certificate"}),(0,s.jsx)(t.td,{children:"Input parameter. Optional CA certificate for TLS connections to HCD."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"metric"}),(0,s.jsx)(t.td,{children:"Metric"}),(0,s.jsxs)(t.td,{children:["Input parameter. The metrics to use for similarity search calculations, either ",(0,s.jsx)(t.code,{children:"cosine"}),", ",(0,s.jsx)(t.code,{children:"dot_product"}),", or ",(0,s.jsx)(t.code,{children:"euclidean"}),". This is a collection setting. If calling an existing collection, leave unset to use the collection's metric. If a write operation creates a new collection, specify the desired similarity metric setting."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"batch_size"}),(0,s.jsx)(t.td,{children:"Batch Size"}),(0,s.jsx)(t.td,{children:"Input parameter. Optional number of records to process in a single batch."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"bulk_insert_batch_concurrency"}),(0,s.jsx)(t.td,{children:"Bulk Insert Batch Concurrency"}),(0,s.jsx)(t.td,{children:"Input parameter. Optional concurrency level for bulk write operations."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"bulk_insert_overwrite_concurrency"}),(0,s.jsx)(t.td,{children:"Bulk Insert Overwrite Concurrency"}),(0,s.jsx)(t.td,{children:"Input parameter. Optional concurrency level for bulk write operations that allow upserts (overwriting existing records)."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"bulk_delete_concurrency"}),(0,s.jsx)(t.td,{children:"Bulk Delete Concurrency"}),(0,s.jsx)(t.td,{children:"Input parameter. Optional concurrency level for bulk delete operations."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"setup_mode"}),(0,s.jsx)(t.td,{children:"Setup Mode"}),(0,s.jsxs)(t.td,{children:["Input parameter. Configuration mode for setting up the vector store, either ",(0,s.jsx)(t.code,{children:"Sync"})," (default), ",(0,s.jsx)(t.code,{children:"Async"}),", or ",(0,s.jsx)(t.code,{children:"Off"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"pre_delete_collection"}),(0,s.jsx)(t.td,{children:"Pre Delete Collection"}),(0,s.jsx)(t.td,{children:"Input parameter. Whether to delete the collection before creating a new one."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"metadata_indexing_include"}),(0,s.jsx)(t.td,{children:"Metadata Indexing Include"}),(0,s.jsxs)(t.td,{children:["Input parameter. A list of metadata fields to index if you want to enable ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/hyper-converged-database/1.2/api-reference/collection-indexes.html",children:"selective indexing"})," ",(0,s.jsx)(t.em,{children:"only"})," when creating a collection. Doesn't apply to existing collections. Only one ",(0,s.jsx)(t.code,{children:"*_indexing_*"})," parameter can be set per collection. If all ",(0,s.jsx)(t.code,{children:"*_indexing_*"})," parameters are unset, then all fields are indexed (default indexing)."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"metadata_indexing_exclude"}),(0,s.jsx)(t.td,{children:"Metadata Indexing Exclude"}),(0,s.jsxs)(t.td,{children:["Input parameter. A list of metadata fields to exclude from indexing if you want to enable selective indexing ",(0,s.jsx)(t.em,{children:"only"})," when creating a collection. Doesn't apply to existing collections. Only one ",(0,s.jsx)(t.code,{children:"*_indexing_*"})," parameter can be set per collection. If all ",(0,s.jsx)(t.code,{children:"*_indexing_*"})," parameters are unset, then all fields are indexed (default indexing)."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"collection_indexing_policy"}),(0,s.jsx)(t.td,{children:"Collection Indexing Policy"}),(0,s.jsxs)(t.td,{children:["Input parameter. A dictionary to define the indexing policy if you want to enable selective indexing ",(0,s.jsx)(t.em,{children:"only"})," when creating a collection. Doesn't apply to existing collections. Only one ",(0,s.jsx)(t.code,{children:"*_indexing_*"})," parameter can be set per collection. If all ",(0,s.jsx)(t.code,{children:"*_indexing_*"})," parameters are unset, then all fields are indexed (default indexing). The ",(0,s.jsx)(t.code,{children:"collection_indexing_policy"})," dictionary is used when you need to set indexing on subfields or a complex indexing definition that isn't compatible as a list."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"embedding"}),(0,s.jsx)(t.td,{children:"Embedding or Astra Vectorize"}),(0,s.jsxs)(t.td,{children:["Input parameter. The embedding model to use by attaching an ",(0,s.jsx)(t.strong,{children:"Embedding Model"})," component. This component doesn't support additional vectorize authentication headers, so it isn't possible to use a vectorize integration with this component, even if you have enabled one on an existing HCD collection."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"number_of_results"}),(0,s.jsx)(t.td,{children:"Number of Results"}),(0,s.jsx)(t.td,{children:"Input parameter. Number of search results to return. Default: 4. Only relevant to reads."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_type"}),(0,s.jsx)(t.td,{children:"Search Type"}),(0,s.jsxs)(t.td,{children:["Input parameter. Search type to use, either ",(0,s.jsx)(t.code,{children:"Similarity"})," (default), ",(0,s.jsx)(t.code,{children:"Similarity with score threshold"}),", or ",(0,s.jsx)(t.code,{children:"MMR (Max Marginal Relevance)"}),". Only relevant to reads."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_score_threshold"}),(0,s.jsx)(t.td,{children:"Search Score Threshold"}),(0,s.jsxs)(t.td,{children:["Input parameter. Minimum similarity score threshold for search results if the ",(0,s.jsx)(t.code,{children:"search_type"})," is ",(0,s.jsx)(t.code,{children:"Similarity with score threshold"}),". Default: 0."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_filter"}),(0,s.jsx)(t.td,{children:"Search Metadata Filter"}),(0,s.jsx)(t.td,{children:"Input parameter. Optional dictionary of metadata filters to apply in addition to vector search."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"other-datastax-components",children:"Other DataStax components"}),"\n",(0,s.jsxs)(t.p,{children:["The following components are also included in the ",(0,s.jsx)(t.strong,{children:"DataStax"})," bundle."]}),"\n",(0,s.jsx)(t.h3,{id:"astra-db-chat-memory",children:"Astra DB Chat Memory"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Astra DB Chat Memory"})," component retrieves and stores chat messages using an Astra DB database."]}),"\n",(0,s.jsxs)(t.p,{children:["Chat memories are passed between memory storage components as the ",(0,s.jsx)(t.a,{href:"/data-types#memory",children:(0,s.jsx)(t.code,{children:"Memory"})})," data type.\nSpecifically, the component creates an instance of ",(0,s.jsx)(t.code,{children:"AstraDBChatMessageHistory"}),", which is a LangChain chat message history class that uses Astra DB for storage."]}),"\n",(0,s.jsxs)(t.admonition,{type:"warning",children:[(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Astra DB Chat Memory"})," component isn't recommended for most memory storage because memories tend to be long JSON objects or strings, often exceeding the maximum size of a document or object supported by Astra DB."]}),(0,s.jsxs)(t.p,{children:["However, Langflow's ",(0,s.jsx)(t.strong,{children:"Agent"})," component includes built-in chat memory that is enabled by default.\nYour agentic flows don't need an external database to store chat memory.\nFor more information, see ",(0,s.jsx)(t.a,{href:"/memory",children:"Memory management options"}),"."]})]}),"\n",(0,s.jsxs)(t.p,{children:["For more information about using external chat memory in flows, see the ",(0,s.jsxs)(t.a,{href:"/message-history",children:[(0,s.jsx)(t.strong,{children:"Message History"})," component"]}),"."]}),"\n",(0,s.jsx)(t.h4,{id:"astra-db-chat-memory-parameters",children:"Astra DB Chat Memory parameters"}),"\n",(0,s.jsx)(d.Ay,{}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"collection_name"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Input parameter. The name of the Astra DB collection for storing messages. Required."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"token"}),(0,s.jsx)(t.td,{children:"SecretString"}),(0,s.jsx)(t.td,{children:"Input parameter. The authentication token for Astra DB access. Required."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"api_endpoint"}),(0,s.jsx)(t.td,{children:"SecretString"}),(0,s.jsx)(t.td,{children:"Input parameter. The API endpoint URL for the Astra DB service. Required."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"namespace"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Input parameter. The optional namespace within Astra DB for the collection."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"session_id"}),(0,s.jsx)(t.td,{children:"MessageText"}),(0,s.jsx)(t.td,{children:"Input parameter. The unique identifier for the chat session. Uses the current session ID if not provided."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"legacy-datastax-components",children:"Legacy DataStax components"}),"\n","\n",(0,s.jsx)(x.Ay,{}),"\n",(0,s.jsx)(t.p,{children:"The following DataStax components are in legacy status:"}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Astra DB Tool"}),(0,s.jsxs)(t.p,{children:["Replace the ",(0,s.jsx)(t.strong,{children:"Astra DB Tool"})," component with the ",(0,s.jsxs)(t.a,{href:"#astra-db",children:[(0,s.jsx)(t.strong,{children:"Astra DB"})," component"]}),"."]}),(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Astra DB Tool"})," component enables searching data in Astra DB collections, including hybrid search, vector search, and regular filter-based search.\nSpecialized searches require that the collection is pre-configured with the required parameters."]}),(0,s.jsxs)(t.p,{children:["Outputs a list of ",(0,s.jsx)(t.a,{href:"/data-types#data",children:(0,s.jsx)(t.code,{children:"Data"})})," objects containing the query results from Astra DB. Each ",(0,s.jsx)(t.code,{children:"Data"})," object contains the document fields specified by the projection attributes. Limited by the ",(0,s.jsx)(t.code,{children:"number_of_results"})," parameter and the upper limit of the Astra DB Data API, depending on the type of search."]}),(0,s.jsxs)(t.p,{children:["You can use the component to execute queries directly as isolated steps in a flow, or you can connect it as a ",(0,s.jsx)(t.a,{href:"/agents-tools",children:"tool for an agent"})," to allow the agent to query data from Astra DB collections as needed to respond to user queries."]}),(0,s.jsxs)(t.p,{children:["The values for ",(0,s.jsx)(t.strong,{children:"Collection Name"}),", ",(0,s.jsx)(t.strong,{children:"Astra DB Application Token"}),", and ",(0,s.jsx)(t.strong,{children:"Astra DB API Endpoint"})," are found in your Astra DB deployment. For more information, see the ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/databases/create-database.html",children:"Astra DB Serverless documentation"}),"."]}),(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Tool Name"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Input parameter. The name used to reference the tool in the agent's prompt."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Tool Description"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Input parameter. A brief description of the tool. This helps the model decide when to use it."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Keyspace Name"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:["Input parameter. The name of the keyspace in Astra DB. Default: ",(0,s.jsx)(t.code,{children:"default_keyspace"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Collection Name"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Input parameter. The name of the Astra DB collection to query."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Token"}),(0,s.jsx)(t.td,{children:"SecretString"}),(0,s.jsx)(t.td,{children:"Input parameter. The authentication token for accessing Astra DB."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"API Endpoint"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsx)(t.td,{children:"Input parameter. The Astra DB API endpoint."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Projection Fields"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:["Input parameter. Comma-separated list of attributes to return from matching documents. The default is the default projection, ",(0,s.jsx)(t.code,{children:"*"}),", which returns all attributes except reserved fields like ",(0,s.jsx)(t.code,{children:"$vector"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Tool Parameters"}),(0,s.jsx)(t.td,{children:"Dict"}),(0,s.jsxs)(t.td,{children:["Input parameter. ",(0,s.jsxs)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/api-reference/document-methods/find-many.html#parameters",children:["Astra DB Data API ",(0,s.jsx)(t.code,{children:"find"})," filters"]})," that become tools for an agent. These Filters ",(0,s.jsx)(t.em,{children:"may"})," be used in a search, if the agent selects them."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Static Filters"}),(0,s.jsx)(t.td,{children:"Dict"}),(0,s.jsxs)(t.td,{children:["Input parameter. Attribute-value pairs used to filter query results. Equivalent to ",(0,s.jsxs)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/api-reference/document-methods/find-many.html#parameters",children:["Astra DB Data API ",(0,s.jsx)(t.code,{children:"find"})," filters"]}),". ",(0,s.jsx)(t.strong,{children:"Static Filters"})," are included with ",(0,s.jsx)(t.em,{children:"every"})," query. Use ",(0,s.jsx)(t.strong,{children:"Static Filters"})," without semantic search to perform a regular filter search."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Number of Results"}),(0,s.jsx)(t.td,{children:"Int"}),(0,s.jsx)(t.td,{children:"Input parameter. The maximum number of documents to return."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Semantic Search"}),(0,s.jsx)(t.td,{children:"Boolean"}),(0,s.jsxs)(t.td,{children:["Input parameter. Whether to run a similarity search by generating a vector embedding from the chat input and following the ",(0,s.jsx)(t.strong,{children:"Semantic Search Instruction"}),". Default: ",(0,s.jsx)(t.code,{children:"false"}),". If ",(0,s.jsx)(t.code,{children:"true"}),", you must attach an ",(0,s.jsx)(t.a,{href:"/components-embedding-models",children:"embedding model component"})," or have vectorize pre-enabled on your collection."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Use Astra DB Vectorize"}),(0,s.jsx)(t.td,{children:"Boolean"}),(0,s.jsxs)(t.td,{children:["Input parameter. Whether to use the Astra DB vectorize feature for embedding generation when running a semantic search. Default: ",(0,s.jsx)(t.code,{children:"false"}),". If ",(0,s.jsx)(t.code,{children:"true"}),", you must have vectorize pre-enabled on your collection."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Embedding Model"}),(0,s.jsx)(t.td,{children:"Embedding"}),(0,s.jsxs)(t.td,{children:["Input parameter. A port to attach an embedding model component to generate a vector from input text for semantic search. This can be used when ",(0,s.jsx)(t.strong,{children:"Semantic Search"})," is ",(0,s.jsx)(t.code,{children:"true"}),", with or without vectorize. Be sure to use a model that aligns with the dimensions of the embeddings already present in the collection."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Semantic Search Instruction"}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:["Input parameter. The query to use for similarity search. Default: ",(0,s.jsx)(t.code,{children:'"Find documents similar to the query."'}),". This instruction is used to guide the model in performing semantic search."]})]})]})]})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Astra DB Graph"}),(0,s.jsxs)(t.p,{children:["Replace the ",(0,s.jsx)(t.strong,{children:"Astra DB Graph"})," component with the ",(0,s.jsxs)(t.a,{href:"#graph-rag",children:[(0,s.jsx)(t.strong,{children:"Graph RAG"})," component"]}),"."]}),(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Astra DB Graph"})," component uses ",(0,s.jsx)(t.code,{children:"AstraDBGraphVectorStore"}),", an instance of ",(0,s.jsx)(t.a,{href:"https://python.langchain.com/api_reference/community/graph_vectorstores.html",children:"LangChain graph vector store"}),", for graph traversal and graph-based document retrieval in an Astra DB collection. It also supports writing to the vector store.\nFor more information, see ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/tutorials/graph-rag.html",children:"Build a Graph RAG system with LangChain and GraphRetriever"}),"."]}),(0,s.jsx)(t.p,{children:"You can inspect a vector store component's parameters to learn more about the inputs it accepts, the features it supports, and how to configure it."}),(0,s.jsx)(d.Ay,{}),(0,s.jsx)(c.Ay,{}),(0,s.jsxs)(t.p,{children:["For information about accepted values and functionality, see the ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/index.html",children:"Astra DB Serverless documentation"})," or inspect ",(0,s.jsx)(t.a,{href:"/concepts-components#component-code",children:"component code"}),"."]}),(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Display Name"}),(0,s.jsx)(t.th,{children:"Info"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"token"}),(0,s.jsx)(t.td,{children:"Astra DB Application Token"}),(0,s.jsx)(t.td,{children:"Input parameter. An Astra application token with permission to access your vector database. Once the connection is verified, additional fields are populated with your existing databases and collections. If you want to create a database through this component, the application token must have Organization Administrator permissions."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"api_endpoint"}),(0,s.jsx)(t.td,{children:"API Endpoint"}),(0,s.jsx)(t.td,{children:"Input parameter. Your database's API endpoint."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"keyspace"}),(0,s.jsx)(t.td,{children:"Keyspace"}),(0,s.jsxs)(t.td,{children:["Input parameter. The keyspace in your database that contains the collection specified in ",(0,s.jsx)(t.code,{children:"collection_name"}),". Default: ",(0,s.jsx)(t.code,{children:"default_keyspace"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"collection_name"}),(0,s.jsx)(t.td,{children:"Collection"}),(0,s.jsx)(t.td,{children:"Input parameter. The name of the collection that you want to use with this flow. For write operations, if a matching collection doesn't exist, a new one is created."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"metadata_incoming_links_key"}),(0,s.jsx)(t.td,{children:"Metadata Incoming Links Key"}),(0,s.jsx)(t.td,{children:"Input parameter. The metadata key for the incoming links in the vector store."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ingest_data"}),(0,s.jsx)(t.td,{children:"Ingest Data"}),(0,s.jsx)(t.td,{children:"Input parameter. Records to load into the vector store. Only relevant for writes."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_input"}),(0,s.jsx)(t.td,{children:"Search Query"}),(0,s.jsx)(t.td,{children:"Input parameter. Query string for similarity search. Only relevant to reads."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"cache_vector_store"}),(0,s.jsx)(t.td,{children:"Cache Vector Store"}),(0,s.jsxs)(t.td,{children:["Input parameter. Whether to cache the vector store in Langflow memory for faster reads. Default: Enabled (",(0,s.jsx)(t.code,{children:"true"}),")."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"embedding_model"}),(0,s.jsx)(t.td,{children:"Embedding Model"}),(0,s.jsxs)(t.td,{children:["Input parameter. Attach an ",(0,s.jsx)(t.a,{href:"/components-embedding-models",children:"embedding model component"})," to generate embeddings. If the collection has a ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/databases/embedding-generation.html",children:"vectorize integration"}),", don't attach an embedding model component."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"metric"}),(0,s.jsx)(t.td,{children:"Metric"}),(0,s.jsxs)(t.td,{children:["Input parameter. The metrics to use for similarity search calculations, either ",(0,s.jsx)(t.code,{children:"cosine"})," (default), ",(0,s.jsx)(t.code,{children:"dot_product"}),", or ",(0,s.jsx)(t.code,{children:"euclidean"}),". This is a collection setting."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"batch_size"}),(0,s.jsx)(t.td,{children:"Batch Size"}),(0,s.jsx)(t.td,{children:"Input parameter. Optional number of records to process in a single batch."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"bulk_insert_batch_concurrency"}),(0,s.jsx)(t.td,{children:"Bulk Insert Batch Concurrency"}),(0,s.jsx)(t.td,{children:"Input parameter. Optional concurrency level for bulk write operations."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"bulk_insert_overwrite_concurrency"}),(0,s.jsx)(t.td,{children:"Bulk Insert Overwrite Concurrency"}),(0,s.jsx)(t.td,{children:"Input parameter. Optional concurrency level for bulk write operations that allow upserts (overwriting existing records)."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"bulk_delete_concurrency"}),(0,s.jsx)(t.td,{children:"Bulk Delete Concurrency"}),(0,s.jsx)(t.td,{children:"Input parameter. Optional concurrency level for bulk delete operations."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"setup_mode"}),(0,s.jsx)(t.td,{children:"Setup Mode"}),(0,s.jsxs)(t.td,{children:["Input parameter. Configuration mode for setting up the vector store, either ",(0,s.jsx)(t.code,{children:"Sync"})," (default) or ",(0,s.jsx)(t.code,{children:"Off"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"pre_delete_collection"}),(0,s.jsx)(t.td,{children:"Pre Delete Collection"}),(0,s.jsxs)(t.td,{children:["Input parameter. Whether to delete the collection before creating a new one. Default: Disabled (",(0,s.jsx)(t.code,{children:"false"}),")."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"metadata_indexing_include"}),(0,s.jsx)(t.td,{children:"Metadata Indexing Include"}),(0,s.jsxs)(t.td,{children:["Input parameter. A list of metadata fields to index if you want to enable ",(0,s.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/api-reference/collection-indexes.html",children:"selective indexing"})," ",(0,s.jsx)(t.em,{children:"only"})," when creating a collection. Doesn't apply to existing collections. Only one ",(0,s.jsx)(t.code,{children:"*_indexing_*"})," parameter can be set per collection. If all ",(0,s.jsx)(t.code,{children:"*_indexing_*"})," parameters are unset, then all fields are indexed (default indexing)."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"metadata_indexing_exclude"}),(0,s.jsx)(t.td,{children:"Metadata Indexing Exclude"}),(0,s.jsxs)(t.td,{children:["Input parameter. A list of metadata fields to exclude from indexing if you want to enable selective indexing ",(0,s.jsx)(t.em,{children:"only"})," when creating a collection. Doesn't apply to existing collections. Only one ",(0,s.jsx)(t.code,{children:"*_indexing_*"})," parameter can be set per collection. If all ",(0,s.jsx)(t.code,{children:"*_indexing_*"})," parameters are unset, then all fields are indexed (default indexing)."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"collection_indexing_policy"}),(0,s.jsx)(t.td,{children:"Collection Indexing Policy"}),(0,s.jsxs)(t.td,{children:["Input parameter. A dictionary to define the indexing policy if you want to enable selective indexing ",(0,s.jsx)(t.em,{children:"only"})," when creating a collection. Doesn't apply to existing collections. Only one ",(0,s.jsx)(t.code,{children:"*_indexing_*"})," parameter can be set per collection. If all ",(0,s.jsx)(t.code,{children:"*_indexing_*"})," parameters are unset, then all fields are indexed (default indexing). The ",(0,s.jsx)(t.code,{children:"collection_indexing_policy"})," dictionary is used when you need to set indexing on subfields or a complex indexing definition that isn't compatible as a list."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"number_of_results"}),(0,s.jsx)(t.td,{children:"Number of Results"}),(0,s.jsx)(t.td,{children:"Input parameter. Number of search results to return. Default: 4. Only relevant to reads."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_type"}),(0,s.jsx)(t.td,{children:"Search Type"}),(0,s.jsxs)(t.td,{children:["Input parameter. Search type to use, either ",(0,s.jsx)(t.code,{children:"Similarity"}),", ",(0,s.jsx)(t.code,{children:"Similarity with score threshold"}),", or ",(0,s.jsx)(t.code,{children:"MMR (Max Marginal Relevance)"}),", ",(0,s.jsx)(t.code,{children:"Graph Traversal"}),", or ",(0,s.jsx)(t.code,{children:"MMR (Max Marginal Relevance) Graph Traversal"})," (default). Only relevant to reads."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_score_threshold"}),(0,s.jsx)(t.td,{children:"Search Score Threshold"}),(0,s.jsxs)(t.td,{children:["Input parameter. Minimum similarity score threshold for search results if the ",(0,s.jsx)(t.code,{children:"search_type"})," is ",(0,s.jsx)(t.code,{children:"Similarity with score threshold"}),". Default: 0."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"search_filter"}),(0,s.jsx)(t.td,{children:"Search Metadata Filter"}),(0,s.jsx)(t.td,{children:"Input parameter. Optional dictionary of metadata filters to apply in addition to vector search."})]})]})]})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Assistants API components"}),(0,s.jsx)(t.p,{children:"The following DataStax components were used to create and manage Assistants API functions in a flow:"}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.strong,{children:"Astra Assistant Agent"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.strong,{children:"Create Assistant"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.strong,{children:"Create Assistant Thread"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.strong,{children:"Get Assistant Name"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.strong,{children:"List Assistants"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.strong,{children:"Run Assistant"})}),"\n"]}),(0,s.jsx)(t.p,{children:"These components are legacy and should be replaced with Langflow's native agent components."})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Environment variable components"}),(0,s.jsx)(t.p,{children:"The following DataStax components were used to load and retrieve environment variables in a flow:"}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Dotenv"}),": Loads environment variables from a ",(0,s.jsx)(t.code,{children:".env"})," file"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Get Environment Variable"}),": Retrieves the value of an environment variable"]}),"\n"]}),(0,s.jsx)(t.p,{children:"These components are legacy. Use Langflow's built-in environment variable support or global variables instead."})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Astra Vectorize"}),(0,s.jsxs)(t.p,{children:["This component was deprecated in Langflow version 1.1.2.\nReplace it with the ",(0,s.jsxs)(t.a,{href:"#astra-db",children:[(0,s.jsx)(t.strong,{children:"Astra DB"})," component"]}),"."]}),(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Astra DB Vectorize"})," component was used to generate embeddings with Astra DB's vectorize feature in conjunction with an ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component."]}),(0,s.jsxs)(t.p,{children:["The vectorize functionality is now built into the ",(0,s.jsx)(t.strong,{children:"Astra DB"})," component.\nYou no longer need a separate component for vectorize embedding generation."]})]}),"\n",(0,s.jsx)(t.h2,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsxs)(t.a,{href:"/bundles-cassandra",children:[(0,s.jsx)(t.strong,{children:"Cassandra"})," bundle"]})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"/chat-with-rag",children:"Create a vector RAG chatbot"})}),"\n"]})]})}function v(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(b,{...e})}):b(e)}function w(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},7685:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/vector-store-document-ingestion-6157311fb4d16e7f944d55254f0cc0e2.png"},27027:(e,t,n)=>{n.d(t,{Ay:()=>d,RM:()=>i});var r=n(74848),s=n(28453),a=n(40619);const i=[];function o(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.p,{children:["For a tutorial that uses vector data in a flow, see ",(0,r.jsx)(t.a,{href:"/chat-with-rag",children:"Create a vector RAG chatbot"}),"."]})}),"\n",(0,r.jsx)(t.p,{children:"The following example demonstrates how to use vector store components in flows alongside related components like embedding model and language model components.\nThese steps walk through important configuration details, functionality, and best practices for using these components effectively.\nThis is only one example; it isn't a prescriptive guide to all possible use cases or configurations."}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Create a flow with the ",(0,r.jsx)(t.strong,{children:"Vector Store RAG"})," template."]}),"\n",(0,r.jsxs)(t.p,{children:["This template has two subflows.\nThe ",(0,r.jsx)(t.strong,{children:"Load Data"})," subflow loads embeddings and content into a vector database, and the ",(0,r.jsx)(t.strong,{children:"Retriever"})," subflow runs a vector search to retrieve relevant context based on a user's query."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Configure the database connection for both ",(0,r.jsxs)(t.a,{href:"/bundles-datastax#astra-db",children:[(0,r.jsx)(t.strong,{children:"Astra DB"})," components"]}),", or replace them with another pair of vector store components of your choice.\nMake sure the components connect to the same vector store, and that the component in the ",(0,r.jsx)(t.strong,{children:"Retriever"})," subflow is able to run a similarity search."]}),"\n",(0,r.jsxs)(t.p,{children:["The parameters you set in each vector store component depend on the component's role in your flow.\nIn this example, the ",(0,r.jsx)(t.strong,{children:"Load Data"})," subflow ",(0,r.jsx)(t.em,{children:"writes"})," to the vector store, whereas the ",(0,r.jsx)(t.strong,{children:"Retriever"})," subflow ",(0,r.jsx)(t.em,{children:"reads"})," from the vector store.\nTherefore, search-related parameters are only relevant to the ",(0,r.jsx)(t.strong,{children:"Vector Search"})," component in the ",(0,r.jsx)(t.strong,{children:"Retriever"})," subflow."]}),"\n",(0,r.jsx)(t.p,{children:"For information about specific parameters, see the documentation for your chosen vector store component."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"To configure the embedding model, do one of the following:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Use an OpenAI model"}),": In both ",(0,r.jsx)(t.strong,{children:"OpenAI Embeddings"})," components, enter your OpenAI API key.\nYou can use the default model or select a different OpenAI embedding model."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Use another provider"}),": Replace the ",(0,r.jsx)(t.strong,{children:"OpenAI Embeddings"})," components with another pair of ",(0,r.jsx)(t.a,{href:"/components-embedding-models",children:"embedding model components"})," of your choice, and then configure the parameters and credentials accordingly."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Use Astra DB vectorize"}),": If you are using an Astra DB vector store that has a vectorize integration, you can remove both ",(0,r.jsx)(t.strong,{children:"OpenAI Embeddings"})," components.\nIf you do this, the vectorize integration automatically generates embeddings from the ",(0,r.jsx)(t.strong,{children:"Ingest Data"})," (in the ",(0,r.jsx)(t.strong,{children:"Load Data"})," subflow) and ",(0,r.jsx)(t.strong,{children:"Search Query"})," (in the ",(0,r.jsx)(t.strong,{children:"Retriever"})," subflow)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsx)(t.p,{children:"If your vector store already contains embeddings, make sure your embedding model components use the same model as your previous embeddings.\nMixing embedding models in the same vector store can produce inaccurate search results."})}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Recommended: In the ",(0,r.jsxs)(t.a,{href:"/split-text",children:[(0,r.jsx)(t.strong,{children:"Split Text"})," component"]}),", optimize the chunking settings for your embedding model.\nFor example, if your embedding model has a token limit of 512, then the ",(0,r.jsx)(t.strong,{children:"Chunk Size"})," parameter must not exceed that limit."]}),"\n",(0,r.jsxs)(t.p,{children:["Additionally, because the ",(0,r.jsx)(t.strong,{children:"Retriever"})," subflow passes the chat input directly to the vector store component for vector search, make sure that your chat input string doesn't exceed your embedding model's limits.\nFor this example, you can enter a query that is within the limits; however, in a production environment, you might need to implement additional checks or preprocessing steps to ensure compliance.\nFor example, use additional components to prepare the chat input before running the vector search, or enforce chat input limits in your application code."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["In the ",(0,r.jsx)(t.strong,{children:"Language Model"})," component, enter your OpenAI API key, or select a different provider and model to use for the chat portion of the flow."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Run the ",(0,r.jsx)(t.strong,{children:"Load Data"})," subflow to populate your vector store.\nIn the ",(0,r.jsx)(t.strong,{children:"Read File"})," component, select one or more files, and then click ",(0,r.jsx)(a.A,{name:"Play","aria-hidden":"true"})," ",(0,r.jsx)(t.strong,{children:"Run component"})," on the vector store component in the ",(0,r.jsx)(t.strong,{children:"Load Data"})," subflow."]}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Load Data"})," subflow loads files from your local machine, chunks them, generates embeddings for the chunks, and then stores the chunks and their embeddings in the vector database."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Embedding data into a vector store",src:n(7685).A+"",width:"4000",height:"2512"})}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Load Data"})," subflow is separate from the ",(0,r.jsx)(t.strong,{children:"Retriever"})," subflow because you probably won't run it every time you use the chat.\nYou can run the ",(0,r.jsx)(t.strong,{children:"Load Data"})," subflow as needed to preload or update the data in your vector store.\nThen, your chat interactions only use the components that are necessary for chat."]}),"\n",(0,r.jsxs)(t.p,{children:["If your vector store already contains data that you want to use for vector search, then you don't need to run the ",(0,r.jsx)(t.strong,{children:"Load Data"})," subflow."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Open the ",(0,r.jsx)(t.strong,{children:"Playground"})," and start chatting to run the ",(0,r.jsx)(t.strong,{children:"Retriever"})," subflow."]}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Retriever"})," subflow generates an embedding from chat input, runs a vector search to retrieve similar content from your vector store, parses the search results into supplemental context for the LLM, and then uses the LLM to generate a natural language response to your query.\nThe LLM uses the vector search results along with its internal training data and tools, such as basic web search and datetime information, to produce the response."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Retrieval from a vector store",src:n(67719).A+"",width:"4000",height:"1324"})}),"\n",(0,r.jsxs)(t.p,{children:["To avoid passing the entire block of raw search results to the LLM, the ",(0,r.jsx)(t.strong,{children:"Parser"})," component extracts ",(0,r.jsx)(t.code,{children:"text"})," strings from the search results ",(0,r.jsx)(t.code,{children:"Data"})," object, and then passes them to the ",(0,r.jsx)(t.strong,{children:"Prompt Template"})," component in ",(0,r.jsx)(t.code,{children:"Message"})," format.\nFrom there, the strings and other template content are compiled into natural language instructions for the LLM."]}),"\n",(0,r.jsxs)(t.p,{children:["You can use other components for this transformation, such as the ",(0,r.jsx)(t.strong,{children:"Data Operations"})," component, depending on how you want to use the search results."]}),"\n",(0,r.jsxs)(t.p,{children:["To view the raw search results, click ",(0,r.jsx)(a.A,{name:"TextSearch","aria-hidden":"true"})," ",(0,r.jsx)(t.strong,{children:"Inspect output"})," on the vector store component after running the ",(0,r.jsx)(t.strong,{children:"Retriever"})," subflow."]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},31929:(e,t,n)=>{n.d(t,{Ay:()=>d,RM:()=>i});var r=n(74848),s=n(28453),a=n(40619);const i=[];function o(e){const t={a:"a",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(t.p,{children:["Some parameters are hidden by default in the visual editor.\nYou can modify all parameters through the ",(0,r.jsx)(a.A,{name:"SlidersHorizontal","aria-hidden":"true"})," ",(0,r.jsx)(t.strong,{children:"Controls"})," in the ",(0,r.jsx)(t.a,{href:"/concepts-components#component-menus",children:"component's header menu"}),"."]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},36813:(e,t,n)=>{n.d(t,{Ay:()=>d,RM:()=>i});var r=n(74848),s=n(28453),a=n(40619);const i=[];function o(e){const t={a:"a",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["Legacy components are longer supported and can be removed in a future release.\nYou can continue to use them in existing flows, but it is recommended that you replace them with supported components as soon as possible.\nSuggested replacements are included in the ",(0,r.jsx)(t.strong,{children:"Legacy"})," banner on components in your flows.\nThey are also given in release notes and Langflow documentation whenever possible."]}),"\n",(0,r.jsxs)(t.p,{children:["If you aren't sure how to replace a legacy component, ",(0,r.jsx)(a.A,{name:"Search","aria-hidden":"true"})," ",(0,r.jsx)(t.strong,{children:"Search"})," for components by provider, service, or component name.\nThe component may have been deprecated in favor of a completely new component, a similar component, or a new version of the same component in a different category."]}),"\n",(0,r.jsxs)(t.p,{children:["If there is no obvious replacement, consider whether another component can be adapted to your use case.\nFor example, many ",(0,r.jsx)(a.A,{name:"Component","aria-hidden":"true"})," ",(0,r.jsx)(t.strong,{children:"Core components"})," provide generic functionality that can support multiple providers and use cases, such as the ",(0,r.jsxs)(t.a,{href:"/api-request",children:[(0,r.jsx)(t.strong,{children:"API Request"})," component"]}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["If neither of these options are viable, you could use the legacy component's code to create your own custom component, or ",(0,r.jsx)(t.a,{href:"/contributing-github-issues",children:"start a discussion"})," about the legacy component."]}),"\n",(0,r.jsxs)(t.p,{children:["To discourage use of legacy components in new flows, these components are hidden by default.\nIn the visual editor, you can click ",(0,r.jsx)(a.A,{name:"SlidersHorizontal","aria-hidden":"true"})," ",(0,r.jsx)(t.strong,{children:"Component settings"})," to toggle the ",(0,r.jsx)(t.strong,{children:"Legacy"})," filter."]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},42638:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/component-hcd-example-flow-b82057600ce5e9e4a0f7ea0a61dcbf7f.png"},50005:(e,t,n)=>{n.d(t,{Ay:()=>o,RM:()=>a});var r=n(74848),s=n(28453);const a=[];function i(e){const t={a:"a",code:"code",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["Because Langflow is based on LangChain, vector store components use an instance of ",(0,r.jsx)(t.a,{href:"https://docs.langchain.com/oss/python/integrations/vectorstores",children:"LangChain vector store"})," to drive the underlying read and write functions.\nThese instances are provider-specific and configured according to the component's parameters, such as the connection string, index name, and schema."]}),"\n",(0,r.jsxs)(t.p,{children:["In component code, this is often instantiated as ",(0,r.jsx)(t.code,{children:"vector_store"}),", but some vector store components use a different name, such as the provider name."]}),"\n",(0,r.jsx)(t.p,{children:"Some LangChain classes don't expose all possible options as component parameters.\nDepending on the provider, these options might use default values or allow modification through environment variables, if they are supported in Langflow.\nFor information about specific options, see the LangChain API reference and vector store provider's documentation."})]})}function o(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}},67719:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/vector-store-retrieval-af7257d77ff0259ab1a0980641d464ce.png"},80223:(e,t,n)=>{n.d(t,{Ay:()=>o,RM:()=>a});var r=n(74848),s=n(28453);const a=[];function i(e){const t={p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(t.p,{children:["Some parameters are conditional, and they are only available after you set other parameters or select specific options for other parameters.\nConditional parameters may not be visible on the ",(0,r.jsx)(t.strong,{children:"Controls"})," pane until you set the required dependencies."]})}function o(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}},90465:(e,t,n)=>{n.d(t,{Ay:()=>o,RM:()=>a});var r=n(74848),s=n(28453);const a=[];function i(e){const t={a:"a",code:"code",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(t.p,{children:["If you use a vector store component to query your vector database, it produces search results that you can pass to downstream components in your flow as a list of ",(0,r.jsx)(t.a,{href:"/data-types#data",children:(0,r.jsx)(t.code,{children:"Data"})})," objects or a tabular ",(0,r.jsx)(t.a,{href:"/data-types#dataframe",children:(0,r.jsx)(t.code,{children:"DataFrame"})}),".\nIf both types are supported, you can set the format near the vector store component's output port in the visual editor."]})}function o(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}}}]);