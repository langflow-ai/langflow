"use strict";(globalThis.webpackChunklangflow_docs=globalThis.webpackChunklangflow_docs||[]).push([[596],{12260:(o,e,t)=>{t.d(e,{A:()=>n});const n=t.p+"assets/images/conditional-looping-756b330b8dc690b3dab1c44cc2fb05db.png"},24505:(o,e,t)=>{t.r(e),t.d(e,{CH:()=>d,assets:()=>a,chCodeConfig:()=>p,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"Components/loop","title":"Loop","description":"The Loop component iterates over a list of input by passing individual items to other components attached at the Item output port until there are no items left to process.","source":"@site/docs/Components/loop.mdx","sourceDirName":"Components","slug":"/loop","permalink":"/loop","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Loop","slug":"/loop"},"sidebar":"docs","previous":{"title":"If-Else","permalink":"/if-else"},"next":{"title":"Notify and Listen","permalink":"/notify-and-listen"}}');var s=t(74848),r=t(28453),c=t(24754);t(40619),t(31929);const i={title:"Loop",slug:"/loop"},l=void 0,a={},d={annotations:c.hk,Code:c.Cy},p={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},h=[{value:"The looping process",id:"the-looping-process",level:2},{value:"Loop example",id:"loop-example",level:2},{value:"Conditional looping",id:"conditional-looping",level:2}];function g(o){const e={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,r.R)(),...o.components};return d||u("CH",!1),d.Code||u("CH.Code",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n","\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.strong,{children:"Loop"})," component iterates over a list of input by passing individual items to other components attached at the ",(0,s.jsx)(e.strong,{children:"Item"})," output port until there are no items left to process.\nThen, the ",(0,s.jsx)(e.strong,{children:"Loop"})," component passes the aggregated result of all looping to the component connected to the ",(0,s.jsx)(e.strong,{children:"Done"})," port."]}),"\n",(0,s.jsx)(e.h2,{id:"the-looping-process",children:"The looping process"}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.strong,{children:"Loop"})," component is like a miniature flow within your flow.\nHere's a breakdown of the looping process:"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Accepts a list of ",(0,s.jsx)(e.a,{href:"/data-types#data",children:(0,s.jsx)(e.code,{children:"Data"})})," or ",(0,s.jsx)(e.a,{href:"/data-types#dataframe",children:(0,s.jsx)(e.code,{children:"DataFrame"})})," objects, such as a CSV file, through the ",(0,s.jsx)(e.strong,{children:"Loop"})," component's ",(0,s.jsx)(e.strong,{children:"Inputs"})," port."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Splits the input into individual items. For example, a CSV file is broken down by rows."}),"\n",(0,s.jsxs)(e.p,{children:["Specifically, the ",(0,s.jsx)(e.strong,{children:"Loop"})," component repeatedly extracts items by ",(0,s.jsx)(e.code,{children:"text"})," key in the ",(0,s.jsx)(e.code,{children:"Data"})," or ",(0,s.jsx)(e.code,{children:"DataFrame"})," objects until there are no more items to extract.\nEach ",(0,s.jsx)(e.code,{children:"item"})," output is a ",(0,s.jsx)(e.code,{children:"Data"})," objects."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Iterates over each ",(0,s.jsx)(e.code,{children:"item"})," by passing them to the ",(0,s.jsx)(e.strong,{children:"Item"})," output port."]}),"\n",(0,s.jsxs)(e.p,{children:["This port connects to one or more components that perform actions on each item.\nThe final component in the ",(0,s.jsx)(e.strong,{children:"Item"})," loop connects back to the ",(0,s.jsx)(e.strong,{children:"Loop"})," component's ",(0,s.jsx)(e.strong,{children:"Looping"})," port to process the next item."]}),"\n",(0,s.jsxs)(e.p,{children:["Only one component connects to the ",(0,s.jsx)(e.strong,{children:"Item"})," port, but you can pass the data through as many components as you need, as long as the last component in the chain connects back to the ",(0,s.jsx)(e.strong,{children:"Looping"})," port."]}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsxs)(e.a,{href:"/if-else",children:[(0,s.jsx)(e.strong,{children:"If-Else"})," component"]})," isn't compatible with the ",(0,s.jsx)(e.strong,{children:"Loop"})," component.\nFor more information, see ",(0,s.jsx)(e.a,{href:"#conditional-looping",children:"Conditional looping"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["After processing all items, the results are aggregated into a single ",(0,s.jsx)(e.code,{children:"Data"})," object that is passed from the ",(0,s.jsx)(e.strong,{children:"Loop"})," component's ",(0,s.jsx)(e.strong,{children:"Done"})," port to the next component in the flow."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["The following simplified Python code summarizes how the ",(0,s.jsx)(e.strong,{children:"Loop"})," component works.\nThis ",(0,s.jsx)(e.em,{children:"isn't"})," the actual component code; it is only meant to help you understand the general process."]}),"\n",(0,s.jsx)(d.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"for",props:{style:{color:"#FF7B72"}}},{content:" i ",props:{style:{color:"#C9D1D9"}}},{content:"in ",props:{style:{color:"#FF7B72"}}},{content:"input",props:{style:{color:"#79C0FF"}}},{content:":             ",props:{style:{color:"#C9D1D9"}}},{content:"# Receive input data as a list",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"    process_item(i)         ",props:{style:{color:"#C9D1D9"}}},{content:"# Process each item through components connected at the Item port",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"    if",props:{style:{color:"#FF7B72"}}},{content:" has_more_items():",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        continue            ",props:{style:{color:"#FF7B72"}}},{content:"# Loop back to Looping port to process the next item",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"    else",props:{style:{color:"#FF7B72"}}},{content:":",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        break               ",props:{style:{color:"#FF7B72"}}},{content:"# Exit the loop when no more items are left",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"done ",props:{style:{color:"#C9D1D9"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:" aggregate_results()  ",props:{style:{color:"#C9D1D9"}}},{content:"# Compile all returned items",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"print",props:{style:{color:"#79C0FF"}}},{content:"(done)                 ",props:{style:{color:"#C9D1D9"}}},{content:"# Send the aggregated results from the Done port to another component",props:{style:{color:"#8B949E"}}}]}],lang:"python"},annotations:[]}]}),"\n",(0,s.jsx)(e.h2,{id:"loop-example",children:"Loop example"}),"\n",(0,s.jsxs)(e.p,{children:["In the follow example, the ",(0,s.jsx)(e.strong,{children:"Loop"})," component iterates over a CSV file until there are no rows left to process.\nIn this case, the ",(0,s.jsx)(e.strong,{children:"Item"})," port passes each row to a ",(0,s.jsx)(e.strong,{children:"Type Convert"})," component to convert the row into a ",(0,s.jsx)(e.code,{children:"Message"})," object, passes the ",(0,s.jsx)(e.code,{children:"Message"})," to a ",(0,s.jsx)(e.strong,{children:"Structured Output"})," component to be processed into structured data that is then passed back to the ",(0,s.jsx)(e.strong,{children:"Loop"})," component's ",(0,s.jsx)(e.strong,{children:"Looping"})," port.\nAfter processing all rows, the ",(0,s.jsx)(e.strong,{children:"Loop"})," component loads the aggregated list of structured data into a Chroma DB database through the ",(0,s.jsx)(e.strong,{children:"Chroma DB"})," component connected to the ",(0,s.jsx)(e.strong,{children:"Done"})," port."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"Loop CSV parser",src:t(91110).A+"",width:"3876",height:"3300"})}),"\n",(0,s.jsx)(e.admonition,{type:"tip",children:(0,s.jsxs)(e.p,{children:["For more examples of the ",(0,s.jsx)(e.strong,{children:"Loop"})," component, try the ",(0,s.jsx)(e.strong,{children:"Research Translation Loop"})," template in Langflow, or see the video tutorial ",(0,s.jsx)(e.a,{href:"https://www.youtube.com/watch?v=9Wx7WODSKTo",children:"Mastering the Loop Component & Agentic RAG in Langflow"}),"."]})}),"\n",(0,s.jsx)(e.h2,{id:"conditional-looping",children:"Conditional looping"}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsxs)(e.a,{href:"/if-else",children:[(0,s.jsx)(e.strong,{children:"If-Else"})," component"]})," isn't compatible with the ",(0,s.jsx)(e.strong,{children:"Loop"})," component.\nIf you need conditional loop events, redesign your flow to process conditions before the loop.\nFor example, if you are looping over a ",(0,s.jsx)(e.code,{children:"DataFrame"}),", you could use multiple ",(0,s.jsxs)(e.a,{href:"/dataframe-operations",children:[(0,s.jsx)(e.strong,{children:"DataFrame Operations"})," components"]})," to conditionally filter data, and then run separate loops on each set of filtered data."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"A flow with conditional looping.",src:t(12260).A+"",width:"1482",height:"673"})})]})}function m(o={}){const{wrapper:e}={...(0,r.R)(),...o.components};return e?(0,s.jsx)(e,{...o,children:(0,s.jsx)(g,{...o})}):g(o)}function u(o,e){throw new Error("Expected "+(e?"component":"object")+" `"+o+"` to be defined: you likely forgot to import, pass, or provide it.")}},31929:(o,e,t)=>{t.d(e,{Ay:()=>l,RM:()=>c});var n=t(74848),s=t(28453),r=t(40619);const c=[];function i(o){const e={a:"a",p:"p",strong:"strong",...(0,s.R)(),...o.components};return(0,n.jsxs)(e.p,{children:["Some parameters are hidden by default in the visual editor.\nYou can modify all parameters through the ",(0,n.jsx)(r.A,{name:"SlidersHorizontal","aria-hidden":"true"})," ",(0,n.jsx)(e.strong,{children:"Controls"})," in the ",(0,n.jsx)(e.a,{href:"/concepts-components#component-menus",children:"component's header menu"}),"."]})}function l(o={}){const{wrapper:e}={...(0,s.R)(),...o.components};return e?(0,n.jsx)(e,{...o,children:(0,n.jsx)(i,{...o})}):i(o)}},91110:(o,e,t)=>{t.d(e,{A:()=>n});const n=t.p+"assets/images/component-loop-csv-66c1b53f0722b36a900632806cb32d78.png"}}]);