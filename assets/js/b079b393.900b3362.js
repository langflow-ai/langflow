"use strict";(self.webpackChunklangflow_docs=self.webpackChunklangflow_docs||[]).push([[3240],{11470:(o,e,t)=>{t.d(e,{A:()=>j});var n=t(96540),s=t(18215),r=t(23104),c=t(56347),l=t(205),p=t(57485),a=t(31682),i=t(70679);function d(o){return n.Children.toArray(o).filter(o=>"\n"!==o).map(o=>{if(!o||(0,n.isValidElement)(o)&&function(o){const{props:e}=o;return!!e&&"object"==typeof e&&"value"in e}(o))return o;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof o.type?o.type:o.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h(o){const{values:e,children:t}=o;return(0,n.useMemo)(()=>{const o=e??function(o){return d(o).map(({props:{value:o,label:e,attributes:t,default:n}})=>({value:o,label:e,attributes:t,default:n}))}(t);return function(o){const e=(0,a.XI)(o,(o,e)=>o.value===e.value);if(e.length>0)throw new Error(`Docusaurus error: Duplicate values "${e.map(o=>o.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(o),o},[e,t])}function u({value:o,tabValues:e}){return e.some(e=>e.value===o)}function y({queryString:o=!1,groupId:e}){const t=(0,c.W6)(),s=function({queryString:o=!1,groupId:e}){if("string"==typeof o)return o;if(!1===o)return null;if(!0===o&&!e)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return e??null}({queryString:o,groupId:e});return[(0,p.aZ)(s),(0,n.useCallback)(o=>{if(!s)return;const e=new URLSearchParams(t.location.search);e.set(s,o),t.replace({...t.location,search:e.toString()})},[s,t])]}function D(o){const{defaultValue:e,queryString:t=!1,groupId:s}=o,r=h(o),[c,p]=(0,n.useState)(()=>function({defaultValue:o,tabValues:e}){if(0===e.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(o){if(!u({value:o,tabValues:e}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${o}" but none of its children has the corresponding value. Available values are: ${e.map(o=>o.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return o}const t=e.find(o=>o.default)??e[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:e,tabValues:r})),[a,d]=y({queryString:t,groupId:s}),[D,F]=function({groupId:o}){const e=function(o){return o?`docusaurus.tab.${o}`:null}(o),[t,s]=(0,i.Dv)(e);return[t,(0,n.useCallback)(o=>{e&&s.set(o)},[e,s])]}({groupId:s}),m=(()=>{const o=a??D;return u({value:o,tabValues:r})?o:null})();(0,l.A)(()=>{m&&p(m)},[m]);return{selectedValue:c,selectValue:(0,n.useCallback)(o=>{if(!u({value:o,tabValues:r}))throw new Error(`Can't select invalid tab value=${o}`);p(o),d(o),F(o)},[d,F,r]),tabValues:r}}var F=t(92303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(74848);function f({className:o,block:e,selectedValue:t,selectValue:n,tabValues:c}){const l=[],{blockElementScrollPositionUntilNextRender:p}=(0,r.a_)(),a=o=>{const e=o.currentTarget,s=l.indexOf(e),r=c[s].value;r!==t&&(p(e),n(r))},i=o=>{let e=null;switch(o.key){case"Enter":a(o);break;case"ArrowRight":{const t=l.indexOf(o.currentTarget)+1;e=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(o.currentTarget)-1;e=l[t]??l[l.length-1];break}}e?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":e},o),children:c.map(({value:o,label:e,attributes:n})=>(0,g.jsx)("li",{role:"tab",tabIndex:t===o?0:-1,"aria-selected":t===o,ref:o=>{l.push(o)},onKeyDown:i,onClick:a,...n,className:(0,s.A)("tabs__item",m.tabItem,n?.className,{"tabs__item--active":t===o}),children:e??o},o))})}function x({lazy:o,children:e,selectedValue:t}){const r=(Array.isArray(e)?e:[e]).filter(Boolean);if(o){const o=r.find(o=>o.props.value===t);return o?(0,n.cloneElement)(o,{className:(0,s.A)("margin-top--md",o.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:r.map((o,e)=>(0,n.cloneElement)(o,{key:e,hidden:o.props.value!==t}))})}function C(o){const e=D(o);return(0,g.jsxs)("div",{className:(0,s.A)("tabs-container",m.tabList),children:[(0,g.jsx)(f,{...e,...o}),(0,g.jsx)(x,{...e,...o})]})}function j(o){const e=(0,F.A)();return(0,g.jsx)(C,{...o,children:d(o.children)},String(e))}},17886:(o,e,t)=>{t.d(e,{A:()=>r});t(96540);var n=t(64058),s=t(74848);function r({name:o,...e}){const t=n[o];return t?(0,s.jsx)(t,{...e}):null}},19365:(o,e,t)=>{t.d(e,{A:()=>c});t(96540);var n=t(18215);const s={tabItem:"tabItem_Ymn6"};var r=t(74848);function c({children:o,hidden:e,className:t}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,n.A)(s.tabItem,t),hidden:e,children:o})}},33588:(o,e,t)=>{t.d(e,{A:()=>n});const n=t.p+"assets/images/tutorial-agent-with-directory-a938bd23cfaf1f0570b58b2635e699e4.png"},36557:(o,e,t)=>{t.d(e,{A:()=>n});const n=t.p+"assets/files/customer_orders-0c1c00f9ebd1f6b3c9ede72af1b67ca2.csv"},39582:(o,e,t)=>{t.r(e),t.d(e,{CH:()=>d,assets:()=>i,chCodeConfig:()=>h,contentTitle:()=>a,default:()=>D,frontMatter:()=>p,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"Tutorials/agent","title":"Connect applications to agents","description":"This tutorial shows you how to connect a JavaScript application to a Langflow agent.","source":"@site/docs/Tutorials/agent.mdx","sourceDirName":"Tutorials","slug":"/agent-tutorial","permalink":"/agent-tutorial","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Connect applications to agents","slug":"/agent-tutorial"},"sidebar":"docs","previous":{"title":"Create a chatbot that can ingest files","permalink":"/chat-with-files"},"next":{"title":"Connect to MCP servers from your application","permalink":"/mcp-tutorial"}}');var s=t(74848),r=t(28453),c=t(24754),l=t(17886);t(11470),t(19365);const p={title:"Connect applications to agents",slug:"/agent-tutorial"},a=void 0,i={},d={annotations:c.hk,Code:c.Cy},h={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},u=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Create an agentic flow",id:"create-an-agentic-flow",level:2},{value:"Add a Prompt Template component to the flow",id:"add-a-prompt-template-component-to-the-flow",level:2},{value:"Send requests to your flow from a JavaScript application",id:"send-requests-to-your-flow-from-a-javascript-application",level:2},{value:"Next steps",id:"next-steps",level:2}];function y(o){const e={a:"a",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...o.components},{Details:n}=e;return d||F("CH",!1),d.Code||F("CH.Code",!0),n||F("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n","\n",(0,s.jsxs)(e.p,{children:["This tutorial shows you how to connect a JavaScript application to a Langflow ",(0,s.jsx)(e.a,{href:"/agents",children:"agent"}),"."]}),"\n",(0,s.jsx)(e.p,{children:"With the agent connected, your application can use any connected tools to retrieve more contextual and timely data without changing any application code. The tools are selected by the agent's internal LLM to solve problems and answer questions."}),"\n",(0,s.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"/get-started-installation",children:"A running Langflow instance"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"/configuration-api-keys",children:"A Langflow API key"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://platform.openai.com/api-keys",children:"An OpenAI API key"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"/typescript-client",children:"Langflow JavaScript client installed"})}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"This tutorial uses an OpenAI LLM. If you want to use a different provider, you need a valid credential for that provider."}),"\n",(0,s.jsx)(e.h2,{id:"create-an-agentic-flow",children:"Create an agentic flow"}),"\n",(0,s.jsxs)(e.p,{children:["The following steps modify the ",(0,s.jsx)(e.a,{href:"/simple-agent",children:(0,s.jsx)(e.strong,{children:"Simple agent"})})," template to connect ",(0,s.jsx)(e.a,{href:"/components-data#directory",children:(0,s.jsx)(e.strong,{children:"Directory"})})," and ",(0,s.jsx)(e.a,{href:"/components-data#web-search",children:(0,s.jsx)(e.strong,{children:"Web search"})})," components as tools for an ",(0,s.jsx)(e.strong,{children:"Agent"})," component.\nThe ",(0,s.jsx)(e.strong,{children:"Directory"})," component loads all files of a given type from a target directory on your local machine, and the ",(0,s.jsx)(e.strong,{children:"Web search"})," component performs a DuckDuckGo search.\nWhen connected to an ",(0,s.jsx)(e.strong,{children:"Agent"})," component as tools, the agent has the option to use these components when handling requests."]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["In Langflow, click ",(0,s.jsx)(e.strong,{children:"New Flow"}),", and then select the ",(0,s.jsx)(e.strong,{children:"Simple agent"})," template."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Remove the ",(0,s.jsx)(e.strong,{children:"URL"})," and ",(0,s.jsx)(e.strong,{children:"Calculator"})," tools, and  then drag the ",(0,s.jsx)(e.a,{href:"/components-data#directory",children:(0,s.jsx)(e.strong,{children:"Directory"})})," and ",(0,s.jsx)(e.a,{href:"/components-data#web-search",children:(0,s.jsx)(e.strong,{children:"Web search"})})," components into your workspace."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["In the ",(0,s.jsx)(e.strong,{children:"Directory"})," component's ",(0,s.jsx)(e.strong,{children:"Path"})," field, enter the directory path and file types that you want to make available to the ",(0,s.jsx)(e.strong,{children:"Agent"})," component."]}),"\n",(0,s.jsxs)(e.p,{children:["In this tutorial,  the agent needs access to a record of customer purchases, so the directory name is ",(0,s.jsx)(e.code,{children:"customer_orders"})," and the file type is ",(0,s.jsx)(e.code,{children:".csv"}),". Later in this tutorial, the agent will be prompted to find ",(0,s.jsx)(e.code,{children:"email"})," values in the customer data."]}),"\n",(0,s.jsxs)(e.p,{children:["You can adapt the tutorial to suit your data, or, to follow along with the tutorial, you can download ",(0,s.jsx)(e.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(36557).A+"",children:(0,s.jsx)(e.code,{children:"customer-orders.csv"})})," and save it in a ",(0,s.jsx)(e.code,{children:"customer_orders"})," folder on your local machine."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["In the ",(0,s.jsx)(e.a,{href:"/concepts-components#component-menus",children:"component header menu"})," for the ",(0,s.jsx)(e.strong,{children:"Directory"})," and ",(0,s.jsx)(e.strong,{children:"Web search"})," components, enable ",(0,s.jsx)(e.strong,{children:"Tool Mode"})," so you can use the components with an agent."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["For both tool components, connect the ",(0,s.jsx)(e.strong,{children:"Toolset"})," port to the Agent component's ",(0,s.jsx)(e.strong,{children:"Tools"})," port."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["In the ",(0,s.jsx)(e.strong,{children:"Agent"})," component, enter your OpenAI API key."]}),"\n",(0,s.jsxs)(e.p,{children:["If you want to use a different provider or model, edit the ",(0,s.jsx)(e.strong,{children:"Model Provider"}),", ",(0,s.jsx)(e.strong,{children:"Model Name"}),", and ",(0,s.jsx)(e.strong,{children:"API Key"})," fields accordingly."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["To test the flow, click ",(0,s.jsx)(l.A,{name:"Play","aria-hidden":"true"})," ",(0,s.jsx)(e.strong,{children:"Playground"}),", and then ask the LLM a question, such as ",(0,s.jsx)(e.code,{children:"Recommend 3 used items for carol.davis@example.com, based on previous orders."})]}),"\n",(0,s.jsxs)(e.p,{children:["Given the example prompt, the LLM would respond with recommendations and web links for items based on previous orders in ",(0,s.jsx)(e.code,{children:"customer_orders.csv"}),"."]}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.strong,{children:"Playground"})," prints the agent's chain of thought as it selects tools to use and interacts with functionality provided by those tools.\nFor example, the agent can use the ",(0,s.jsx)(e.strong,{children:"Directory"})," component's ",(0,s.jsx)(e.code,{children:"as_dataframe"})," tool to retrieve a ",(0,s.jsx)(e.a,{href:"/data-types#dataframe",children:"DataFrame"}),", and the ",(0,s.jsx)(e.strong,{children:"Web search"})," component's ",(0,s.jsx)(e.code,{children:"perform_search"})," tool to find links to related items."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"add-a-prompt-template-component-to-the-flow",children:"Add a Prompt Template component to the flow"}),"\n",(0,s.jsx)(e.p,{children:"In this example, the application sends a customer's email address to the Langflow agent. The agent compares the customer's previous orders within the Directory component, searches the web for used versions of those items, and returns three results."}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["To include the email address as a value in your flow, add a ",(0,s.jsx)(e.a,{href:"/components-prompts",children:(0,s.jsx)(e.strong,{children:"Prompt Template"})})," component to your flow between the ",(0,s.jsx)(e.strong,{children:"Chat Input"})," and ",(0,s.jsx)(e.strong,{children:"Agent"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["In the ",(0,s.jsx)(e.strong,{children:"Prompt Template"})," component's ",(0,s.jsx)(e.strong,{children:"Template"})," field, enter ",(0,s.jsx)(e.code,{children:"Recommend 3 used items for {email}, based on previous orders."}),"\nAdding the ",(0,s.jsx)(e.code,{children:"{email}"})," value in curly braces creates a new input in the ",(0,s.jsx)(e.strong,{children:"Prompt Template"})," component, and the component connected to the ",(0,s.jsx)(e.code,{children:"{email}"})," port is supplying the value for that variable.\nThis creates a point for the user's email to enter the flow from your request.\nIf you aren't using the ",(0,s.jsx)(e.code,{children:"customer_orders.csv"})," example file, modify the input to search for a value in your dataset."]}),"\n",(0,s.jsxs)(e.p,{children:["At this point your flow has six components. The ",(0,s.jsx)(e.strong,{children:"Chat Input"})," is connected to the ",(0,s.jsx)(e.strong,{children:"Prompt Template"})," component's ",(0,s.jsx)(e.strong,{children:"email"})," port. Then, the ",(0,s.jsx)(e.strong,{children:"Prompt Template"})," output is connected to the ",(0,s.jsx)(e.strong,{children:"Agent"})," component's ",(0,s.jsx)(e.strong,{children:"System Message"})," port. The ",(0,s.jsx)(e.strong,{children:"Directory"})," and ",(0,s.jsx)(e.strong,{children:"Web Search"})," components are connected to the ",(0,s.jsx)(e.strong,{children:"Agent"})," component's ",(0,s.jsx)(e.strong,{children:"Tools"})," port. Finally, the ",(0,s.jsx)(e.strong,{children:"Agent"})," component's output is connected to the ",(0,s.jsx)(e.strong,{children:"Chat Output"})," component, which returns the final response to the application."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"An agent component connected to web search and directory components",src:t(33588).A+"",width:"4000",height:"2830"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"send-requests-to-your-flow-from-a-javascript-application",children:"Send requests to your flow from a JavaScript application"}),"\n",(0,s.jsx)(e.p,{children:"With your flow operational, connect it to a JavaScript application to use the agent's responses."}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"To construct a JavaScript application to connect to your flow, gather the following information:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"LANGFLOW_SERVER_ADDRESS"}),": Your Langflow server's domain. The default value is ",(0,s.jsx)(e.code,{children:"127.0.0.1:7860"}),". You can get this value from the code snippets on your flow's ",(0,s.jsxs)(e.a,{href:"/concepts-publish#api-access",children:[(0,s.jsx)(e.strong,{children:"API access"})," pane"]}),"."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"FLOW_ID"}),": Your flow's UUID or custom endpoint name. You can get this value from the code snippets on your flow's ",(0,s.jsxs)(e.a,{href:"/concepts-publish#api-access",children:[(0,s.jsx)(e.strong,{children:"API access"})," pane"]}),"."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"LANGFLOW_API_KEY"}),": A valid Langflow API key. To create an API key, see ",(0,s.jsx)(e.a,{href:"/configuration-api-keys",children:"API keys"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Copy the following script into a JavaScript file, and then replace the placeholders with the information you gathered in the previous step.\nIf you're using the ",(0,s.jsx)(e.code,{children:"customer_orders.csv"})," example file, you can run this example as-is with the example email address in the code sample.\nIf not, modify the ",(0,s.jsx)(e.code,{children:'const email = "isabella.rodriguez@example.com"'})," to search for a value in your dataset."]}),"\n",(0,s.jsx)(d.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"import",props:{style:{color:"#FF7B72"}}},{content:" { LangflowClient } ",props:{style:{color:"#C9D1D9"}}},{content:"from ",props:{style:{color:"#FF7B72"}}},{content:'"@datastax/langflow-client"',props:{style:{color:"#A5D6FF"}}},{content:";",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"const ",props:{style:{color:"#FF7B72"}}},{content:"LANGFLOW_SERVER_ADDRESS ",props:{style:{color:"#79C0FF"}}},{content:"= ",props:{style:{color:"#FF7B72"}}},{content:"'LANGFLOW_SERVER_ADDRESS'",props:{style:{color:"#A5D6FF"}}},{content:";",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"const ",props:{style:{color:"#FF7B72"}}},{content:"FLOW_ID ",props:{style:{color:"#79C0FF"}}},{content:"= ",props:{style:{color:"#FF7B72"}}},{content:"'FLOW_ID'",props:{style:{color:"#A5D6FF"}}},{content:";",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"const ",props:{style:{color:"#FF7B72"}}},{content:"LANGFLOW_API_KEY ",props:{style:{color:"#79C0FF"}}},{content:"= ",props:{style:{color:"#FF7B72"}}},{content:"'LANGFLOW_API_KEY'",props:{style:{color:"#A5D6FF"}}},{content:";",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"const ",props:{style:{color:"#FF7B72"}}},{content:"email ",props:{style:{color:"#79C0FF"}}},{content:"= ",props:{style:{color:"#FF7B72"}}},{content:'"isabella.rodriguez@example.com"',props:{style:{color:"#A5D6FF"}}},{content:";",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"async function ",props:{style:{color:"#FF7B72"}}},{content:"runAgentFlow",props:{style:{color:"#D2A8FF"}}},{content:"()",props:{style:{color:"#C9D1D9"}}},{content:": ",props:{style:{color:"#FF7B72"}}},{content:"Promise",props:{style:{color:"#FFA657"}}},{content:"<",props:{style:{color:"#C9D1D9"}}},{content:"void",props:{style:{color:"#79C0FF"}}},{content:"> {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    try",props:{style:{color:"#FF7B72"}}},{content:" {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        // Initialize the Langflow client",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"        const ",props:{style:{color:"#FF7B72"}}},{content:"client ",props:{style:{color:"#79C0FF"}}},{content:"= new ",props:{style:{color:"#FF7B72"}}},{content:"LangflowClient",props:{style:{color:"#D2A8FF"}}},{content:"({",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            baseUrl: ",props:{style:{color:"#C9D1D9"}}},{content:"LANGFLOW_SERVER_ADDRESS",props:{style:{color:"#79C0FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            apiKey: ",props:{style:{color:"#C9D1D9"}}},{content:"LANGFLOW_API_KEY",props:{style:{color:"#79C0FF"}}}]},{tokens:[{content:"        });",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        console.",props:{style:{color:"#C9D1D9"}}},{content:"log",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"`Connecting to Langflow server at: ${",props:{style:{color:"#A5D6FF"}}},{content:"LANGFLOW_SERVER_ADDRESS",props:{style:{color:"#79C0FF"}}},{content:"} `",props:{style:{color:"#A5D6FF"}}},{content:");",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        console.",props:{style:{color:"#C9D1D9"}}},{content:"log",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"`Flow ID: ${",props:{style:{color:"#A5D6FF"}}},{content:"FLOW_ID",props:{style:{color:"#79C0FF"}}},{content:"}`",props:{style:{color:"#A5D6FF"}}},{content:");",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        console.",props:{style:{color:"#C9D1D9"}}},{content:"log",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"`Email: ${",props:{style:{color:"#A5D6FF"}}},{content:"email",props:{style:{color:"#C9D1D9"}}},{content:"}`",props:{style:{color:"#A5D6FF"}}},{content:");",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        // Get the flow instance",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"        const ",props:{style:{color:"#FF7B72"}}},{content:"flow ",props:{style:{color:"#79C0FF"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:" client.",props:{style:{color:"#C9D1D9"}}},{content:"flow",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"FLOW_ID",props:{style:{color:"#79C0FF"}}},{content:");",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        // Run the flow with the email as input",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"        console.",props:{style:{color:"#C9D1D9"}}},{content:"log",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'",props:{style:{color:"#A5D6FF"}}},{content:"\\n",props:{style:{color:"#79C0FF"}}},{content:"Sending request to agent...'",props:{style:{color:"#A5D6FF"}}},{content:");",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        const ",props:{style:{color:"#FF7B72"}}},{content:"response ",props:{style:{color:"#79C0FF"}}},{content:"= await",props:{style:{color:"#FF7B72"}}},{content:" flow.",props:{style:{color:"#C9D1D9"}}},{content:"run",props:{style:{color:"#D2A8FF"}}},{content:"(email, {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            session_id: email ",props:{style:{color:"#C9D1D9"}}},{content:"// Use email as session ID for context",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"        });",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        console.",props:{style:{color:"#C9D1D9"}}},{content:"log",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'",props:{style:{color:"#A5D6FF"}}},{content:"\\n",props:{style:{color:"#79C0FF"}}},{content:"=== Response from Langflow ==='",props:{style:{color:"#A5D6FF"}}},{content:");",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        console.",props:{style:{color:"#C9D1D9"}}},{content:"log",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'Session ID:'",props:{style:{color:"#A5D6FF"}}},{content:", response.sessionId);",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        // Extract URLs from the chat message",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"        const ",props:{style:{color:"#FF7B72"}}},{content:"chatMessage ",props:{style:{color:"#79C0FF"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:" response.",props:{style:{color:"#C9D1D9"}}},{content:"chatOutputText",props:{style:{color:"#D2A8FF"}}},{content:"();",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        console.",props:{style:{color:"#C9D1D9"}}},{content:"log",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'",props:{style:{color:"#A5D6FF"}}},{content:"\\n",props:{style:{color:"#79C0FF"}}},{content:"=== URLs from Chat Message ==='",props:{style:{color:"#A5D6FF"}}},{content:");",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        const ",props:{style:{color:"#FF7B72"}}},{content:"messageUrls ",props:{style:{color:"#79C0FF"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:" chatMessage.",props:{style:{color:"#C9D1D9"}}},{content:"match",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"/https",props:{style:{color:"#A5D6FF"}}},{content:"?",props:{style:{color:"#FF7B72"}}},{content:":",props:{style:{color:"#A5D6FF"}}},{content:"\\/\\/",props:{style:{color:"#7EE787",fontWeight:"bold"}}},{content:"[",props:{style:{color:"#79C0FF"}}},{content:"^",props:{style:{color:"#FF7B72"}}},{content:"\\s\"')",props:{style:{color:"#79C0FF"}}},{content:"\\]",props:{style:{color:"#7EE787",fontWeight:"bold"}}},{content:"]",props:{style:{color:"#79C0FF"}}},{content:"+",props:{style:{color:"#FF7B72"}}},{content:"/",props:{style:{color:"#A5D6FF"}}},{content:"g",props:{style:{color:"#FF7B72"}}},{content:") ",props:{style:{color:"#C9D1D9"}}},{content:"||",props:{style:{color:"#FF7B72"}}},{content:" [];",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        const ",props:{style:{color:"#FF7B72"}}},{content:"cleanMessageUrls ",props:{style:{color:"#79C0FF"}}},{content:"=",props:{style:{color:"#FF7B72"}}},{content:" [",props:{style:{color:"#C9D1D9"}}},{content:"...new ",props:{style:{color:"#FF7B72"}}},{content:"Set",props:{style:{color:"#D2A8FF"}}},{content:"(messageUrls)].",props:{style:{color:"#C9D1D9"}}},{content:"map",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"url ",props:{style:{color:"#FFA657"}}},{content:"=>",props:{style:{color:"#FF7B72"}}},{content:" url.",props:{style:{color:"#C9D1D9"}}},{content:"trim",props:{style:{color:"#D2A8FF"}}},{content:"());",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        console.",props:{style:{color:"#C9D1D9"}}},{content:"log",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'URLs from message:'",props:{style:{color:"#A5D6FF"}}},{content:");",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        cleanMessageUrls.",props:{style:{color:"#C9D1D9"}}},{content:"slice",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"0",props:{style:{color:"#79C0FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:"3",props:{style:{color:"#79C0FF"}}},{content:").",props:{style:{color:"#C9D1D9"}}},{content:"forEach",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"url ",props:{style:{color:"#FFA657"}}},{content:"=>",props:{style:{color:"#FF7B72"}}},{content:" console.",props:{style:{color:"#C9D1D9"}}},{content:"log",props:{style:{color:"#D2A8FF"}}},{content:"(url));",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    } ",props:{style:{color:"#C9D1D9"}}},{content:"catch",props:{style:{color:"#FF7B72"}}},{content:" (error) {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        console.",props:{style:{color:"#C9D1D9"}}},{content:"error",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'Error running flow:'",props:{style:{color:"#A5D6FF"}}},{content:", error);",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        // Provide error messages",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"        if",props:{style:{color:"#FF7B72"}}},{content:" (error ",props:{style:{color:"#C9D1D9"}}},{content:"instanceof ",props:{style:{color:"#FF7B72"}}},{content:"Error",props:{style:{color:"#FFA657"}}},{content:") {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            if",props:{style:{color:"#FF7B72"}}},{content:" (error.message.",props:{style:{color:"#C9D1D9"}}},{content:"includes",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'fetch'",props:{style:{color:"#A5D6FF"}}},{content:")) {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"                console.",props:{style:{color:"#C9D1D9"}}},{content:"error",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'",props:{style:{color:"#A5D6FF"}}},{content:"\\n",props:{style:{color:"#79C0FF"}}},{content:"Make sure your Langflow server is running and accessible at:'",props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:"LANGFLOW_SERVER_ADDRESS",props:{style:{color:"#79C0FF"}}},{content:");",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            if",props:{style:{color:"#FF7B72"}}},{content:" (error.message.",props:{style:{color:"#C9D1D9"}}},{content:"includes",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'401'",props:{style:{color:"#A5D6FF"}}},{content:") ",props:{style:{color:"#C9D1D9"}}},{content:"||",props:{style:{color:"#FF7B72"}}},{content:" error.message.",props:{style:{color:"#C9D1D9"}}},{content:"includes",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'403'",props:{style:{color:"#A5D6FF"}}},{content:")) {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"                console.",props:{style:{color:"#C9D1D9"}}},{content:"error",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'",props:{style:{color:"#A5D6FF"}}},{content:"\\n",props:{style:{color:"#79C0FF"}}},{content:"Check your API key configuration'",props:{style:{color:"#A5D6FF"}}},{content:");",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            if",props:{style:{color:"#FF7B72"}}},{content:" (error.message.",props:{style:{color:"#C9D1D9"}}},{content:"includes",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'404'",props:{style:{color:"#A5D6FF"}}},{content:")) {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"                console.",props:{style:{color:"#C9D1D9"}}},{content:"error",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'",props:{style:{color:"#A5D6FF"}}},{content:"\\n",props:{style:{color:"#79C0FF"}}},{content:"Check your Flow ID - make sure it exists and is correct'",props:{style:{color:"#A5D6FF"}}},{content:");",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"            }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"        }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"}",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"// Run the function",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"console.",props:{style:{color:"#C9D1D9"}}},{content:"log",props:{style:{color:"#D2A8FF"}}},{content:"(",props:{style:{color:"#C9D1D9"}}},{content:"'Starting Langflow Agent...",props:{style:{color:"#A5D6FF"}}},{content:"\\n",props:{style:{color:"#79C0FF"}}},{content:"'",props:{style:{color:"#A5D6FF"}}},{content:");",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"runAgentFlow",props:{style:{color:"#D2A8FF"}}},{content:"().",props:{style:{color:"#C9D1D9"}}},{content:"catch",props:{style:{color:"#D2A8FF"}}},{content:"(console.error);",props:{style:{color:"#C9D1D9"}}}]}],lang:"js"},annotations:[]}]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Save and run the script to send the request and test the flow."}),"\n",(0,s.jsx)(e.p,{children:"Your application receives three URLs for recommended used items based on a customer's previous orders in your local CSV, all without changing any code."}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:"Result"}),(0,s.jsx)(e.p,{children:"The following is an example response from this tutorial's flow. Due to the nature of LLMs and variations in your inputs, your response might be different."}),(0,s.jsx)(d.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"Starting Langflow Agent...",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"Connecting to Langflow server at: http://localhost:7860",props:{}}]},{tokens:[{content:"Flow ID: local-db-search",props:{}}]},{tokens:[{content:"Email: isabella.rodriguez@example.com",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"Sending request to agent...",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"=== Response from Langflow ===",props:{}}]},{tokens:[{content:"Session ID: isabella.rodriguez@example.com",props:{}}]},{tokens:[{content:"",props:{}}]},{tokens:[{content:"URLs found:",props:{}}]},{tokens:[{content:"https://www.facebook.com/marketplace/258164108225783/electronics/",props:{}}]},{tokens:[{content:"https://www.facebook.com/marketplace/458332108944152/furniture/",props:{}}]},{tokens:[{content:"https://www.facebook.com/marketplace/613732137493719/kitchen-cabinets/",props:{}}]}],lang:"text"},annotations:[]}]})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["To quickly check traffic to your flow, open the ",(0,s.jsx)(e.strong,{children:"Playground"}),".\nNew sessions are named after the user's email address.\nKeeping sessions distinct helps the agent maintain context. For more on session IDs, see ",(0,s.jsx)(e.a,{href:"/session-id",children:"Session ID"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,s.jsx)(e.p,{children:"For more information on building or extending this tutorial, see the following:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"/mcp-server",children:"Model Context Protocol (MCP) servers"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"/deployment-overview",children:"Langflow deployment overview"})}),"\n"]})]})}function D(o={}){const{wrapper:e}={...(0,r.R)(),...o.components};return e?(0,s.jsx)(e,{...o,children:(0,s.jsx)(y,{...o})}):y(o)}function F(o,e){throw new Error("Expected "+(e?"component":"object")+" `"+o+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);